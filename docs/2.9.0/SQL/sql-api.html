<!DOCTYPE html>

      
      
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-61232409-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-61232409-1');
    </script>

    

    <meta charset="UTF-8">
    <meta name="ignite-version" content="2.9.0" />
    <title>SQL API | Ignite Documentation</title>
    
    <link rel="canonical" href="/docs/latest/SQL/sql-api" />
    
	
	<link rel="stylesheet" href="/assets/css/styles.css?1600372551">
    <link rel="stylesheet" href="/assets/css/asciidoc-pygments.css">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name='viewport' content='width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0'>

	<script type="text/javascript" src="/assets/js/anchor.min.js?1600372551"></script>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


</head>
<body>
    <header>
    <div class="container">
        <button type='button' class='menu' title='Docs menu'>
        <img src="/assets/images/menu-icon.svg"/>
        </button>
        <div class='home'>
            <a href="/" class='home' title='Apache Ignite home'>
                <img src="/assets/images/apache_ignite_logo.svg" alt="Apache Ignite logo" width="103" >
            </a>
        </div>
        
        <nav>
            
        </nav>
        
        <select id="version-selector">
            <option value="2.9.0">2.9.0</option>
        </select>
        
        <a href="https://github.com/apache/ignite" title='GitHub' class='github' target="_blank">
            <img src="/assets/images/github-gray.svg" alt="GitHub logo">
        </a>
        
        <form class='search'>
            <button class="search-close" type='button'><img src='/assets/images/cancel.svg'></button>
            <input type="search" placeholder="Search…" id="search-input">
        </form>
        <button type='button' class='search-toggle'><img src='/assets/images/search.svg'></button>
        <button type='button' class='top-nav-toggle'>⋮</button>

        
        
    </div>
</header>


    	 <link rel="stylesheet" href="/assets/css/docs.css">
<section class='page-docs'>
    



<nav class='left-nav' data-swiftype-index='false'>

      
        <li>
            

            <a href="/docs/latest/preface" class='' >Preface</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Quick Start Guides<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/java"

                                class=''
                            >Java</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/dotnet"

                                class=''
                            >.NET/C#</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/cpp"

                                class=''
                            >C++</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/python"

                                class=''
                            >Python</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/nodejs"

                                class=''
                            >Node.JS</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/sql"

                                class=''
                            >SQL</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/php"

                                class=''
                            >PHP</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/quick-start/restapi"

                                class=''
                            >REST API</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="/installation" class='group-toggle collapsed '>Installation<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/installation/installing-using-zip"

                                class=''
                            >Installing Using ZIP Archive</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/installation/installing-using-docker"

                                class=''
                            >Installing Using Docker</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/installation/deb-rpm"

                                class=''
                            >Installing DEB or RPM package</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Kubernetes<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//installation/kubernetes/amazon-eks-deployment" class=''>Amazon EKS</a></li>
                            
                                  

								  <li><a href="/docs/latest//installation/kubernetes/azure-deployment" class=''>Azure Kubernetes Service</a></li>
                            
                                  

								  <li><a href="/docs/latest//installation/kubernetes/gke-deployment" class=''>Google Kubernetes Engine</a></li>
                            
                            </nav>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Setting Up<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/setup"

                                class=''
                            >Setting Up Ignite for Java</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/setup-dotnet"

                                class=''
                            >Setting Up Ignite for .NET/C#</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/understanding-configuration" class='' >Understanding Configuration</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/logging" class='' >Configuring Logging</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/starting-nodes" class='' >Starting and Stopping Nodes</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Clustering<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/clustering"

                                class=''
                            >Overview</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/tcp-ip-discovery"

                                class=''
                            >TCP/IP Discovery</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/zookeeper-discovery"

                                class=''
                            >ZooKeeper Discovery</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/discovery-in-the-cloud"

                                class=''
                            >Discovery in the Cloud</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/network-configuration"

                                class=''
                            >Network Configuration</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/connect-client-nodes"

                                class=''
                            >Connecting Client Nodes</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/clustering/running-client-nodes-behind-nat"

                                class=''
                            >Running Client Nodes Behind NAT</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Data Modeling<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-modeling/data-modeling"

                                class=''
                            >Introduction</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-modeling/data-partitioning"

                                class=''
                            >Data Partitioning</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-modeling/affinity-collocation"

                                class=''
                            >Affinity Colocation</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Configuring Memory<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/memory-architecture"

                                class=''
                            >Memory Architecture</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/memory-configuration/data-regions"

                                class=''
                            >Configuring Data Regions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/memory-configuration/eviction-policies"

                                class=''
                            >Eviction Policies</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Configuring Caches<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/configuration-overview"

                                class=''
                            >Cache Configuration</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/configuring-backups"

                                class=''
                            >Configuring Partition Backups</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/atomicity-modes"

                                class=''
                            >Atomicity Modes</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/expiry-policies"

                                class=''
                            >Expiry Policy</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/on-heap-caching"

                                class=''
                            >On-Heap Caching</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/configuring-caches/cache-groups"

                                class=''
                            >Cache Groups</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Persistence<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/native-persistence"

                                class=''
                            >Ignite Persistence</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/external-storage"

                                class=''
                            >External Storage</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/swap"

                                class=''
                            >Swapping</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/custom-cache-store"

                                class=''
                            >Implementing Custom Cache Store</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/snapshots"

                                class=''
                            >Cluster Snapshots</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/disk-compression"

                                class=''
                            >Disk Compression</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/persistence/persistence-tuning"

                                class=''
                            >Tuning Persistence</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/baseline-topology" class='' >Baseline Topology</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/cluster-states" class='' >Cluster States</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/data-rebalancing" class='' >Data Rebalancing</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/partition-loss-policy" class='' >Partition Loss Policy</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/deploying-user-code" class='' >Deploying User Code</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/peer-class-loading" class='' >Peer Class Loading</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/data-streaming" class='' >Data Streaming</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Using Key-Value Cache API<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/key-value-api/basic-cache-operations"

                                class=''
                            >Basic Cache Operations</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/key-value-api/binary-objects"

                                class=''
                            >Working with Binary Objects</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/key-value-api/using-scan-queries"

                                class=''
                            >Using Scan Queries</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/read-repair"

                                class=''
                            >Read Repair</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/key-value-api/continuous-queries" class='' >Using Continuous Queries</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/key-value-api/transactions" class='' >Performing Transactions</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Working with SQL<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/sql-introduction"

                                class=''
                            >Introduction</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/schemas"

                                class=''
                            >Understanding Schemas</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/indexes"

                                class=''
                            >Defining Indexes</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/sql-api"

                                class=''
                            >Using SQL API</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/distributed-joins"

                                class=''
                            >Distributed Joins</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/sql-transactions"

                                class=''
                            >SQL Transactions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/custom-sql-func"

                                class=''
                            >Custom SQL Functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/JDBC/jdbc-driver"

                                class=''
                            >JDBC Driver</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/JDBC/jdbc-client-driver"

                                class=''
                            >JDBC Client Driver</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/transactions/mvcc"

                                class=''
                            >Multiversion Concurrency Control</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Distributed Computing<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/distributed-computing"

                                class=''
                            >Distributed Computing API</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/cluster-groups"

                                class=''
                            >Cluster Groups</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/executor-service"

                                class=''
                            >Executor Service</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/map-reduce"

                                class=''
                            >MapReduce API</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/load-balancing"

                                class=''
                            >Load Balancing</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/fault-tolerance"

                                class=''
                            >Fault Tolerance</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/distributed-computing/job-scheduling"

                                class=''
                            >Job Scheduling</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/collocated-computations" class='' >Colocating Computations with Data</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Working with Events<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/events/listening-to-events"

                                class=''
                            >Enabling and Listenting to Events</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/events/events"

                                class=''
                            >Events</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/near-cache" class='' >Near Caches</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/platform-cache" class='' >.NET Platform Cache</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/services/services" class='' >Services</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Distributed Data Structures<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-structures/queue-and-set"

                                class=''
                            >Queue and Set</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-structures/atomic-types"

                                class=''
                            >Atomic Types</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-structures/countdownlatch"

                                class=''
                            >CountDownLatch</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-structures/atomic-sequence"

                                class=''
                            >Atomic Sequence</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/data-structures/semaphore"

                                class=''
                            >Semaphore</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Machine Learning<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/machine-learning"

                                class=''
                            >Machine Learning</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/partition-based-dataset"

                                class=''
                            >Partition Based Dataset</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/updating-trained-models"

                                class=''
                            >Updating Trained Models</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Binary Classification<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/introduction" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/linear-svm" class=''>Linear SVM (Support Vector Machine)</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/decision-trees" class=''>Decision Trees</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/multilayer-perceptron" class=''>Multilayer Perceptron</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/logistic-regression" class=''>Logistic Regression</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/knn-classification" class=''>k-NN Classification</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/ann" class=''>ANN (Approximate Nearest Neighbor)</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/binary-classification/naive-bayes" class=''>Naive Bayes</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Regression<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/regression/introduction" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/regression/linear-regression" class=''>Linear Regression</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/regression/decision-trees-regression" class=''>Decision Trees Regression</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/regression/knn-regression" class=''>k-NN Regression</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Clustering<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/clustering/introduction" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/clustering/k-means-clustering" class=''>K-Means Clustering</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/clustering/gaussian-mixture" class=''>Gaussian mixture (GMM)</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/preprocessing"

                                class=''
                            >Preprocessing</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Model Selection<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/model-selection/introduction" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/model-selection/evaluator" class=''>Evaluator</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/model-selection/split-the-dataset-on-test-and-train-datasets" class=''>Split the dataset on test and train datasets</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/model-selection/hyper-parameter-tuning" class=''>Hyper-parameter tuning</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/model-selection/pipeline-api" class=''>Pipeline API</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/multiclass-classification"

                                class=''
                            >Multiclass Classification</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Ensemble Methods<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/ensemble-methods/introduction" class=''></a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/ensemble-methods/stacking" class=''>Stacking</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/ensemble-methods/baggin" class=''>Bagging</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/ensemble-methods/random-forest" class=''>Random Forest</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/ensemble-methods/gradient-boosting" class=''>Gradient Boosting</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/machine-learning/recommendation-systems"

                                class=''
                            >Recommendation Systems</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Importing Model<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//machine-learning/importing-model/introduction" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/importing-model/model-import-from-gxboost" class=''>Import Model from XGBoost</a></li>
                            
                                  

								  <li><a href="/docs/latest//machine-learning/importing-model/model-import-from-apache-spark" class=''>Import Model from Apache Spark</a></li>
                            
                            </nav>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Monitoring<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/monitoring-metrics/intro"

                                class=''
                            >Introduction</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/monitoring-metrics/cluster-id"

                                class=''
                            >Cluster ID and Tag</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Metrics<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//monitoring-metrics/configuring-metrics" class=''>Configuring Metrics</a></li>
                            
                                  

								  <li><a href="/docs/latest//monitoring-metrics/metrics" class=''>JMX Metrics</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>New Metrics System<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//monitoring-metrics/new-metrics-system" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//monitoring-metrics/new-metrics" class=''>Metrics</a></li>
                            
                            </nav>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/monitoring-metrics/system-views"

                                class=''
                            >System Views</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/monitoring-metrics/tracing"

                                class=''
                            >Tracing</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="/security" class='group-toggle collapsed '>Security<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/security/authentication"

                                class=''
                            >Authentication</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/security/ssl-tls"

                                class=''
                            >SSL/TLS</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Transparent Data Encryption<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//security/tde" class=''>Introduction</a></li>
                            
                                  

								  <li><a href="/docs/latest//security/master-key-rotation" class=''>Master key rotation</a></li>
                            
                            </nav>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Thin Clients<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/getting-started-with-thin-clients"

                                class=''
                            >Thin Clients Overview</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/java-thin-client"

                                class=''
                            >Java Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/dotnet-thin-client"

                                class=''
                            >.NET Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/cpp-thin-client"

                                class=''
                            >C++ Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/python-thin-client"

                                class=''
                            >Python Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/php-thin-client"

                                class=''
                            >PHP Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/thin-clients/nodejs-thin-client"

                                class=''
                            >Node.js Thin Client</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            
                            
                            <button
                                type='button'
                                class='collapsed '>Binary Client Protocol<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
                            <nav class="sub_pages collapsed">

                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/binary-client-protocol" class=''>Binary Client Protocol</a></li>
                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/data-format" class=''>Data Format</a></li>
                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/key-value-queries" class=''>Key-Value Queries</a></li>
                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/sql-and-scan-queries" class=''>SQL and Scan Queries</a></li>
                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/binary-type-metadata" class=''>Binary Types Metadata</a></li>
                            
                                  

								  <li><a href="/docs/latest//binary-client-protocol/cache-configuration" class=''>Cache Configuration</a></li>
                            
                            </nav>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>ODBC Driver<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/odbc-driver"

                                class=''
                            >ODBC Driver</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/connection-string-dsn"

                                class=''
                            >Connection String and DSN</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/querying-modifying-data"

                                class=''
                            >Querying and Modifying Data</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/specification"

                                class=''
                            >Specification</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/data-types"

                                class=''
                            >Data Types</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/SQL/ODBC/error-codes"

                                class=''
                            >Error Codes</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            <a href="/docs/latest/restapi" class='' >REST API</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/control-script" class='' >Control Script</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/plugins" class='' >Plugins</a>
            
        </li>
    
        <li>
            

            <a href="/docs/latest/sqlline" class='' >SQLLine</a>
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="" class='group-toggle collapsed '>Ignite for Spark<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/overview"

                                class=''
                            >Overview</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/ignitecontext-and-rdd"

                                class=''
                            >IgniteContext and IgniteRDD</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/ignite-dataframe"

                                class=''
                            >Ignite DataFrame</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/installation"

                                class=''
                            >Installation</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/spark-shell"

                                class=''
                            >Test Ignite with Spark-shell</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/ignite-for-spark/troubleshooting"

                                class=''
                            >Troubleshooting</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
        <li>
            

            

            

			<button type='button' data-guide-url="/sql-reference/sql-reference-overview" class='group-toggle collapsed '>SQL Reference<img class="state-indicator" src="/assets/images/left-nav-arrow.svg"></button>
             <nav class='nav-group collapsed'>
            
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/sql-conformance"

                                class=''
                            >SQL Conformance</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/ddl"

                                class=''
                            >Data Definition Language (DDL)</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/dml"

                                class=''
                            >Data Manipulation Language (DML)</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/transactions"

                                class=''
                            >Transactions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/operational-commands"

                                class=''
                            >Operational Commands</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/aggregate-functions"

                                class=''
                            >Aggregate functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/numeric-functions"

                                class=''
                            >Numeric Functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/string-functions"

                                class=''
                            >String Functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/date-time-functions"

                                class=''
                            >Data and Time Functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/system-functions"

                                class=''
                            >System Functions</a>
                        
                    </li>
                

                    
                    

                    <li> 
                        
                            <a href="/docs/latest/sql-reference/data-types"

                                class=''
                            >Data Types</a>
                        
                    </li>
                
              
                     
             </nav>   
            
        </li>
    
</nav>
<div class="left-nav__overlay"></div>


    <article data-swiftype-index='true'>
      <a class='edit-link' href="https://github.com/apache/ignite/tree/IGNITE-7595/docs/_docs/SQL/sql-api.adoc" target="_blank">Edit</a>
        
            <h1>SQL API</h1>
        
        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In addition to using the JDBC driver, Java developers can use Ignite&#8217;s SQL APIs to query and modify data stored in Ignite.</p>
</div>
<div class="paragraph">
<p>The <code>SqlFieldsQuery</code> class is an interface for executing SQL statements and navigating through the results. <code>SqlFieldsQuery</code> is executed through the <code>IgniteCache.query(SqlFieldsQuery)</code> method, which returns a query cursor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-queryable-fields">Configuring Queryable Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to query a cache using SQL statements, you need to define which fields of the value objects are queryable. Queryable fields are the fields of your data model that the SQL engine can "see" and query.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you create tables using JDBC or SQL tools, you do not need to define queryable fields.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Indexing capabilities are provided by the 'ignite-indexing' module. If you start Ignite from java code, <a href="/docs/latest/setup#enabling-modules">add this module to the classpath of your application</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In Java, queryable fields can be configured in two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>using annotations</p>
</li>
<li>
<p>by defining query entities</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="querysqlfield-annotation">@QuerySqlField Annotation</h3>
<div class="paragraph">
<p>To make specific fields queryable, annotate the fields in the value class definition with the <code>@QuerySqlField</code> annotation and call <code>CacheConfiguration.setIndexedTypes(&#8230;&#8203;)</code>.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
    <span class="cm">/** Indexed field. Will be visible to the SQL engine. */</span>
    <span class="nd">@QuerySqlField</span><span class="o">(</span><span class="n">index</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">id</span><span class="o">;</span>

    <span class="cm">/** Queryable field. Will be visible to the SQL engine. */</span>
    <span class="nd">@QuerySqlField</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="cm">/** Will NOT be visible to the SQL engine. */</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="cm">/**
     * Indexed field sorted in descending order. Will be visible to the SQL engine.
     */</span>
    <span class="nd">@QuerySqlField</span><span class="o">(</span><span class="n">index</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">descending</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kt">float</span> <span class="n">salary</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Ignite</span> <span class="n">ignite</span> <span class="o">=</span> <span class="nc">Ignition</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="nc">CacheConfiguration</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">personCacheCfg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CacheConfiguration</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;();</span>
    <span class="n">personCacheCfg</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Person"</span><span class="o">);</span>

    <span class="n">personCacheCfg</span><span class="o">.</span><span class="na">setIndexedTypes</span><span class="o">(</span><span class="nc">Long</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Person</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">createCache</span><span class="o">(</span><span class="n">personCacheCfg</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure to call <code>CacheConfiguration.setIndexedTypes(&#8230;&#8203;)</code> to let the SQL engine know about the annotated fields.</p>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="c1">// Indexed field. Will be visible to the SQL engine.</span>
    <span class="p">[</span><span class="nf">QuerySqlField</span><span class="p">(</span><span class="n">IsIndexed</span> <span class="p">=</span> <span class="k">true</span><span class="p">)]</span> <span class="k">public</span> <span class="kt">long</span> <span class="n">Id</span><span class="p">;</span>

    <span class="c1">//Queryable field. Will be visible to the SQL engine</span>
    <span class="p">[</span><span class="n">QuerySqlField</span><span class="p">]</span> <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span><span class="p">;</span>

    <span class="c1">//Will NOT be visible to the SQL engine.</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span><span class="p">;</span>

    <span class="cm">/**
      * Indexed field sorted in descending order.
      * Will be visible to the SQL engine.
    */</span>
    <span class="p">[</span><span class="nf">QuerySqlField</span><span class="p">(</span><span class="n">IsIndexed</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">IsDescending</span> <span class="p">=</span> <span class="k">true</span><span class="p">)]</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Salary</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SqlQueryFieldDemo</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">cacheCfg</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CacheConfiguration</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"cacheName"</span><span class="p">,</span>
        <span class="n">QueryEntities</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span>
        <span class="p">{</span>
            <span class="k">new</span> <span class="nf">QueryEntity</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="k">typeof</span><span class="p">(</span><span class="n">Person</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="kt">var</span> <span class="n">ignite</span> <span class="p">=</span> <span class="n">Ignition</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">cache</span> <span class="p">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">CreateCache</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">Person</span><span class="p">&gt;(</span><span class="n">cacheCfg</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++' data-unavailable='true'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>This API is not presently available for C++.</code></pre>
</div>
</div></code-tab></code-tabs>
</div>
<div class="sect2">
<h3 id="query-entities">Query Entities</h3>
<div class="paragraph">
<p>You can define queryable fields using the <code>QueryEntity</code> class. Query entities can be configured via XML configuration.</p>
</div>
<code-tabs><code-tab data-tab='XML'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.apache.ignite.configuration.IgniteConfiguration"</span> <span class="na">id=</span><span class="s">"ignite.cfg"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cacheConfiguration"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.apache.ignite.configuration.CacheConfiguration"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Person"</span><span class="nt">/&gt;</span>
            <span class="c">&lt;!-- Configure query entities --&gt;</span>
            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"queryEntities"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;list&gt;</span>
                    <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.apache.ignite.cache.QueryEntity"</span><span class="nt">&gt;</span>
                        <span class="c">&lt;!-- Setting  the type of the key --&gt;</span>
                        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"keyType"</span> <span class="na">value=</span><span class="s">"java.lang.Long"</span><span class="nt">/&gt;</span>

                        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"keyFieldName"</span> <span class="na">value=</span><span class="s">"id"</span><span class="nt">/&gt;</span>

                        <span class="c">&lt;!-- Setting type of the value --&gt;</span>
                        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"valueType"</span> <span class="na">value=</span><span class="s">"org.apache.ignite.examples.Person"</span><span class="nt">/&gt;</span>

                        <span class="c">&lt;!-- Defining fields that will be either indexed or queryable.
                             Indexed fields are added to the 'indexes' list below.--&gt;</span>
                        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"fields"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;map&gt;</span>
                                <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"java.lang.Long"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"java.lang.String"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"salary"</span> <span class="na">value=</span><span class="s">"java.lang.Float "</span><span class="nt">/&gt;</span>
                            <span class="nt">&lt;/map&gt;</span>
                        <span class="nt">&lt;/property&gt;</span>
                        <span class="c">&lt;!-- Defining indexed fields.--&gt;</span>
                        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"indexes"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;list&gt;</span>
                                <span class="c">&lt;!-- Single field (aka. column) index --&gt;</span>
                                <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.apache.ignite.cache.QueryIndex"</span><span class="nt">&gt;</span>
                                    <span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;/bean&gt;</span>
                                <span class="c">&lt;!-- Group index. --&gt;</span>
                                <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.apache.ignite.cache.QueryIndex"</span><span class="nt">&gt;</span>
                                    <span class="nt">&lt;constructor-arg&gt;</span>
                                        <span class="nt">&lt;list&gt;</span>
                                            <span class="nt">&lt;value&gt;</span>id<span class="nt">&lt;/value&gt;</span>
                                            <span class="nt">&lt;value&gt;</span>salary<span class="nt">&lt;/value&gt;</span>
                                        <span class="nt">&lt;/list&gt;</span>
                                    <span class="nt">&lt;/constructor-arg&gt;</span>
                                    <span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"SORTED"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;/bean&gt;</span>
                            <span class="nt">&lt;/list&gt;</span>
                        <span class="nt">&lt;/property&gt;</span>
                    <span class="nt">&lt;/bean&gt;</span>
                <span class="nt">&lt;/list&gt;</span>
            <span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;/bean&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kt">float</span> <span class="n">salary</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Ignite</span> <span class="n">ignite</span> <span class="o">=</span> <span class="nc">Ignition</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="nc">CacheConfiguration</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">personCacheCfg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CacheConfiguration</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;();</span>
    <span class="n">personCacheCfg</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Person"</span><span class="o">);</span>

    <span class="nc">QueryEntity</span> <span class="n">queryEntity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QueryEntity</span><span class="o">(</span><span class="nc">Long</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Person</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">.</span><span class="na">addQueryField</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="nc">Long</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="kc">null</span><span class="o">).</span><span class="na">addQueryField</span><span class="o">(</span><span class="s">"age"</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="kc">null</span><span class="o">)</span>
            <span class="o">.</span><span class="na">addQueryField</span><span class="o">(</span><span class="s">"salary"</span><span class="o">,</span> <span class="nc">Float</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="kc">null</span><span class="o">)</span>
            <span class="o">.</span><span class="na">addQueryField</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="kc">null</span><span class="o">);</span>

    <span class="n">queryEntity</span><span class="o">.</span><span class="na">setIndexes</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="k">new</span> <span class="nc">QueryIndex</span><span class="o">(</span><span class="s">"id"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">QueryIndex</span><span class="o">(</span><span class="s">"salary"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)));</span>

    <span class="n">personCacheCfg</span><span class="o">.</span><span class="na">setQueryEntities</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">queryEntity</span><span class="o">));</span>

    <span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">createCache</span><span class="o">(</span><span class="n">personCacheCfg</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">private</span> <span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">long</span> <span class="n">Id</span><span class="p">;</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span><span class="p">;</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span><span class="p">;</span>

    <span class="k">public</span> <span class="kt">float</span> <span class="n">Salary</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">QueryEntitiesDemo</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">personCacheCfg</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CacheConfiguration</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Person"</span><span class="p">,</span>
        <span class="n">QueryEntities</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span>
        <span class="p">{</span>
            <span class="k">new</span> <span class="n">QueryEntity</span>
            <span class="p">{</span>
                <span class="n">KeyType</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">long</span><span class="p">),</span>
                <span class="n">ValueType</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">Person</span><span class="p">),</span>
                <span class="n">Fields</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span>
                <span class="p">{</span>
                    <span class="k">new</span> <span class="nf">QueryField</span><span class="p">(</span><span class="s">"Id"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">long</span><span class="p">)),</span>
                    <span class="k">new</span> <span class="nf">QueryField</span><span class="p">(</span><span class="s">"Name"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">string</span><span class="p">)),</span>
                    <span class="k">new</span> <span class="nf">QueryField</span><span class="p">(</span><span class="s">"Age"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)),</span>
                    <span class="k">new</span> <span class="nf">QueryField</span><span class="p">(</span><span class="s">"Salary"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">float</span><span class="p">))</span>
                <span class="p">},</span>
                <span class="n">Indexes</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span>
                <span class="p">{</span>
                    <span class="k">new</span> <span class="nf">QueryIndex</span><span class="p">(</span><span class="s">"Id"</span><span class="p">),</span>
                    <span class="k">new</span> <span class="nf">QueryIndex</span><span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="s">"Salary"</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>
    <span class="kt">var</span> <span class="n">ignite</span> <span class="p">=</span> <span class="n">Ignition</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">personCache</span> <span class="p">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">CreateCache</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">Person</span><span class="p">&gt;(</span><span class="n">personCacheCfg</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++' data-unavailable='true'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>This API is not presently available for C++. You can use XML configuration.</code></pre>
</div>
</div></code-tab></code-tabs>
</div>
</div>
</div>
<div class="sect1">
<h2 id="querying">Querying</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To execute a select query on a cache, simply create an object of <code>SqlFieldsQuery</code> providing the query string to the constructor and run <code>cache.query(&#8230;&#8203;)</code>.
Note that in the following example, the Person cache must be configured to be <a href="#configuring-queryable-fields">visible to the SQL engine</a>.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">cache</span><span class="o">(</span><span class="s">"Person"</span><span class="o">);</span>

<span class="nc">SqlFieldsQuery</span> <span class="n">sql</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span>
        <span class="s">"select concat(firstName, ' ', lastName) from Person"</span><span class="o">);</span>

<span class="c1">// Iterate over the result set.</span>
<span class="k">try</span> <span class="o">(</span><span class="nc">QueryCursor</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;?&gt;&gt;</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">sql</span><span class="o">))</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;?&gt;</span> <span class="n">row</span> <span class="o">:</span> <span class="n">cursor</span><span class="o">)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"personName="</span> <span class="o">+</span> <span class="n">row</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="o">}</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="kt">var</span> <span class="n">cache</span> <span class="p">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">GetCache</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="n">Person</span><span class="p">&gt;(</span><span class="s">"Person"</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">sql</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select concat(FirstName, ' ', LastName) from Person"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cursor</span> <span class="p">=</span> <span class="n">cache</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="n">sql</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">row</span> <span class="k">in</span> <span class="n">cursor</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"personName="</span> <span class="p">+</span> <span class="n">row</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="n">Cache</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="p">,</span> <span class="n">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">GetOrCreateCache</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="p">,</span> <span class="n">Person</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Person"</span><span class="p">);</span>

<span class="c1">// Iterate over the result set.</span>
<span class="c1">// SQL Fields Query can only be performed using fields that have been listed in "QueryEntity" been of the config!</span>
<span class="n">QueryFieldsCursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">cache</span><span class="p">.</span><span class="n">Query</span><span class="p">(</span><span class="n">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select concat(firstName, ' ', lastName) from Person"</span><span class="p">));</span>
<span class="k">while</span> <span class="p">(</span><span class="n">cursor</span><span class="p">.</span><span class="n">HasNext</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"personName="</span> <span class="o">&lt;&lt;</span> <span class="n">cursor</span><span class="p">.</span><span class="n">GetNext</span><span class="p">().</span><span class="n">GetNext</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span></code></pre>
</div>
</div></code-tab></code-tabs>
<div class="paragraph">
<p><code>SqlFieldsQuery</code> returns a cursor that iterates through the results that match the SQL query.</p>
</div>
<div class="sect2">
<h3 id="local-execution">Local Execution</h3>
<div class="paragraph">
<p>To force local execution of a query, use <code>SqlFieldsQuery.setLocal(true)</code>. In this case, the query is executed against the data stored on the node where the query is run. It means that the results of the query are almost always incomplete. Use the local mode only if you are confident you understand this limitation.</p>
</div>
</div>
<div class="sect2">
<h3 id="subqueries-in-where-clause">Subqueries in WHERE Clause</h3>
<div class="paragraph">
<p><code>SELECT</code> queries used in <code>INSERT</code> and <code>MERGE</code> statements as well as <code>SELECT</code> queries generated by <code>UPDATE</code> and <code>DELETE</code> operations are distributed and executed in either <a href="/docs/latest/SQL/distributed-joins">colocated or non-colocated distributed modes</a>.</p>
</div>
<div class="paragraph">
<p>However, if there is a subquery that is executed as part of a <code>WHERE</code> clause, then it can be executed in the colocated mode only.</p>
</div>
<div class="paragraph">
<p>For instance, let&#8217;s consider the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sql"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">Person</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="k">IN</span>
    <span class="p">(</span><span class="k">SELECT</span> <span class="n">personId</span> <span class="k">FROM</span> <span class="n">Salary</span> <span class="n">s</span> <span class="k">WHERE</span> <span class="n">s</span><span class="p">.</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The SQL engine generates the <code>SELECT</code> query in order to get a list of entries to be deleted. The query is distributed and executed across the cluster and looks like the one below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sql"><span class="k">SELECT</span> <span class="n">_key</span><span class="p">,</span> <span class="n">_val</span> <span class="k">FROM</span> <span class="n">Person</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="k">IN</span>
    <span class="p">(</span><span class="k">SELECT</span> <span class="n">personId</span> <span class="k">FROM</span> <span class="n">Salary</span> <span class="n">s</span> <span class="k">WHERE</span> <span class="n">s</span><span class="p">.</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>However, the subquery from the <code>IN</code> clause (<code>SELECT personId FROM Salary &#8230;&#8203;</code>) is not distributed further and is executed over the local data set available on the node.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inserting-updating-deleting-and-merging">Inserting, Updating, Deleting, and Merging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With <code>SqlFieldsQuery</code> you can execute the other DML commands in order to modify the data:</p>
</div>
<code-tabs><code-tab data-tab='INSERT'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">cache</span><span class="o">(</span><span class="s">"personCache"</span><span class="o">);</span>

<span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span>
        <span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="o">(</span><span class="s">"INSERT INTO Person(id, firstName, lastName) VALUES(?, ?, ?)"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setArgs</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="s">"John"</span><span class="o">,</span> <span class="s">"Smith"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">getAll</span><span class="o">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='UPDATE'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">cache</span><span class="o">(</span><span class="s">"personCache"</span><span class="o">);</span>

<span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"UPDATE Person set lastName = ? "</span> <span class="o">+</span> <span class="s">"WHERE id &gt;= ?"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setArgs</span><span class="o">(</span><span class="s">"Jones"</span><span class="o">,</span> <span class="mi">2L</span><span class="o">)).</span><span class="na">getAll</span><span class="o">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='DELETE'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">cache</span><span class="o">(</span><span class="s">"personCache"</span><span class="o">);</span>

<span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"DELETE FROM Person "</span> <span class="o">+</span> <span class="s">"WHERE id &gt;= ?"</span><span class="o">).</span><span class="na">setArgs</span><span class="o">(</span><span class="mi">2L</span><span class="o">))</span>
        <span class="o">.</span><span class="na">getAll</span><span class="o">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='MERGE'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="o">.</span><span class="na">cache</span><span class="o">(</span><span class="s">"personCache"</span><span class="o">);</span>

<span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"MERGE INTO Person(id, firstName, lastName)"</span>
        <span class="o">+</span> <span class="s">" values (1, 'John', 'Smith'), (5, 'Mary', 'Jones')"</span><span class="o">)).</span><span class="na">getAll</span><span class="o">();</span></code></pre>
</div>
</div></code-tab></code-tabs>
<div class="paragraph">
<p>When using <code>SqlFieldsQuery</code> to execute DDL statements, you must call <code>getAll()</code> on the cursor returned from the <code>query(&#8230;&#8203;)</code> method.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specifying-the-schema">Specifying the Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, any SELECT statement executed via <code>SqlFieldsQuery</code> is resolved against the PUBLIC schema. However, if the table you want to query is in a different schema, you can specify the schema by calling <code>SqlFieldsQuery.setSchema(&#8230;&#8203;)</code>. In this case, the statement is executed in the given schema.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">SqlFieldsQuery</span> <span class="n">sql</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"select name from City"</span><span class="o">).</span><span class="na">setSchema</span><span class="o">(</span><span class="s">"PERSON"</span><span class="o">);</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="kt">var</span> <span class="n">sqlFieldsQuery</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select name from City"</span><span class="p">)</span> <span class="p">{</span><span class="n">Schema</span> <span class="p">=</span> <span class="s">"PERSON"</span><span class="p">};</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="c1">// SQL Fields Query can only be performed using fields that have been listed in "QueryEntity" been of the config!</span>
<span class="n">SqlFieldsQuery</span> <span class="n">sql</span> <span class="o">=</span> <span class="n">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select name from City"</span><span class="p">);</span>
<span class="n">sql</span><span class="p">.</span><span class="n">SetSchema</span><span class="p">(</span><span class="s">"PERSON"</span><span class="p">);</span></code></pre>
</div>
</div></code-tab></code-tabs>
<div class="paragraph">
<p>Alternatively, you can define the schema in the statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">SqlFieldsQuery</span> <span class="n">sql</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"select name from Person.City"</span><span class="o">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-tables">Creating Tables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can pass any supported DDL statement to <code>SqlFieldsQuery</code> and execute it on a cache as shown below.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">IgniteCache</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span>
        <span class="o">.</span><span class="na">getOrCreateCache</span><span class="o">(</span><span class="k">new</span> <span class="nc">CacheConfiguration</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Person</span><span class="o">&gt;().</span><span class="na">setName</span><span class="o">(</span><span class="s">"Person"</span><span class="o">));</span>

<span class="c1">// Creating City table.</span>
<span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span>
        <span class="s">"CREATE TABLE City (id int primary key, name varchar, region varchar)"</span><span class="o">)).</span><span class="na">getAll</span><span class="o">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="kt">var</span> <span class="n">cache</span> <span class="p">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">GetOrCreateCache</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="n">Person</span><span class="p">&gt;(</span>
    <span class="k">new</span> <span class="n">CacheConfiguration</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Person"</span>
    <span class="p">}</span>
<span class="p">);</span>

<span class="c1">//Creating City table</span>
<span class="n">cache</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="p">(</span><span class="s">"CREATE TABLE City (id int primary key, name varchar, region varchar)"</span><span class="p">));</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="n">Cache</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="p">,</span> <span class="n">Person</span><span class="o">&gt;</span> <span class="n">cache</span> <span class="o">=</span> <span class="n">ignite</span><span class="p">.</span><span class="n">GetOrCreateCache</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="p">,</span> <span class="n">Person</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"Person"</span><span class="p">);</span>

<span class="c1">// Creating City table.</span>
<span class="n">cache</span><span class="p">.</span><span class="n">Query</span><span class="p">(</span><span class="n">SqlFieldsQuery</span><span class="p">(</span><span class="s">"CREATE TABLE City (id int primary key, name varchar, region varchar)"</span><span class="p">));</span></code></pre>
</div>
</div></code-tab></code-tabs>
<div class="paragraph">
<p>In terms of SQL schema, the following tables are created as a result of executing the code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Table "Person" in the "Person" schema (if it hasn&#8217;t been created before).</p>
</li>
<li>
<p>Table "City" in the "Person" schema.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To query the "City" table, use statements like <code>select * from Person.City</code> or <code>new SqlFieldsQuery("select * from City").setSchema("PERSON")</code> (note the uppercase).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cancelling-queries">Cancelling Queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two ways to cancel long running queries.</p>
</div>
<div class="paragraph">
<p>The first approach is to prevent run away queries by setting a query execution timeout.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">SqlFieldsQuery</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"SELECT * from Person"</span><span class="o">);</span>

<span class="c1">// Setting query execution timeout</span>
<span class="n">query</span><span class="o">.</span><span class="na">setTimeout</span><span class="o">(</span><span class="mi">10_000</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">);</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select * from Person"</span><span class="p">)</span> <span class="p">{</span><span class="n">Timeout</span> <span class="p">=</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="nf">FromSeconds</span><span class="p">(</span><span class="m">10</span><span class="p">)};</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++' data-unavailable='true'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>This API is not presently available for C++.</code></pre>
</div>
</div></code-tab></code-tabs>
<div class="paragraph">
<p>The second approach is to halt the query by using <code>QueryCursor.close()</code>.</p>
</div>
<code-tabs><code-tab data-tab='Java'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">SqlFieldsQuery</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlFieldsQuery</span><span class="o">(</span><span class="s">"SELECT * FROM Person"</span><span class="o">);</span>

<span class="c1">// Executing the query</span>
<span class="nc">QueryCursor</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;?&gt;&gt;</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">query</span><span class="o">);</span>

<span class="c1">// Halting the query that might be still in progress.</span>
<span class="n">cursor</span><span class="o">.</span><span class="na">close</span><span class="o">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C#/.NET'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="kt">var</span> <span class="n">qry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlFieldsQuery</span><span class="p">(</span><span class="s">"select * from Person"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">cursor</span> <span class="p">=</span> <span class="n">cache</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="n">qry</span><span class="p">);</span>

<span class="c1">//Executing query</span>

<span class="c1">//Halting the query that might be still in progress</span>
<span class="n">cursor</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span></code></pre>
</div>
</div></code-tab><code-tab data-tab='C++' data-unavailable='true'><div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>This API is not presently available for C++.</code></pre>
</div>
</div></code-tab></code-tabs>
</div>
</div>
<div class="sect1">
<h2 id="example">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Ignite Community Edition distribution package includes a ready-to-run <code>SqlDmlExample</code> as a part of its <a href="https://github.com/apache/ignite/tree/master/examples/src/main/java/org/apache/ignite/examples/sql/SqlDmlExample.java">source code</a>. This example demonstrates the usage of all the above-mentioned DML operations.</p>
</div>
</div>
</div>
        <div class="copyright">
 © 2020 The Apache Software Foundation.<br/>
Apache, Apache Ignite, the Apache feather and the Apache Ignite logo are either registered trademarks or trademarks of The Apache Software Foundation. 

</div>

    </article>
    <nav class="right-nav" data-swiftype-index='false'>
    <ul class="sectlevel1">
<li><a href="#configuring-queryable-fields">Configuring Queryable Fields</a>
<ul class="sectlevel2">
<li><a href="#querysqlfield-annotation">@QuerySqlField Annotation</a></li>
<li><a href="#query-entities">Query Entities</a></li>
</ul>
</li>
<li><a href="#querying">Querying</a>
<ul class="sectlevel2">
<li><a href="#local-execution">Local Execution</a></li>
<li><a href="#subqueries-in-where-clause">Subqueries in WHERE Clause</a></li>
</ul>
</li>
<li><a href="#inserting-updating-deleting-and-merging">Inserting, Updating, Deleting, and Merging</a></li>
<li><a href="#specifying-the-schema">Specifying the Schema</a></li>
<li><a href="#creating-tables">Creating Tables</a></li>
<li><a href="#cancelling-queries">Cancelling Queries</a></li>
<li><a href="#example">Example</a></li>
</ul>
          
      
<footer>
</footer>

</nav>
    
</section>
<script type='module' src='/assets/js/code-copy-to-clipboard.js' async crossorigin></script>

    <script>
    // inits deep anchors -- needs to be done here because of https://www.bryanbraun.com/anchorjs/#dont-run-it-too-late 
    anchors.add('.page-docs h1, .page-docs h2, .page-docs h3:not(.discrete), .page-docs h4, .page-docs h5');
    anchors.options = {
        placement: 'right',
        visible: 'always'
    };
    </script>
    <!-- load google fonts async -->
    <script type="text/javascript">
    WebFontConfig = {
      google: { families: [ 'Open+Sans:300,400,600,700&display=swap' ] }
    };
    (function() {
      var wf = document.createElement('script');
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
    })(); </script>
    <script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script>
      docsearch({
        // Your apiKey and indexName will be given to you once
        // we create your config
        apiKey: '3eee686c0ebe39eff3baeb18c56fa5f8', 
        indexName: 'apache_ignite',
        // Replace inputSelector with a CSS selector
        // matching your search input
        inputSelector: '#search-input',
        // algoliaOptions: { 'facetFilters': ["version:$VERSION"] },

        // Set debug to true to inspect the dropdown
        debug: false,
      });
    </script>
<script type='module' src='/assets/js/index.js?1600372551' async crossorigin></script>
<script type='module' src='/assets/js/versioning.js?1600372551' async crossorigin></script>
</body>

</html>
