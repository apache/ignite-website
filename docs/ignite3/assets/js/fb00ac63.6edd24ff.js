"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3574],{28453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>a});var t=i(96540);const o={},r=t.createContext(o);function s(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(r.Provider,{value:e},n.children)}},89735:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"installation/migration-from-ai2/index","title":"Migration From Apache Ignite 2","description":"{/*","source":"@site/versioned_docs/version-3.0.0/installation/migration-from-ai2/index.md","sourceDirName":"installation/migration-from-ai2","slug":"/installation/migration-from-ai2/","permalink":"/docs/ignite3/3.0.0/installation/migration-from-ai2/","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","frontMatter":{"title":"Migration From Apache Ignite 2","sidebar_label":"Migration From Apache Ignite 2"},"sidebar":"tutorialSidebar","previous":{"title":"Installing on Kubernetes","permalink":"/docs/ignite3/3.0.0/installation/installing-to-k8s"},"next":{"title":"Getting Started","permalink":"/docs/ignite3/3.0.0/quick-start/getting-started-guide"}}');var o=i(74848),r=i(28453);const s={title:"Migration From Apache Ignite 2",sidebar_label:"Migration From Apache Ignite 2"},a=void 0,c={},l=[{value:"Configuration Migration",id:"configuration-migration",level:2},{value:"Node Configuration",id:"node-configuration",level:3},{value:"Storage Configuration",id:"storage-configuration",level:4},{value:"Client Configuration",id:"client-configuration",level:4},{value:"Network Configuration",id:"network-configuration",level:4},{value:"REST API Configuration",id:"rest-api-configuration",level:4},{value:"Cluster Configuration",id:"cluster-configuration",level:3},{value:"Handling Events",id:"handling-events",level:4},{value:"Metrics Collection",id:"metrics-collection",level:4},{value:"Code Migration",id:"code-migration",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:["\n",(0,o.jsx)(e.p,{children:"This section describes how to configure an Apache Ignite 3 cluster into which you will migrate all the components of your Apache Ignite 2 cluster."}),"\n",(0,o.jsx)(e.h2,{id:"configuration-migration",children:"Configuration Migration"}),"\n",(0,o.jsx)(e.p,{children:"You need to configure the cluster you have created to match the Apache Ignite 2 cluster you are migrating from."}),"\n",(0,o.jsx)(e.p,{children:"While cluster configurations in Apache Ignite 2 are XML beans, in Apache Ignite 3 they are in HOCON format. Moreover, many configuration structures in version 3 are different from those in version 2."}),"\n",(0,o.jsxs)(e.p,{children:['In Apache Ignite 3, the configuration file has a single root "node," called ',(0,o.jsx)(e.code,{children:"ignite"}),". All configuration sections are children, grandchildren, etc., of that node."]}),"\n",(0,o.jsx)(e.admonition,{type:"note",children:(0,o.jsx)(e.p,{children:"In Apache Ignite 3, you can create and maintain the configuration in either JSON or HOCON format."})}),"\n",(0,o.jsx)(e.p,{children:"For example:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n    "ignite" : {\n        "network" : {\n            "nodeFinder" : {\n                "netClusterNodes" : ["localhost:3344"]\n            },\n            "port" : 3344\n        },\n        "storage" : {\n            "profiles" : [\n                {\n                    "name" : "persistent",\n                    "engine" : "aipersist"\n                }\n            ]\n        },\n        "nodeAttributes.nodeAttributes" : {\n            "region" : "US",\n            "storage" : "SSD"\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"When migrating your environment Apache Ignite 3 configuration is split between Cluster, Node and distribution zone configurations."}),"\n",(0,o.jsx)(e.h3,{id:"node-configuration",children:"Node Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Node configuration stores information about the locally running node."}),"\n",(0,o.jsx)(e.h4,{id:"storage-configuration",children:"Storage Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Apache Ignite 3 storage is configured in a completely different manner from Apache Ignite 2."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["First, you configure ",(0,o.jsx)(e.strong,{children:"storage engine"})," properties, which may include properties like page size or checkpoint frequency."]}),"\n",(0,o.jsxs)(e.li,{children:["Then, you create a ",(0,o.jsx)(e.strong,{children:"storage profile"}),", which defines a specific storage that will be used."]}),"\n",(0,o.jsxs)(e.li,{children:["Then, you create a ",(0,o.jsx)(e.strong,{children:"distribution zone"})," using the storage profile, which can be further used to fine-tune the storage by defining where and how to store data across the cluster."]}),"\n",(0,o.jsxs)(e.li,{children:["Finally, each ",(0,o.jsx)(e.strong,{children:"table"})," can be assigned to the distribution zone, or directly to a storage profile."]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Note:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Only tables and distribution zones can be configured from code. Storage profiles and engines must be configured by updating node configuration and restarting node."}),"\n",(0,o.jsx)(e.li,{children:"Custom affinity functions are replaced by distribution zones."}),"\n",(0,o.jsx)(e.li,{children:"External storage is supported via cache storage that must be configured by using SQL."}),"\n"]}),"\n",(0,o.jsx)(e.h4,{id:"client-configuration",children:"Client Configuration"}),"\n",(0,o.jsxs)(e.p,{children:['All clients in Apache Ignite 3 are "thin", and use a similar ',(0,o.jsx)(e.code,{children:"clientConnector"})," configuration. See ",(0,o.jsx)(e.a,{href:"/docs/ignite3/3.0.0/developers-guide/clients/",children:"Apache Ignite Clients"})," section for more information on configuring client connector."]}),"\n",(0,o.jsx)(e.h4,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,o.jsxs)(e.p,{children:["Node network configuration is now performed in the ",(0,o.jsx)(e.code,{children:"network"})," section of the ",(0,o.jsx)(e.a,{href:"/docs/ignite3/3.0.0/administrators-guide/config/node-config",children:"node configuration"}),"."]}),"\n",(0,o.jsx)(e.h4,{id:"rest-api-configuration",children:"REST API Configuration"}),"\n",(0,o.jsx)(e.p,{children:"REST API is a significant part of Apache Ignite 3. It can be used for multiple purposes, including cluster and node configuration and running SQL requests."}),"\n",(0,o.jsxs)(e.p,{children:["You can configure REST properties in ",(0,o.jsx)(e.a,{href:"/docs/ignite3/3.0.0/administrators-guide/config/node-config",children:"node configuration"}),"."]}),"\n",(0,o.jsx)(e.h3,{id:"cluster-configuration",children:"Cluster Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Cluster configuration applies to all nodes in the cluster. It is automatically propagated across the cluster from the node you apply in at."}),"\n",(0,o.jsx)(e.h4,{id:"handling-events",children:"Handling Events"}),"\n",(0,o.jsx)(e.p,{children:"Events configuration is simplified in Apache Ignite 3. It is separated in 2 configurations:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Event ",(0,o.jsx)(e.strong,{children:"channels"})," define what is collected."]}),"\n",(0,o.jsxs)(e.li,{children:["Event ",(0,o.jsx)(e.strong,{children:"sinks"})," define where the data is sent."]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["In the current release, only ",(0,o.jsx)(e.code,{children:"log"})," sink are supported. You can configure events as described in the ",(0,o.jsx)(e.a,{href:"/docs/ignite3/3.0.0/developers-guide/events/",children:"Events"})," section."]}),"\n",(0,o.jsx)(e.h4,{id:"metrics-collection",children:"Metrics Collection"}),"\n",(0,o.jsx)(e.p,{children:"Apache Ignite 3 has metrics disabled by default."}),"\n",(0,o.jsx)(e.p,{children:"All metrics are grouped according to their metric sources, and are enabled in cluster configuration per metric source."}),"\n",(0,o.jsx)(e.p,{children:"Then, these metrics will be available in Apache Ignite JMX beans."}),"\n",(0,o.jsxs)(e.p,{children:["For instructions on configuring metrics, see ",(0,o.jsx)(e.a,{href:"/docs/ignite3/3.0.0/administrators-guide/metrics/configuring-metrics",children:"Metrics Configuration"}),"."]}),"\n",(0,o.jsx)(e.h2,{id:"code-migration",children:"Code Migration"}),"\n",(0,o.jsx)(e.p,{children:"Code written for Apache Ignite 2 cannot be directly reused, however as most concepts remain similar, code migration should not take too much time."})]})}function g(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);