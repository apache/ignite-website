"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7511],{28453:(e,t,n)=>{n.d(t,{R:()=>h,x:()=>a});var i=n(96540);const s={},r=i.createContext(s);function h(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:h(e.components),i.createElement(r.Provider,{value:t},e.children)}},30547:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"sql/reference/language-definition/grammar-reference","title":"Grammar Reference","description":"{/*","source":"@site/docs/sql/reference/language-definition/grammar-reference.mdx","sourceDirName":"sql/reference/language-definition","slug":"/sql/reference/language-definition/grammar-reference","permalink":"/docs/ignite3/3.1.0/sql/reference/language-definition/grammar-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"grammar-reference","title":"Grammar Reference"},"sidebar":"tutorialSidebar","previous":{"title":"Transactions","permalink":"/docs/ignite3/3.1.0/sql/reference/language-definition/transactions"},"next":{"title":"Data Types and Functions","permalink":"/docs/ignite3/3.1.0/sql/reference/data-types-and-functions/"}}');var s=n(74848),r=n(28453),h=n(63367);const a={id:"grammar-reference",title:"Grammar Reference"},l=void 0,d={},o=[{value:"assign",id:"assign",level:2},{value:"Parameters",id:"parameters",level:3},{value:"column_definition",id:"column_definition",level:2},{value:"column_definition_or_list",id:"column_definition_or_list",level:2},{value:"column_list",id:"column_list",level:2},{value:"column_name_or_list",id:"column_name_or_list",level:2},{value:"constraint",id:"constraint",level:2},{value:"group_item",id:"group_item",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"join_condition",id:"join_condition",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"order_item",id:"order_item",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"parameter",id:"parameter",level:2},{value:"project_item",id:"project_item",level:2},{value:"Parameters",id:"parameters-4",level:3},{value:"qualified_table_name",id:"qualified_table_name",level:2},{value:"query",id:"query",level:2},{value:"Parameters",id:"parameters-5",level:3},{value:"select_without_from",id:"select_without_from",level:2},{value:"sorted_column_list",id:"sorted_column_list",level:2},{value:"table_expression",id:"table_expression",level:2},{value:"Parameters",id:"parameters-6",level:3},{value:"table_primary",id:"table_primary",level:2},{value:"Parameters",id:"parameters-7",level:3},{value:"table_reference",id:"table_reference",level:2},{value:"Parameters",id:"parameters-8",level:3},{value:"with_item",id:"with_item",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsxs)(t.p,{children:["This section describes grammar elements that are common to multiple SQL functions (",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl",children:"DDL"}),", ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/distribution-zones",children:"Distribution Zones"}),", etc.)."]}),"\n",(0,s.jsx)(t.h2,{id:"assign",children:"assign"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('identifier '),\nTerminal('='),\nNonTerminal('expression')\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"identifier"})," - the name of table, column or other element that will be updated by the operation."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression that returns the values that must be assigned to the ",(0,s.jsx)(t.code,{children:"identifier"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#merge",children:"MERGE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#update",children:"UPDATE"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"column_definition",children:"column_definition"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nSequence(\nNonTerminal('column_name'),\nNonTerminal('DATA TYPE', {href:'../data-types-and-functions/data-types'}),\nOptional(Sequence(Optional('NOT'),Terminal('NULL')))\n),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nSequence(\nOptional(Sequence(Terminal('DEFAULT'), Choice(1,NonTerminal('identifier'),\nNonTerminal('literal_value'),\nSequence(Terminal('CURRENT_TIMESTAMP'), Sequence(Terminal('+'),Terminal('INTERVAL'), NonTerminal('interval'))\n)\n),)),\nOptional(Terminal('PRIMARY KEY')),\n))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"column_name"})," - a column name."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"DATA TYPE"})," - the ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/data-types-and-functions/data-types",children:"data type"})," allowed in the column."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"identifier"})," - the random identifier for the row. Can be generated by using the ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/data-types-and-functions/operators-and-functions#rand_uuid",children:"rand_uuid"})," function."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"literal_value"})," - a value to be assigned as default."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"CURRENT_TIMESTAMP"})," - the function that returns current time. Can only be used for ",(0,s.jsx)(t.code,{children:"TIMESTAMP WITH LOCAL TIME ZONE"})," columns."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"interval"})," - the time interval by which the timestamp will be offset. Required if ",(0,s.jsx)(t.code,{children:"CURRENT_TIMESTAMP"})," is used. The interval can be specified in:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"SECONDS"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"MINUTES"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"HOURS"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"DAYS"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"MONTHS"})}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["If the interval is ",(0,s.jsx)(t.code,{children:"0"}),", current time is used."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#create-table",children:"CREATE TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl",children:"CREATE CACHE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#alter-table",children:"ALTER TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#project_item",children:"project_item"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#join_condition",children:"join_condition"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"column_definition_or_list",children:"column_definition_or_list"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nSequence(\nChoice(0,\nSequence(\nChoice(0,Sequence(\nNonTerminal('column_name'),\nNonTerminal('data_type'))\n)),\nSequence(\nTerminal('('),\nOneOrMore(Sequence(\nNonTerminal('column_name'),\nNonTerminal('data_type')),\nTerminal(',')\n),Terminal(')')\n)))))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"column_name"})," - a column name."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"data_type"})," - a valid ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/data-types-and-functions/data-types",children:"data type"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#alter-table",children:"ALTER TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#with_item",children:"with_item"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"column_list",children:"column_list"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('('),\nOneOrMore(Sequence(\nNonTerminal('column_name')),\nTerminal(',')\n),Terminal(')')\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"column_name"})," - a column name."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#insert",children:"INSERT"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#join_condition",children:"join_condition"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"column_name_or_list",children:"column_name_or_list"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nSequence(\nChoice(0,\nSequence(\nChoice(0,Sequence(\nNonTerminal('column_name'))\n)),\nSequence(\nTerminal('('),\nOneOrMore(Sequence(\nNonTerminal('column_name')),\nTerminal(',')\n),Terminal(')')\n)))))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"column_name"})," - a column name."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#alter-table",children:"ALTER TABLE"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"constraint",children:"constraint"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(Sequence(\nOptional(Sequence(Terminal('CONSTRAINT'),NonTerminal('constraint_name')\n)),\nTerminal('PRIMARY KEY'),\nOptional(\nChoice(0,\nSequence(\nTerminal('USING'),\nChoice (0,\nSequence(Terminal('SORTED'), NonTerminal('sorted_column_list', {href:'#sorted_column_list'})\n),\nSequence('HASH', NonTerminal('column_list', {href:'#column_list'})))\n))\n)))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"constraint_name"})," - a name of the constraint."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#create-table",children:"CREATE TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl",children:"CREATE CACHE"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"group_item",children:"group_item"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nNonTerminal('expression'),\nSequence(\nTerminal('('), Terminal(')'),\n),\nSequence(\nTerminal('('), Sequence(OneOrMore(NonTerminal('expression'), Terminal(',')), ), Terminal(')'),\n),\n))\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression that returns the values that must be assigned to the ",(0,s.jsx)(t.code,{children:"identifier"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml",children:"SELECT"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"join_condition",children:"join_condition"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nSequence(\nTerminal('ON'), NonTerminal('boolean_expression'),\n),\nSequence(Terminal('USING'), NonTerminal('column_list', {href:'#column_list'})),\n))\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"boolean_expression"})," - an SQL expression that returns a boolean value. Only the records for which ",(0,s.jsx)(t.code,{children:"TRUE"})," was returned will be returned. If not specified, all matching records are returned."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#table_expression",children:"table_expression"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"order_item",children:"order_item"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('expression'),\nOptional(Choice(0,\nTerminal('ASC'),\nTerminal('DESC')\n)),\nOptional(Choice(0,\nTerminal('NULLS FIRST'),\nTerminal('NULLS LAST')\n)),\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-3",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression that denotes the specific item in the SELECT clause."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#query",children:"query"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"parameter",children:"parameter"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('parameter_name'),\nTerminal('='),\nNonTerminal('parameter_value'))\n"}),"\n",(0,s.jsx)(t.p,{children:"Parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"parameter_name"})," - the name of the parameter."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"parameter_value"})," - the value of the parameter."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"When a parameter is specified, you can provide it as a literal value or as an identifier. For example:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"CREATE ZONE test_zone;\nCREATE TABLE test_table (id INT PRIMARY KEY, val INT) WITH PRIMARY_ZONE=test_zone;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In this case, ",(0,s.jsx)(t.code,{children:"test_zone"})," is the identifier, and is used as an identifier. When used like this, the parameters are not case-sensitive."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"CREATE ZONE \"test_zone\";\nCREATE TABLE test_table (id INT PRIMARY KEY, val INT) WITH PRIMARY_ZONE='test_zone';\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In this case, ",(0,s.jsx)(t.code,{children:"test_zone"})," is created as a literal value, and is used as a literal. When used like this, the parameter is case-sensitive."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"CREATE ZONE test_zone;\nCREATE TABLE test_table (id INT PRIMARY KEY, val INT) WITH PRIMARY_ZONE=`TEST_ZONE`;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In this case, ",(0,s.jsx)(t.code,{children:"test_zone"})," is created as an identifier, and is case-insensitive. As such, when ",(0,s.jsx)(t.code,{children:"TEST_ZONE"})," is used as a literal, it still matches the identifier."]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/distribution-zones#create-zone",children:"CREATE ZONE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/distribution-zones#alter-zone",children:"ALTER ZONE"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"project_item",children:"project_item"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,Sequence(\nNonTerminal('expression'),\nOptional('AS'),\nNonTerminal('column_definition', {href:'#column_definition'})\n),\nSequence(NonTerminal('table_alias'), Terminal('.'), Terminal('\\*')),\nTerminal('*')\n)\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-4",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression that denotes the specific item in the SELECT clause."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"table_alias"})," - a qualified table alias to use."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml",children:"SELECT"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#select_without_from",children:"select_without_from"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"qualified_table_name",children:"qualified_table_name"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(Sequence(\nOptional(Sequence(NonTerminal('schema'),NonTerminal('.')\n),),\nNonTerminal('table_name')\n),\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"schema"})," - a name of the table schema."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"table_name"})," - a name of the table."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#create-table",children:"CREATE TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#alter-table",children:"ALTER TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#drop-table",children:"DROP TABLE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#create-index",children:"CREATE INDEX"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#delete",children:"DELETE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#insert",children:"INSERT"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#merge",children:"MERGE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#update",children:"UPDATE"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#table_primary",children:"table_primary"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"query",children:"query"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nSequence(Terminal('WITH'),\nOneOrMore(\nNonTerminal('with_item', {href:'#with_item'}), Terminal(',')), NonTerminal('query', {href:'#query'})),\nSequence(\nChoice(1,\nTerminal('SELECT', {href:'../data-types-and-functions/operational-commands/#select'}),\nTerminal('select_without_from', {href:'#select_without_from'}),\nSequence(NonTerminal('query', {href:'#query'}), Choice(0, Terminal('UNION'), Terminal('EXCEPT'),Terminal('MINUS'),  Terminal('INTERSECT')), Optional(Choice(0, Terminal('ALL'), Terminal('DISTINCT'))),NonTerminal('query', {href:'#query'}))\n),\nOptional(Sequence(\nTerminal('ORDER BY'),\nOneOrMore(NonTerminal('order_item', {href:'#order_item'}), Terminal(',')),\n)),\nOptional(Sequence(\nTerminal('LIMIT'),\nOptional(NonTerminal('start')),\nChoice(0, NonTerminal('count'), Terminal('ALL'))\n)),\nOptional(Sequence(\nTerminal('OFFSET'),\nNonTerminal('start'),\nChoice(0, Terminal('ROW'), Terminal('ROWS'))\n)),\nOptional(Sequence(\nTerminal('FETCH'),\nChoice(0, Terminal('FIRST'), Terminal('NEXT')),\nOptional(NonTerminal('count')),\nChoice(0, Terminal('ROW'), Terminal('ROWS')),\nTerminal('ONLY'))\n)\n),\n),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-5",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"start"})," - the number of result to start the query from."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"count"})," - the number of values to fetch."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml#insert",children:"INSERT"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#with_item",children:"with_item"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#table_primary",children:"table_primary"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"select_without_from",children:"select_without_from"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('SELECT', {href:'../data-types-and-functions/operational-commands/#select'}),\nOptional(\nChoice(0,\nTerminal('ALL'),\nTerminal('DISTINCT'),\n)),\nOneOrMore(Sequence(\nNonTerminal('project_item', {href:'#project_item'})),\nTerminal(',')\n),\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#query",children:"query"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sorted_column_list",children:"sorted_column_list"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nSequence(\n'(',\nOneOrMore(\nSequence(\nNonTerminal('column_name'),\nOptional(\nChoice(0, Terminal('ASC'), Terminal('DESC')\n)),\nOptional(\nSequence(\nTerminal('NULLS'),\nChoice(0, Terminal('FIRST'), Terminal('LAST'))\n))),\n','\n),\n')'\n))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"column_name"})," - a column name."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"NULLS FIRST"})," - if specified, places any NULL values before all non-NULL in that column's ordering."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"NULLS LAST"})," - if specified, places NULLs after all non-NULLs in that column's ordering."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/ddl#create-index",children:"CREATE INDEX"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#constraint",children:"constraint"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"table_expression",children:"table_expression"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nChoice(0,\nSequence(\nChoice(0,\nSequence(\nChoice(0,Sequence(\nNonTerminal('table_expression', {href:'#table_expression'}),\nOptional('NATURAL'),\nOptional(Sequence(Choice(0,\nTerminal('LEFT'),\nTerminal('RIGHT'),\nTerminal('FULL')\n),\nOptional('OUTER')\n)),\nTerminal('JOIN'),\nNonTerminal('table_expression', {href:'#table_expression'}),\nOptional(NonTerminal('join_condition', {href:'#join_condition'}))\n),\n)),\nSequence(\nChoice(0,Sequence(\nNonTerminal('table_expression', {href:'#table_expression'}),\nTerminal('CROSS JOIN'),\nNonTerminal('table_expression', {href:'#table_expression'}))\n)),\nSequence(\nOneOrMore(Sequence(\nNonTerminal('table_reference', {href:'#table_reference'})),\nTerminal(',')\n)\n)))))\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-6",children:"Parameters"}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/dml",children:"SELECT"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"table_primary",children:"table_primary"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('qualified_table_name', {href:'#qualified_table_name'}),\nTerminal('('),\nTerminal('TABLE'),\nNonTerminal('qualified_table_name', {href:'#qualified_table_name'}),\nTerminal(')')\n,\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nChoice(0,\nSequence(\nNonTerminal('table_primary', {href:'#table_primary'}), Optional(NonTerminal('hint_comment'))),\nSequence(\nTerminal('('), NonTerminal('query', {href:'#query'}), Terminal(')')\n),\nSequence(\nTerminal('TABLE'), Terminal('('), NonTerminal('function_name'), Terminal('('), OneOrMore('expression', Terminal(',')),  Terminal(')'),  Terminal(')')\n))\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-7",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"hint_comment"})," - an sql ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/advanced/performance-tuning#optimizer-hints",children:"optimizer hint"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"expression"})," - a valid SQL expression."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"function_name"})," - the name of the ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/data-types-and-functions/operators-and-functions",children:"SQL function"})," to use."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#table_reference",children:"table_reference"})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"table_reference",children:"table_reference"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('table_primary', {href:'#table_primary'}),\nOptional(Sequence(\nOptional('AS'), NonTerminal('alias'), Optional(Sequence(Terminal('('), OneOrMore('column_alias', Terminal(',')),  Terminal(')')))\n))\n)\n"}),"\n",(0,s.jsx)(t.h3,{id:"parameters-8",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"alias"})," - the alias that will be used for the table."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"column_alias"})," - the alias used for column."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#table_expression",children:"table_expression"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"with_item",children:"with_item"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nNonTerminal('item_name'),\nOptional(NonTerminal('column_list', {href:'#column_list'})),\nTerminal('AS'),\nTerminal('('),\nNonTerminal('query', {href:'#query'}),\nTerminal(')'),\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Referenced by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#query",children:"query"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},63367:(e,t,n)=>{n.d(t,{A:()=>B});var i=n(96540);const s={},r=!1,h=8,a=10,l="railroad-diagram",d=!0,o="center",c=8.5,m=7;class u{constructor(e,t,n){this.children=n||[],this.tagName=e,this.attrs=I(t,{})}format(e,t,n){}addTo(e){if(e instanceof u)return e.children.push(this),this;var t=this.toSVG();return e.appendChild(t),t}toSVG(){var e=function(e,t,n){t=t||{},n=n||"";var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var s in t)"xlink:href"===s?i.setAttributeNS("http://www.w3.org/1999/xlink","href",t[s]):i.setAttribute(s,t[s]);return i.textContent=n,i}(this.tagName,this.attrs);return"string"==typeof this.children?e.textContent=this.children:this.children.forEach(function(t){e.appendChild(t.toSVG())}),e}toString(){var e="<"+this.tagName,t="g"==this.tagName||"svg"==this.tagName;for(var n in this.attrs)e+=" "+n+'="'+(this.attrs[n]+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")+'"';return e+=">",t&&(e+="\n"),"string"==typeof this.children?e+=this.children.replace(/[*_\`\[\]<&]/g,function(e){return"&#"+e.charCodeAt(0)+";"}):this.children.forEach(function(t){e+=t}),e+="</"+this.tagName+">\n"}walk(e){e(this)}}class w extends u{constructor(e,t){super("path"),this.attrs.d="M"+e+" "+t}m(e,t){return this.attrs.d+="m"+e+" "+t,this}h(e){return this.attrs.d+="h"+e,this}right(e){return this.h(Math.max(0,e))}left(e){return this.h(-Math.max(0,e))}v(e){return this.attrs.d+="v"+e,this}down(e){return this.v(Math.max(0,e))}up(e){return this.v(-Math.max(0,e))}arc(e){var t,n=a,i=a;return"e"!=e[0]&&"w"!=e[1]||(n*=-1),"s"!=e[0]&&"n"!=e[1]||(i*=-1),t="ne"==e||"es"==e||"sw"==e||"wn"==e?1:0,this.attrs.d+="a"+a+" "+a+" 0 0 "+t+" "+n+" "+i,this}arc_8(e,t){const n=a,i=1/Math.sqrt(2)*n,s=n-i;let r="a "+n+" "+n+" 0 0 "+("cw"==t?"1":"0")+" ";const h=e+t;return r+=("ncw"==h?[i,s]:"necw"==h?[s,i]:"ecw"==h?[-s,i]:"secw"==h?[-i,s]:"scw"==h?[-i,-s]:"swcw"==h?[-s,-i]:"wcw"==h?[s,-i]:"nwcw"==h?[i,-s]:"nccw"==h?[-i,s]:"nwccw"==h?[-s,i]:"wccw"==h?[s,i]:"swccw"==h?[i,s]:"sccw"==h?[i,-s]:"seccw"==h?[s,-i]:"eccw"==h?[-s,-i]:"neccw"==h?[-i,-s]:null).join(" "),this.attrs.d+=r,this}l(e,t){return this.attrs.d+="l"+e+" "+t,this}format(){return this.attrs.d+="h.5",this}}class p extends u{constructor(e,t,n,i){super(e,n,i),this.items=t.map(P)}walk(e){e(this),this.items.forEach(t=>t.walk(e))}}class x extends p{constructor(...e){super("svg",e,{class:l}),this.items[0]instanceof M||this.items.unshift(new M),this.items[this.items.length-1]instanceof C||this.items.push(new C),this.up=this.down=this.height=this.width=0;for(const t of this.items)this.width+=t.width+(t.needsSpace?20:0),this.up=Math.max(this.up,t.up-this.height),this.height+=t.height,this.down=Math.max(this.down-t.height,t.down);this.formatted=!1}format(e,t,n,i){e=I(e,20),t=I(t,e,20),n=I(n,e,20);var s=i=I(i,t,20),r=e;r+=this.up;for(var h=new u("g",d?{transform:"translate(.5 .5)"}:{}),a=0;a<this.items.length;a++){var l=this.items[a];l.needsSpace&&(new w(s,r).h(10).addTo(h),s+=10),l.format(s,r,l.width).addTo(h),s+=l.width,r+=l.height,l.needsSpace&&(new w(s,r).h(10).addTo(h),s+=10)}return this.attrs.width=this.width+i+t,this.attrs.height=this.up+this.height+this.down+e+n,this.attrs.viewBox="0 0 "+this.attrs.width+" "+this.attrs.height,h.addTo(this),this.formatted=!0,this}addTo(e){if(!e){var t=document.getElementsByTagName("script");e=(t=t[t.length-1]).parentNode}return super.addTo.call(this,e)}toSVG(){return this.formatted||this.format(),super.toSVG.call(this)}toString(){return this.formatted||this.format(),super.toString.call(this)}toStandalone(e){this.formatted||this.format();const t=new u("style",{},e||"\n\tsvg {\n\t\tbackground-color: hsl(30,20%,95%);\n\t}\n\tpath {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: rgba(0,0,0,0);\n\t}\n\ttext {\n\t\tfont: bold 14px monospace;\n\t\ttext-anchor: middle;\n\t\twhite-space: pre;\n\t}\n\ttext.diagram-text {\n\t\tfont-size: 12px;\n\t}\n\ttext.diagram-arrow {\n\t\tfont-size: 16px;\n\t}\n\ttext.label {\n\t\ttext-anchor: start;\n\t}\n\ttext.comment {\n\t\tfont: italic 12px monospace;\n\t}\n\tg.non-terminal text {\n\t\t/*font-style: italic;*/\n\t}\n\trect {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: hsl(120,100%,90%);\n\t}\n\trect.group-box {\n\t\tstroke: gray;\n\t\tstroke-dasharray: 10 5;\n\t\tfill: none;\n\t}\n\tpath.diagram-text {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: white;\n\t\tcursor: help;\n\t}\n\tg.diagram-text:hover path.diagram-text {\n\t\tfill: #eee;\n\t}");this.children.push(t),this.attrs.xmlns="http://www.w3.org/2000/svg",this.attrs["xmlns:xlink"]="http://www.w3.org/1999/xlink";const n=super.toString.call(this);return this.children.pop(),delete this.attrs.xmlns,n}}s.Diagram=(...e)=>new x(...e);class f extends u{constructor(...e){var t=new x(...e);return t.items[0]=new M({type:"complex"}),t.items[t.items.length-1]=new C({type:"complex"}),t}}s.ComplexDiagram=(...e)=>new f(...e);class g extends p{constructor(...e){super("g",e);this.items.length;this.needsSpace=!0,this.up=this.down=this.height=this.width=0;for(var t=0;t<this.items.length;t++){var n=this.items[t];this.width+=n.width+(n.needsSpace?20:0),this.up=Math.max(this.up,n.up-this.height),this.height+=n.height,this.down=Math.max(this.down-n.height,n.down)}this.items[0].needsSpace&&(this.width-=10),this.items[this.items.length-1].needsSpace&&(this.width-=10),r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="sequence")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0];for(var s=0;s<this.items.length;s++){var r=this.items[s];r.needsSpace&&s>0&&(new w(e,t).h(10).addTo(this),e+=10),r.format(e,t,r.width).addTo(this),e+=r.width,t+=r.height,r.needsSpace&&s<this.items.length-1&&(new w(e,t).h(10).addTo(this),e+=10)}return this}}s.Sequence=(...e)=>new g(...e);class T extends p{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("Stack() must have at least one child.");this.width=Math.max.apply(null,this.items.map(function(e){return e.width+(e.needsSpace?20:0)})),this.items.length>1&&(this.width+=2*a),this.needsSpace=!0,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=0;for(var t=this.items.length-1,n=0;n<this.items.length;n++){var i=this.items[n];this.height+=i.height,n>0&&(this.height+=Math.max(2*a,i.up+h)),n<t&&(this.height+=Math.max(2*a,i.down+h))}r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="stack")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this);var s=e+=i[0];this.items.length>1&&(new w(e,t).h(a).addTo(this),e+=a);for(var r=0;r<this.items.length;r++){var l=this.items[r],d=this.width-(this.items.length>1?2*a:0);l.format(e,t,d).addTo(this),e+=d,t+=l.height,r!==this.items.length-1&&(new w(e,t).arc("ne").down(Math.max(0,l.down+h-2*a)).arc("es").left(d).arc("nw").down(Math.max(0,this.items[r+1].up+h-2*a)).arc("ws").addTo(this),t+=Math.max(l.down+h,2*a)+Math.max(this.items[r+1].up+h,2*a),e=s+a)}return this.items.length>1&&(new w(e,t).h(a).addTo(this),e+=a),new w(e,t).h(i[1]).addTo(this),this}}s.Stack=(...e)=>new T(...e);class j extends p{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("OptionalSequence() must have at least one child.");if(1===e.length)return new g(e);var t=a;this.needsSpace=!1,this.width=0,this.up=0,this.height=U(this.items,function(e){return e.height}),this.down=this.items[0].down;for(var n=0,i=0;i<this.items.length;i++){var s=this.items[i];this.up=Math.max(this.up,Math.max(2*t,s.up+h)-n),n+=s.height,i>0&&(this.down=Math.max(this.height+this.down,n+Math.max(2*t,s.down+h))-this.height);var l=(s.needsSpace?10:0)+s.width;this.width+=0===i?t+Math.max(l,t):2*t+Math.max(l,t)+t}r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="optseq")}format(e,t,n){var i=a,s=D(n,this.width);new w(e,t).right(s[0]).addTo(this),new w(e+s[0]+this.width,t+this.height).right(s[1]).addTo(this),e+=s[0];for(var r=t-this.up,l=this.items.length-1,d=0;d<this.items.length;d++){var o=this.items[d],c=o.needsSpace?10:0,m=o.width+c;0===d?(new w(e,t).arc("se").up(t-r-2*i).arc("wn").right(m-i).arc("ne").down(t+o.height-r-2*i).arc("ws").addTo(this),new w(e,t).right(c+i).addTo(this),o.format(e+c+i,t,o.width).addTo(this),e+=m+i,t+=o.height):d<l?(new w(e,r).right(2*i+Math.max(m,i)+i).arc("ne").down(t-r+o.height-2*i).arc("ws").addTo(this),new w(e,t).right(2*i).addTo(this),o.format(e+2*i,t,o.width).addTo(this),new w(e+o.width+2*i,t+o.height).right(c+i).addTo(this),new w(e,t).arc("ne").down(o.height+Math.max(o.down+h,2*i)-2*i).arc("ws").right(m-i).arc("se").up(o.down+h-2*i).arc("wn").addTo(this),e+=2*i+Math.max(m,i)+i,t+=o.height):(new w(e,t).right(2*i).addTo(this),o.format(e+2*i,t,o.width).addTo(this),new w(e+2*i+o.width,t+o.height).right(c+i).addTo(this),new w(e,t).arc("ne").down(o.height+Math.max(o.down+h,2*i)-2*i).arc("ws").right(m-i).arc("se").up(o.down+h-2*i).arc("wn").addTo(this))}return this}}s.OptionalSequence=(...e)=>new j(...e);class _ extends p{constructor(...e){if(super("g",e),1===e.length)return new g(e);if(2!==e.length)throw new RangeError("AlternatingSequence() must have one or two children.");this.needsSpace=!1;const t=a,n=h,i=Math.max,s=this.items[0],l=this.items[1],d=1/Math.sqrt(2)*t*2,o=(1-1/Math.sqrt(2))*t*2,c=Math.max(t,h),m=c-o+d,u=i(t+t,c/2+t+t,c/2+n+s.down);this.up=u+s.height+s.up;const w=i(t+t,c/2+t+t,c/2+n+l.up);this.down=w+l.height+l.down,this.height=0;const p=2*(s.needsSpace?10:0)+s.width,x=2*(l.needsSpace?10:0)+l.width;this.width=2*t+i(p,m,x)+2*t,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="altseq")}format(e,t,n){const i=a,s=D(n,this.width);new w(e,t).right(s[0]).addTo(this),e+=s[0],new w(e+this.width,t).right(s[1]).addTo(this);const r=this.items[0],l=this.items[1],d=this.up-r.up,o=this.up-r.up-r.height;new w(e,t).arc("se").up(d-2*i).arc("wn").addTo(this),r.format(e+2*i,t-d,this.width-4*i).addTo(this),new w(e+this.width-2*i,t-o).arc("ne").down(o-2*i).arc("ws").addTo(this);const c=this.down-l.down-l.height,m=this.down-l.down;new w(e,t).arc("ne").down(c-2*i).arc("ws").addTo(this),l.format(e+2*i,t+c,this.width-4*i).addTo(this),new w(e+this.width-2*i,t+m).arc("se").up(m-2*i).arc("wn").addTo(this);const u=1/Math.sqrt(2)*i*2,p=(1-1/Math.sqrt(2))*i*2,x=Math.max(i,h),f=x-p+u,g=(this.width-4*i-f)/2;return new w(e+i,t-x/2-i).arc("ws").right(g).arc_8("n","cw").l(f-u,x-p).arc_8("sw","ccw").right(g).arc("ne").addTo(this),new w(e+i,t+x/2+i).arc("wn").right(g).arc_8("s","ccw").l(f-u,-(x-p)).arc_8("nw","cw").right(g).arc("se").addTo(this),this}}s.AlternatingSequence=(...e)=>new _(...e);class v extends p{constructor(e,...t){if(super("g",t),"number"!=typeof e||e!==Math.floor(e))throw new TypeError("The first argument of Choice() must be an integer.");if(e<0||e>=t.length)throw new RangeError("The first argument of Choice() must be an index for one of the items.");this.normal=e;var n,i=t.length-1;this.width=Math.max.apply(null,this.items.map(function(e){return e.width}))+4*a,this.height=this.items[e].height,this.up=this.items[0].up;for(var s=0;s<e;s++)n=s==e-1?2*a:a,this.up+=Math.max(n,this.items[s].height+this.items[s].down+h+this.items[s+1].up);for(this.down=this.items[i].down,s=e+1;s<=i;s++)n=s==e+1?2*a:a,this.down+=Math.max(n,this.items[s-1].height+this.items[s-1].down+h+this.items[s].up);this.down-=this.items[e].height,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="choice")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0];for(var s,r=this.items.length-1,l=this.width-4*a,d=this.normal-1;d>=0;d--){let n=this.items[d];d==this.normal-1&&(s=Math.max(2*a,this.items[this.normal].up+h+n.down+n.height)),new w(e,t).arc("se").up(s-2*a).arc("wn").addTo(this),n.format(e+2*a,t-s,l).addTo(this),new w(e+2*a+l,t-s+n.height).arc("ne").down(s-n.height+this.height-2*a).arc("ws").addTo(this),s+=Math.max(a,n.up+h+(0===d?0:this.items[d-1].down+this.items[d-1].height))}for(new w(e,t).right(2*a).addTo(this),this.items[this.normal].format(e+2*a,t,l).addTo(this),new w(e+2*a+l,t+this.height).right(2*a).addTo(this),d=this.normal+1;d<=r;d++){let n=this.items[d];d==this.normal+1&&(s=Math.max(2*a,this.height+this.items[this.normal].down+h+n.up)),new w(e,t).arc("ne").down(s-2*a).arc("ws").addTo(this),n.format(e+2*a,t+s,l).addTo(this),new w(e+2*a+l,t+s+n.height).arc("se").up(s-2*a+n.height-this.height).arc("wn").addTo(this),s+=Math.max(a,n.height+n.down+h+(d==r?0:this.items[d+1].up))}return this}}s.Choice=(...e)=>new v(...e);class S extends p{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("HorizontalChoice() must have at least one child.");if(1===e.length)return new g(e);const t=this.items.slice(0,-1),n=this.items.slice(1,-1),i=this.items[0],s=this.items[this.items.length-1];this.needsSpace=!1,this.width=a,this.width+=2*a*(this.items.length-1),this.width+=U(this.items,e=>e.width+(e.needsSpace?20:0)),this.width+=s.height>0?a:0,this.width+=a,this.height=0,this._upperTrack=Math.max(2*a,h,z(t,e=>e.up)+h),this.up=Math.max(this._upperTrack,s.up),this._lowerTrack=Math.max(h,z(n,e=>e.height+Math.max(e.down+h,2*a)),s.height+s.down+h),i.height<this._lowerTrack&&(this._lowerTrack=Math.max(this._lowerTrack,i.height+2*a)),this.down=Math.max(this._lowerTrack,i.height+i.down),r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="horizontalchoice")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0];const s=this.items[0],r=this.items[this.items.length-1],h=this.items.slice(1);var l=U(this.items.slice(0,-1),e=>e.width+(e.needsSpace?20:0))+(this.items.length-2)*a*2-a;new w(e,t).arc("se").v(-(this._upperTrack-2*a)).arc("wn").h(l).addTo(this);var d=U(h,e=>e.width+(e.needsSpace?20:0))+(this.items.length-2)*a*2+(r.height>0?a:0)-a,o=e+a+s.width+(s.needsSpace?20:0)+2*a;new w(o,t+this._lowerTrack).h(d).arc("se").v(-(this._lowerTrack-2*a)).arc("wn").addTo(this);for(const[m,u]of function*(e){var t=0;for(const n of e)yield[t,n],t++}(this.items)){0===m?(new w(e,t).h(a).addTo(this),e+=a):(new w(e,t-this._upperTrack).arc("ne").v(this._upperTrack-2*a).arc("ws").addTo(this),e+=2*a);var c=u.width+(u.needsSpace?20:0);u.format(e,t,c).addTo(this),e+=c,m===this.items.length-1?0===u.height?new w(e,t).h(a).addTo(this):new w(e,t+u.height).arc("se").addTo(this):0===m&&u.height>this._lowerTrack?u.height-this._lowerTrack>=2*a?new w(e,t+u.height).arc("se").v(this._lowerTrack-u.height+2*a).arc("wn").addTo(this):new w(e,t+u.height).l(2*a,this._lowerTrack-u.height).addTo(this):new w(e,t+u.height).arc("ne").v(this._lowerTrack-u.height-2*a).arc("ws").addTo(this)}return this}}s.HorizontalChoice=(...e)=>new S(...e);class b extends p{constructor(e,t,...n){if(super("g",n),"number"!=typeof e||e!==Math.floor(e))throw new TypeError("The first argument of MultipleChoice() must be an integer.");if(e<0||e>=n.length)throw new RangeError("The first argument of MultipleChoice() must be an index for one of the items.");if(this.normal=e,"any"!=t&&"all"!=t)throw new SyntaxError("The second argument of MultipleChoice must be 'any' or 'all'.");this.type=t,this.needsSpace=!0,this.innerWidth=z(this.items,function(e){return e.width}),this.width=30+a+this.innerWidth+a+20,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=this.items[e].height;for(var i=0;i<this.items.length;i++){let t,n=this.items[i];t=i==e-1||i==e+1?10+a:a,i<e?this.up+=Math.max(t,n.height+n.down+h+this.items[i+1].up):i>e&&(this.down+=Math.max(t,n.up+h+this.items[i-1].down+this.items[i-1].height))}this.down-=this.items[e].height,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="multiplechoice")}format(e,t,n){var i=D(n,this.width);new w(e,t).right(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).right(i[1]).addTo(this),e+=i[0];for(var s,r=this.items[this.normal],l=this.normal-1;l>=0;l--){var d=this.items[l];l==this.normal-1&&(s=Math.max(10+a,r.up+h+d.down+d.height)),new w(e+30,t).up(s-a).arc("wn").addTo(this),d.format(e+30+a,t-s,this.innerWidth).addTo(this),new w(e+30+a+this.innerWidth,t-s+d.height).arc("ne").down(s-d.height+this.height-a-10).addTo(this),0!==l&&(s+=Math.max(a,d.up+h+this.items[l-1].down+this.items[l-1].height))}for(new w(e+30,t).right(a).addTo(this),r.format(e+30+a,t,this.innerWidth).addTo(this),new w(e+30+a+this.innerWidth,t+this.height).right(a).addTo(this),l=this.normal+1;l<this.items.length;l++){let n=this.items[l];l==this.normal+1&&(s=Math.max(10+a,r.height+r.down+h+n.up)),new w(e+30,t).down(s-a).arc("ws").addTo(this),n.format(e+30+a,t+s,this.innerWidth).addTo(this),new w(e+30+a+this.innerWidth,t+s+n.height).arc("se").up(s-a+n.height-r.height).addTo(this),l!=this.items.length-1&&(s+=Math.max(a,n.height+n.down+h+this.items[l+1].up))}var o=new u("g",{class:"diagram-text"}).addTo(this);return new u("title",{},"any"==this.type?"take one or more branches, once each, in any order":"take all branches, once each, in any order").addTo(o),new u("path",{d:"M "+(e+30)+" "+(t-10)+" h -26 a 4 4 0 0 0 -4 4 v 12 a 4 4 0 0 0 4 4 h 26 z",class:"diagram-text"}).addTo(o),new u("text",{x:e+15,y:t+4,class:"diagram-text"},"any"==this.type?"1+":"all").addTo(o),new u("path",{d:"M "+(e+this.width-20)+" "+(t-10)+" h 16 a 4 4 0 0 1 4 4 v 12 a 4 4 0 0 1 -4 4 h -16 z",class:"diagram-text"}).addTo(o),new u("path",{d:"M "+(e+this.width-13)+" "+(t-2)+" a 4 4 0 1 0 6 -1 m 2.75 -1 h -4 v 4 m 0 -3 h 2",style:"stroke-width: 1.75"}).addTo(o),this}}s.MultipleChoice=(...e)=>new b(...e);class y extends u{constructor(e,t){if(void 0===t)return new v(1,new L,e);if("skip"===t)return new v(0,new L,e);throw"Unknown value for Optional()'s 'skip' argument."}}s.Optional=(...e)=>new y(...e);class E extends u{constructor(e,t){super("g"),t=t||new L,this.item=P(e),this.rep=P(t),this.width=Math.max(this.item.width,this.rep.width)+2*a,this.height=this.item.height,this.up=this.item.up,this.down=Math.max(2*a,this.item.down+h+this.rep.up+this.rep.height+this.rep.down),this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="oneormore")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0],new w(e,t).right(a).addTo(this),this.item.format(e+a,t,this.width-2*a).addTo(this),new w(e+this.width-a,t+this.height).right(a).addTo(this);var s=Math.max(2*a,this.item.height+this.item.down+h+this.rep.up);return new w(e+a,t).arc("nw").down(s-2*a).arc("ws").addTo(this),this.rep.format(e+a,t+s,this.width-2*a).addTo(this),new w(e+this.width-a,t+s+this.rep.height).arc("se").up(s-2*a+this.rep.height-this.item.height).arc("en").addTo(this),this}walk(e){e(this),this.item.walk(e),this.rep.walk(e)}}s.OneOrMore=(...e)=>new E(...e);class q extends u{constructor(e,t,n){return new y(new E(e,t),n)}}s.ZeroOrMore=(...e)=>new q(...e);class N extends u{constructor(e,t){super("g"),this.item=P(e),this.label=t instanceof u?t:t?new O(t):void 0,this.width=Math.max(this.item.width+(this.item.needsSpace?20:0),this.label?this.label.width:0,2*a),this.height=this.item.height,this.boxUp=this.up=Math.max(this.item.up+h,a),this.label&&(this.up+=this.label.up+this.label.height+this.label.down),this.down=Math.max(this.item.down+h,a),this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="group")}format(e,t,n){var i=D(n,this.width);return new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0],new u("rect",{x:e,y:t-this.boxUp,width:this.width,height:this.boxUp+this.height+this.down,rx:a,ry:a,class:"group-box"}).addTo(this),this.item.format(e,t,this.width).addTo(this),this.label&&this.label.format(e,t-(this.boxUp+this.label.down+this.label.height),this.label.width).addTo(this),this}walk(e){e(this),this.item.walk(e),this.label.walk(e)}}s.Group=(...e)=>new N(...e);class M extends u{constructor({type:e="simple",label:t}={}){super("g"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=e,t&&(this.label=""+t,this.width=Math.max(20,this.label.length*c+10)),r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="start")}format(e,t){let n=new w(e,t-10);return"complex"===this.type?n.down(20).m(0,-10).right(this.width).addTo(this):n.down(20).m(10,-20).down(20).m(-10,-10).right(this.width).addTo(this),this.label&&new u("text",{x:e,y:t-15,style:"text-anchor:start"},this.label).addTo(this),this}}s.Start=(...e)=>new M(...e);class C extends u{constructor({type:e="simple"}={}){super("path"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=e,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="end")}format(e,t){return"complex"===this.type?this.attrs.d="M "+e+" "+t+" h 20 m 0 -10 v 20":this.attrs.d="M "+e+" "+t+" h 20 m -10 -10 v 20 m 10 -20 v 20",this}}s.End=(...e)=>new C(...e);class A extends u{constructor(e,{href:t,title:n,cls:i}={}){super("g",{class:["terminal",i].join(" ")}),this.text=""+e,this.href=t,this.title=n,this.cls=i,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="terminal")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t).h(i[1]).addTo(this),e+=i[0],new u("rect",{x:e,y:t-11,width:this.width,height:this.up+this.down,rx:10,ry:10}).addTo(this);var s=new u("text",{x:e+this.width/2,y:t+4},this.text);return this.href?new u("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new u("title",{},[this.title]).addTo(this),this}}s.Terminal=(...e)=>new A(...e);class R extends u{constructor(e,{href:t,title:n,cls:i=""}={}){super("g",{class:["non-terminal",i].join(" ")}),this.text=""+e,this.href=t,this.title=n,this.cls=i,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="nonterminal")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t).h(i[1]).addTo(this),e+=i[0],new u("rect",{x:e,y:t-11,width:this.width,height:this.up+this.down}).addTo(this);var s=new u("text",{x:e+this.width/2,y:t+4},this.text);return this.href?new u("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new u("title",{},[this.title]).addTo(this),this}}s.NonTerminal=(...e)=>new R(...e);class O extends u{constructor(e,{href:t,title:n,cls:i=""}={}){super("g",{class:["comment",i].join(" ")}),this.text=""+e,this.href=t,this.title=n,this.cls=i,this.width=this.text.length*m+10,this.height=0,this.up=8,this.down=8,this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="comment")}format(e,t,n){var i=D(n,this.width);new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t+this.height).h(i[1]).addTo(this),e+=i[0];var s=new u("text",{x:e+this.width/2,y:t+5,class:"comment"},this.text);return this.href?new u("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new u("title",{},this.title).addTo(this),this}}s.Comment=(...e)=>new O(...e);class L extends u{constructor(){super("g"),this.width=0,this.height=0,this.up=0,this.down=0,this.needsSpace=!1,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="skip")}format(e,t,n){return new w(e,t).right(n).addTo(this),this}}s.Skip=(...e)=>new L(...e);class k extends u{constructor({width:e=50,up:t=15,height:n=25,down:i=15,needsSpace:s=!0}={}){super("g"),this.width=e,this.height=n,this.up=t,this.down=i,this.needsSpace=!0,r&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="block")}format(e,t,n){var i=D(n,this.width);return new w(e,t).h(i[0]).addTo(this),new w(e+i[0]+this.width,t).h(i[1]).addTo(this),e+=i[0],new u("rect",{x:e,y:t-this.up,width:this.width,height:this.up+this.height+this.down}).addTo(this),this}}function I(...e){return e.reduce(function(e,t){return void 0!==e?e:t})}function D(e,t){var n=e-t;switch(o){case"left":return[0,n];case"right":return[n,0];default:return[n/2,n/2]}}function P(e){return e instanceof u?e:new A(""+e)}function U(e,t){return t||(t=function(e){return e}),e.map(t).reduce(function(e,t){return e+t},0)}function z(e,t){return t||(t=function(e){return e}),Math.max.apply(null,e.map(t))}s.Block=(...e)=>new k(...e);var W=n(74848);function B({children:e}){const t=(0,i.useRef)(null),n=(0,i.useRef)(null),[s,r]=(0,i.useState)(!1),h=t=>{if(t.current)try{const i=(...e)=>new x(...e),s=(...e)=>new A(...e),r=(...e)=>new R(...e),h=(...e)=>new y(...e),a=(...e)=>new g(...e),l=(...e)=>new v(...e),d=(...e)=>new L(...e),o=(...e)=>new O(...e),c=(...e)=>new E(...e),m=(...e)=>new q(...e),u=e.replace(/ComplexDiagram\(/g,"Diagram(").replace(/Start\([^)]*\),?\s*/g,"").replace(/,?\s*End\([^)]*\)/g,"").trim();try{const e=new Function("Diagram","Terminal","NonTerminal","Optional","Sequence","Choice","Skip","Comment","OneOrMore","ZeroOrMore",`'use strict'; return ${u};`)(i,s,r,h,a,l,d,o,c,m);if(!e||"function"!=typeof e.toSVG)throw new Error("Diagram function did not return a valid diagram object");t.current.innerHTML="";const n=e.toSVG();n.querySelectorAll("a[*|href]").forEach(e=>{const t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.setAttribute("href",t)}),t.current.appendChild(n)}catch(n){throw console.error("Error in diagram generation:",n),n}}catch(i){console.error("Error rendering railroad diagram:",i),t.current.innerHTML='<p style="color: red;">Error rendering diagram. Check console for details.</p>'}};(0,i.useEffect)(()=>{h(t)},[e]),(0,i.useEffect)(()=>{if(s){h(n);const e=e=>{"Escape"===e.key&&r(!1)};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}}},[s,e]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:"railroad-diagram-wrapper",children:[(0,W.jsx)("button",{className:"railroad-expand-button",onClick:()=>r(!0),"aria-label":"Expand diagram",title:"View full size",children:(0,W.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,W.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})}),(0,W.jsx)("div",{ref:t,className:"railroad-diagram-container"})]}),s&&(0,W.jsx)("div",{className:"railroad-modal-overlay",onClick:e=>{e.target===e.currentTarget&&r(!1)},children:(0,W.jsxs)("div",{className:"railroad-modal-content",children:[(0,W.jsx)("button",{className:"railroad-modal-close",onClick:()=>r(!1),"aria-label":"Close",title:"Close (ESC)",children:"\xd7"}),(0,W.jsx)("div",{ref:n,className:"railroad-diagram-container railroad-diagram-modal"})]})})]})}}}]);