"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[295],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},63827:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developers-guide/clients/jdbc-driver","title":"JDBC Driver","description":"{/*","source":"@site/versioned_docs/version-3.0.0/developers-guide/clients/jdbc-driver.md","sourceDirName":"developers-guide/clients","slug":"/developers-guide/clients/jdbc-driver","permalink":"/docs/ignite3/3.0.0/developers-guide/clients/jdbc-driver","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","frontMatter":{"title":"JDBC Driver","sidebar_label":"JDBC"},"sidebar":"tutorialSidebar","previous":{"title":"LINQ","permalink":"/docs/ignite3/3.0.0/developers-guide/clients/linq"},"next":{"title":"Introduction","permalink":"/docs/ignite3/3.0.0/developers-guide/sql/calcite-based-sql-engine"}}');var i=t(74848),l=t(28453);const r={title:"JDBC Driver",sidebar_label:"JDBC"},a=void 0,d={},c=[{value:"Setting Up",id:"setting-up",level:2},{value:"Parameter Precedence",id:"parameter-precedence",level:3},{value:"Performing Transactions",id:"performing-transactions",level:2},{value:"Unsupported Mandatory JDBC Features",id:"unsupported-mandatory-jdbc-features",level:2},{value:"Unsupported Optional JDBC Features",id:"unsupported-optional-jdbc-features",level:2},{value:"JDBC Features with Limited Support",id:"jdbc-features-with-limited-support",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:["\n",(0,i.jsxs)(n.p,{children:["Apache Ignite is shipped with JDBC driver that allows processing of distributed data using standard SQL statements like ",(0,i.jsx)(n.code,{children:"SELECT"}),", ",(0,i.jsx)(n.code,{children:"INSERT"}),", ",(0,i.jsx)(n.code,{children:"UPDATE"}),", or ",(0,i.jsx)(n.code,{children:"DELETE"})," directly from the JDBC side. The name of the driver's class is ",(0,i.jsx)(n.code,{children:"org.apache.ignite.jdbc.IgniteJdbcDriver"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"This implementation of JDBC driver does not support:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Multiple endpoints"}),"\n",(0,i.jsx)(n.li,{children:"JDBC connection pools"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"See also:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#unsupported-mandatory-jdbc-features",children:"Unsupported Mandatory JDBC Features"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#unsupported-optional-jdbc-features",children:"Unsupported Optional JDBC Features"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#jdbc-features-with-limited-support",children:"JDBC Features with Limited Support"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setting-up",children:"Setting Up"}),"\n",(0,i.jsxs)(n.p,{children:["JDBC driver uses the client connector to work with the cluster. For more information on configuring client connector, see ",(0,i.jsx)(n.a,{href:"/docs/ignite3/3.0.0/developers-guide/clients/#client-connector-configuration",children:"Client Connector Configuration"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The JDBC connector needs to be included from Maven:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\r\n    <groupId>org.apache.ignite</groupId>\r\n    <artifactId>ignite-jdbc</artifactId>\r\n    <version>3.0.0</version>\r\n</dependency>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Here is how you can open a JDBC connection to the cluster node listening on IP address ",(0,i.jsx)(n.code,{children:"127.0.0.1"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Connection conn = DriverManager.getConnection("jdbc:ignite:thin://127.0.0.1:10800");\n'})}),"\n",(0,i.jsx)(n.p,{children:"The driver connects to one of the cluster nodes and forwards all the queries to it for final execution. The node handles the query distribution and the result's aggregations. Then the result is sent back to the client application."}),"\n",(0,i.jsx)(n.p,{children:"The JDBC connection string can have an optional list of name-value pairs as parameters after the '?' delimiter. Name and value are separated by the '=' symbol and multiple properties are separated either by an '&' or a ';'.\r\nSeparate sign can't be mixed and should be either semicolon or ampersand sign."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"jdbc:ignite:thin://host[:port][,host[:port][/schema][[?parameter1=value1][&parameter2=value2],...]]\r\njdbc:ignite:thin://host[:port][,host[:port][/schema][[?parameter1=value1][;parameter2=value2],...]]\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"host"})," is required and defines the host of the cluster node to connect to."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"port"})," is the port to use to open the connection. 10800 is used by default if this parameter is omitted."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"schema"})," is the schema name to access. PUBLIC is used by default. This name should correspond to the SQL ANSI-99 standard. Non-quoted identifiers are not case sensitive. Quoted identifiers are case sensitive. When semicolon format is used, the schema may be defined as a parameter with name schema."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"parameters"})," are optional parameters. The following parameters are available:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"connectionTimeZone"})," - Client connection time-zone ID. This property can be used by the client to change the time zone of the session on the server. Affects the interpretation of dates in queries that do not specify the time zone explicitly. If not set, system default on client timezone will be used."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"queryTimeout"})," - Number of seconds the driver will wait for a ",(0,i.jsx)(n.code,{children:"Statement"})," object to execute. 0 means there is no limit. Default value: ",(0,i.jsx)(n.code,{children:"0"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"connectionTimeout"})," - Number of milliseconds JDBC client will wait for server to respond. 0 means there is no limit. Default value: ",(0,i.jsx)(n.code,{children:"0"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"reconnectThrottlingPeriod"})," - Reconnect throttling period, in milliseconds. 0 means there is no limit. Default value: ",(0,i.jsx)(n.code,{children:"30_000"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"reconnectThrottlingRetries"})," - Reconnect throttling retries. 0 means there is no limit. Default value: ",(0,i.jsx)(n.code,{children:"3"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"username"})," - username for basic authentication to the cluster."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"password"})," - user password for basic authentication to the cluster."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sslEnabled"})," - Determines if SSL is enabled. Possible values: ",(0,i.jsx)(n.code,{children:"true"}),", ",(0,i.jsx)(n.code,{children:"false"}),". Default value: ",(0,i.jsx)(n.code,{children:"false"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"trustStorePath"})," - Path to trust store on client side."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"trustStorePassword"})," - Trust store password."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"keyStorePath"})," - Path to key store on client side."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"keyStorePassword"})," - Key store password."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clientAuth"})," - SSL client authentication. Possible values: ",(0,i.jsx)(n.code,{children:"NONE"}),", ",(0,i.jsx)(n.code,{children:"OPTIONAL"}),", ",(0,i.jsx)(n.code,{children:"REQUIRE"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ciphers"})," - comma-separated SSL ciphers list."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"parameter-precedence",children:"Parameter Precedence"}),"\n",(0,i.jsx)(n.p,{children:"If the same parameters are passed by using different means, the JDBC driver prioritizes them in the following way:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["API arguments passed in the ",(0,i.jsx)(n.code,{children:"Connection"})," objects;"]}),"\n",(0,i.jsx)(n.li,{children:"Last instance of the parameter in the connection string;"}),"\n",(0,i.jsx)(n.li,{children:"Properties object passed during connection."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performing-transactions",children:"Performing Transactions"}),"\n",(0,i.jsxs)(n.p,{children:["With the JDBC driver, you can  perform ",(0,i.jsx)(n.code,{children:"commit"})," and ",(0,i.jsx)(n.code,{children:"rollback"})," transactions. For more information about transactions, see ",(0,i.jsx)(n.a,{href:"/docs/ignite3/3.0.0/developers-guide/transactions",children:"Performing Transactions"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Here is how you can commit a transaction:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Open the JDBC connection.\r\nConnection conn = DriverManager.getConnection("jdbc:ignite:thin://127.0.0.1:10800");\r\n\r\n// Commit a transaction\r\nconn.commit();\n'})}),"\n",(0,i.jsxs)(n.p,{children:["You can also configure Apache Ignite to automatically commit transactions by using the ",(0,i.jsx)(n.code,{children:"setAutoCommit()"})," method."]}),"\n",(0,i.jsx)(n.p,{children:"Here is how you can rollback a transaction:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"conn.rollback();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"unsupported-mandatory-jdbc-features",children:"Unsupported Mandatory JDBC Features"}),"\n",(0,i.jsx)(n.p,{children:"The following mandatory JDBC features are currently not supported (sorted alphabetically):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#clearWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#getWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#prepareCall"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#getParameterMetaData"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setAsciiStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setBinaryStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#clearWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getAsciiStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getBinaryStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#setFetchDirection"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#clearWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#getWarnings"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#setEscapeProcessing"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#setFetchDirection"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#setMaxFieldSize"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"unsupported-optional-jdbc-features",children:"Unsupported Optional JDBC Features"}),"\n",(0,i.jsx)(n.p,{children:"The following optional JDBC features are currently not supported (sorted alphabetically):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createArrayOf"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createBlob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createNClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createSQLXML"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#createStruct"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#getTypeMap"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#releaseSavepoint"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#setSavepoint"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Connection#setTypeMap"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Driver#getParentLogger"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#getMetaData"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setArray"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setBlob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setNCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setNClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setRef"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setRowId"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setSQLXML"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setUnicodeStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.PreparedStatement#setURL"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#cancelRowUpdates"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#deleteRow"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getArray"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getBlob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getNCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getNClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getRef"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getRowId"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getSQLXML"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#getUnicodeStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#insertRow"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#moveToInsertRow"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#refreshRow"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateArray"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateAsciiStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateBigDecimal"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateBinaryStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateBlob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateBoolean"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateByte"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateBytes"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateDate"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateDouble"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateFloat"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateInt"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateLong"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateNCharacterStream"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateNClob"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateNString"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateNull"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateObject"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateRef"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateRow"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateRowId"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateShort"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateSQLXML"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateString"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateTime"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.ResultSet#updateTimestamp"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#getGeneratedKeys"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#setCursorName"}),"\n",(0,i.jsx)(n.li,{children:"java.sql.Statement#setPoolable"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"jdbc-features-with-limited-support",children:"JDBC Features with Limited Support"}),"\n",(0,i.jsx)(n.p,{children:"The following JDBC features are supported only in specific cases:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"Supported Cases"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"java.sql.Connection#prepareStatement"}),(0,i.jsx)(n.td,{children:"autoGeneratedKeys=Statement.NO_GENERATED_KEYS, resultSetType=ResultSet.TYPE_FORWARD_ONLY, resultSetConcurrency=ResultSet.CONCUR_READ_ONLY, null or empty columnIndexes, and null or empty columnNames."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"java.sql.Connection#rollback"}),(0,i.jsx)(n.td,{children:"Without savepoint."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"java.sql.Statement#execute"}),(0,i.jsx)(n.td,{children:"autoGeneratedKeys=Statement.NO_GENERATED_KEYS, null or empty columnIndexes, and null or empty columnNames."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"java.sql.Statement#executeUpdate"}),(0,i.jsx)(n.td,{children:"autoGeneratedKeys=Statement.NO_GENERATED_KEYS, null or empty columnIndexes, and null or empty columnNames."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"java.sql.Statement#getMoreResults"}),(0,i.jsx)(n.td,{children:"current=Statement.CLOSE_CURRENT_RESULT."})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);