<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configure-and-operate/operations/disaster-recovery-partitions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Disaster Recovery for Data Partitions | Apache Ignite 3 Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ignite.apache.org/docs/ignite3/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://ignite.apache.org/docs/ignite3/img/logo.svg"><meta data-rh="true" property="og:url" content="https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Disaster Recovery for Data Partitions | Apache Ignite 3 Documentation"><meta data-rh="true" name="description" content="You perform disaster recovery operations to recover from situation when data operations on your Apache Ignite cluster nodes become unfeasible because Apache Ignite cannot guarantee data consistency. In such cases, you need to either return data to a consistent state or declare the current state consistent."><meta data-rh="true" property="og:description" content="You perform disaster recovery operations to recover from situation when data operations on your Apache Ignite cluster nodes become unfeasible because Apache Ignite cannot guarantee data consistency. In such cases, you need to either return data to a consistent state or declare the current state consistent."><link data-rh="true" rel="icon" href="/docs/ignite3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions"><link data-rh="true" rel="alternate" href="https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions" hreflang="en"><link data-rh="true" rel="alternate" href="https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Configure and Operate","item":"https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/"},{"@type":"ListItem","position":2,"name":"Operations","item":"https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/"},{"@type":"ListItem","position":3,"name":"Disaster Recovery","item":"https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery"},{"@type":"ListItem","position":4,"name":"Data Partitions Recovery","item":"https://ignite.apache.org/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions"}]}</script><link rel="stylesheet" href="/docs/ignite3/assets/css/styles.6d574dc3.css">
<script src="/docs/ignite3/assets/js/runtime~main.0996a2d7.js" defer="defer"></script>
<script src="/docs/ignite3/assets/js/main.801e631d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/docs/ignite3/img/logo.svg"><link rel="preload" as="image" href="/docs/ignite3/img/logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/docs/ignite3/"><div class="navbar__logo"><img src="/docs/ignite3/img/logo.svg" alt="Apache Ignite Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/ignite3/img/logo-dark.svg" alt="Apache Ignite Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions">3.1.0 (Latest)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions">3.1.0 (Latest)</a></li><li><a class="dropdown__link" href="/docs/ignite3/3.0.0/">3.0.0</a></li></ul></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/apache/ignite-3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ignite3/3.1.0/"><span title="Apache Ignite 3 Documentation" class="linkLabel_WmDU">Apache Ignite 3 Documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/getting-started/"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/develop/"><span title="Develop and Build" class="categoryLinkLabel_W154">Develop and Build</span></a><button aria-label="Expand sidebar category &#x27;Develop and Build&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/sql/"><span title="Work with SQL" class="categoryLinkLabel_W154">Work with SQL</span></a><button aria-label="Expand sidebar category &#x27;Work with SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/ignite3/3.1.0/configure-and-operate/"><span title="Configure and Operate" class="categoryLinkLabel_W154">Configure and Operate</span></a><button aria-label="Collapse sidebar category &#x27;Configure and Operate&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/installation/"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/configuration/"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/"><span title="Operations" class="categoryLinkLabel_W154">Operations</span></a><button aria-label="Collapse sidebar category &#x27;Operations&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/lifecycle"><span title="Lifecycle" class="linkLabel_WmDU">Lifecycle</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery"><span title="Disaster Recovery" class="categoryLinkLabel_W154">Disaster Recovery</span></a><button aria-label="Collapse sidebar category &#x27;Disaster Recovery&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-partitions"><span title="Data Partitions Recovery" class="linkLabel_WmDU">Data Partitions Recovery</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-system-groups"><span title="System Groups Recovery" class="linkLabel_WmDU">System Groups Recovery</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/handle-exceptions"><span title="Handle Exceptions" class="linkLabel_WmDU">Handle Exceptions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/operations/colocation"><span title="Colocation" class="linkLabel_WmDU">Colocation</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/monitoring/"><span title="Monitoring" class="categoryLinkLabel_W154">Monitoring</span></a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/ignite3/3.1.0/configure-and-operate/reference/"><span title="Configuration Reference" class="categoryLinkLabel_W154">Configuration Reference</span></a><button aria-label="Expand sidebar category &#x27;Configuration Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/understand/"><span title="Concepts and Architecture" class="categoryLinkLabel_W154">Concepts and Architecture</span></a><button aria-label="Expand sidebar category &#x27;Concepts and Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/api-reference/"><span title="Client and API Reference" class="categoryLinkLabel_W154">Client and API Reference</span></a><button aria-label="Expand sidebar category &#x27;Client and API Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/ignite3/3.1.0/tools/"><span title="Tools" class="categoryLinkLabel_W154">Tools</span></a><button aria-label="Expand sidebar category &#x27;Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/ignite3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/ignite3/3.1.0/configure-and-operate/"><span>Configure and Operate</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/ignite3/3.1.0/configure-and-operate/operations/"><span>Operations</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery"><span>Disaster Recovery</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Data Partitions Recovery</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.1.0 (Latest)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Disaster Recovery for Data Partitions</h1></header><p>You perform <em>disaster recovery</em> operations to recover from situation when data operations on your Apache Ignite cluster nodes become unfeasible because Apache Ignite cannot guarantee data consistency. In such cases, you need to either return data to a consistent state or declare the current state consistent.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Disaster recovery for system groups, <a class="" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-system-groups#cluster-management-group">Cluster Management Group</a> and <a class="" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-system-groups#metastorage-group">Metastorage Group</a>, is described in a separate page.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="disaster-scenarios-and-recovery-instructions">Disaster Scenarios and Recovery Instructions<a href="#disaster-scenarios-and-recovery-instructions" class="hash-link" aria-label="Direct link to Disaster Scenarios and Recovery Instructions" title="Direct link to Disaster Scenarios and Recovery Instructions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="minority-offline">Minority Offline<a href="#minority-offline" class="hash-link" aria-label="Direct link to Minority Offline" title="Direct link to Minority Offline" translate="no">​</a></h3>
<p><em>Minority</em> refers to less than half of the number of <em>replicas</em> configured for a distribution zone (DZ). For example, of DZ1 is configured with 2 replicas and DZ2 with 3 replicas, losing a single Apache Ignite node is a majority loss for DZ1 and a minority loss for DZ2.</p>
<p>You may discover that one or more of your cluster nodes are offline in a number of ways, including the <code>recovery partition states</code> <a class="" href="/docs/ignite3/3.1.0/tools/cli-commands">CLI command</a> with the <code>--global</code> option, which would show <code>Read-only partition</code>, <code>Degraded partition</code>, or <code>Unavailable partition</code> for offline nodes.</p>
<p>Once a minority offline status has been discovered:</p>
<ol>
<li class="">Command the system to bring the offline node(s) online.</li>
</ol>
<p>The system attempts to bring the indicated nodes online. Possible outcomes are:</p>
<ul>
<li class="">Nodes return online in time (before scale-down timeout) with valid data. The system replicates the missing data (if any) using either log replication or the full state transfer procedure.</li>
<li class="">Nodes return online in time but without data. The system replicates the data using the full state transfer procedure.</li>
<li class="">A node does not return online before scale-down timeout. The system distributes a replica to a new node and starts the rebalance procedure.</li>
<li class="">Node return online with inconsistent data - see steps 4 and 5.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Full state transfer and rebalancing might take a long time (tens of minutes). We suggest that you recover nodes as soon as you discover they are offline.</p></div></div>
<ol start="2">
<li class="">Run the <code>recovery partition states</code> command on the relevant zones/nodes/partitions to verify <a href="#partition-states" class="">Partition States</a>.</li>
<li class="">If the state is <code>Healthy</code> or <code>Available partition</code>, consider the recovery completed.</li>
<li class="">If the state is <code>Broken</code>:<!-- -->
<ol>
<li class="">Restart your Apache Ignite node or the relevant partitions using the <code>recovery partitions restart</code> command.</li>
<li class="">Rerun the <code>recovery partition states</code> command.</li>
<li class="">If the partition state remains <code>Broken</code>, reset the partitions with deletion by using the <code>recovery partitions restart --with-cleanup</code> command. Local partition data will be deleted and restored from the cluster.</li>
</ol>
</li>
<li class="">If the partition state is <code>Read-only partition</code>, <code>Degraded partition</code>, or <code>Unavailable partition</code>, reset the relevant partitions using the <code>recovery reset partitions</code> command.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="majority-offline">Majority Offline<a href="#majority-offline" class="hash-link" aria-label="Direct link to Majority Offline" title="Direct link to Majority Offline" translate="no">​</a></h3>
<p><em>Majority</em> refers to half (or more) of the number of <em>replicas</em> configured for a distribution zone (DZ). For example, of DZ1 is configured with 2 replicas and DZ2 with 3 replicas, losing a single Apache Ignite node is a majority loss for DZ1 and a minority loss for DZ2.</p>
<p>You may discover that one or more of your cluster nodes are offline in a number of ways, including the <code>recovery partition states</code> CLI command with the <code>--global</code> option, which would show <code>Read-only partition</code>, <code>Degraded partition</code>, or <code>Unavailable partition</code> for offline nodes.</p>
<p>If the node(s) that remain(s) online include the primary replica, the partition becomes <code>Read-only partition</code> (see <a href="#global-partition-states" class="">Global Partition States</a>); all the data is available for reading until lease expires. If the node(s) that remain(s) online do <em>not</em> include the primary replica, the partition becomes <code>Unavailable partition</code>.</p>
<p>Once a majority offline status has been discovered:</p>
<ol>
<li class="">Command the system to bring the offline nodes online.</li>
</ol>
<p>The system attempts to bring the indicated nodes online. Possible outcomes are:</p>
<ul>
<li class="">Nodes return online in time (before scale-down timeout) with valid data. A leader is elected, the system replicates the missing data (if any) using either log replication or the full state transfer procedure, and a leaseholder is elected</li>
<li class="">Nodes return online with inconsistent data - see steps 4 and 5.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Full state transfer and rebalancing might take a long time (tens of minutes). We suggest that you recover nodes as soon as you discover they are offline.</p></div></div>
<ol start="2">
<li class="">Run the <code>recovery partition states</code> command on the relevant zones/nodes/partitions to verify <a href="#partition-states" class="">Partition States</a>.</li>
<li class="">If the state is <code>Healthy</code> or <code>Available partition</code>, consider the recovery completed.</li>
<li class="">If the state is <code>Broken</code>:<!-- -->
<ol>
<li class="">Restart your Apache Ignite nodes or the relevant partitions using the <code>recovery partitions restart</code> command.</li>
<li class="">Rerun the <code>recovery partition states</code> command.</li>
<li class="">If the partition state remains <code>Broken</code>, reset the partitions with deletion by using the <code>recovery partitions restart --with-cleanup</code> command. Local partition data will be deleted and restored from the cluster.</li>
</ol>
</li>
<li class="">If the partition state is <code>Read-only partition</code>, <code>Degraded partition</code>, or <code>Unavailable partition</code>, reset the relevant partitions using the <code>recovery partitions reset</code> CLI command.</li>
</ol>
<p>In the Majority Offline scenario, you would typically lose part of the data. For example, if you reset partition A while partition B was in the <code>Available partition</code> state, you would lose:</p>
<ul>
<li class="">The latest data from A that has been restored using <code>recovery partitions reset</code></li>
<li class="">Some of the latest data from B, which had been inserted into it in a transaction that had also inserted data into A</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="partition-loss">Partition Loss<a href="#partition-loss" class="hash-link" aria-label="Direct link to Partition Loss" title="Direct link to Partition Loss" translate="no">​</a></h3>
<p>In this scenario, in addition to having <a href="#majority-offline" class="">Majority Offline</a>, you lose all replicas of a partition, e.g., partition A. This causes a loss of <em>all</em> the data from partition A once you run the <code>recovery partitions reset</code> CLI command, as well possibly a loss of some of the recent updates in other partitions.</p>
<p>Try bringing the nodes back online as described in the <a href="#majority-offline" class="">Majority Offline</a> scenario.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="partition-states">Partition States<a href="#partition-states" class="hash-link" aria-label="Direct link to Partition States" title="Direct link to Partition States" translate="no">​</a></h2>
<p>This section describes the data partition states that define the partition availability and readiness for utilization.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="local-partition-states">Local Partition States<a href="#local-partition-states" class="hash-link" aria-label="Direct link to Local Partition States" title="Direct link to Local Partition States" translate="no">​</a></h3>
<p><em>Local partition state</em> is a local property of a replica, storage, state machine, etc., associated with the partition.</p>
<ul>
<li class=""><code>Healthy</code> - a state machine is running with no issues.</li>
<li class=""><code>Initializing</code> - a node is online, but the corresponding RAFT group has not completed its initialization yet.</li>
<li class=""><code>Snapshot installation</code> - a full state transfer is taking place. Once it has finished, the partition will become <code>healthy</code> or <code>catching-up</code>. Before that, data cannot be read, and log replication is on pause.</li>
<li class=""><code>Catching-up</code> - a node is in the process of replicating data from the leader, and its data is slightly in the past. More specifically, node has not replicated the tail of the log that corresponds to 100 log entries.</li>
<li class=""><code>Broken</code> - the state machine experiences issues (likely as a result of an exception). Some data might be unavailable for reading, and the log cannot be replicated. This state will not be changed automatically, it requires intervention.</li>
<li class=""><code>Unavailable</code> - state of the partition is currently unknown. It may happen when partition is not yet started or is already stopping.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-partition-states">Global Partition States<a href="#global-partition-states" class="hash-link" aria-label="Direct link to Global Partition States" title="Direct link to Global Partition States" translate="no">​</a></h3>
<p><em>Global partition state</em> is a global property of a partition that specifies its apparent functionality from user&#x27;s point of view.</p>
<ul>
<li class=""><code>Available</code> - a healthy partition that can process read and write requests. Implies that all peers are healthy at the moment.</li>
<li class=""><code>Read-only</code> - a partition that can process read requests but not the write requests. There is no healthy majority. However, there is at least one alive (healthy/catch-up) peer that can process historical read-only queries.</li>
<li class=""><code>Unavailable</code> - a partition that cannot process any requests.</li>
<li class=""><code>Degraded</code> - a partition that is available to the user, but is at a higher risk of having issues than other partitions. For example, one of the group&#x27;s peers is offline. There is still a majority, but the backup factor is low.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/apache/ignite-3/tree/main/docs/docs/configure-and-operate/operations/disaster-recovery-partitions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ignite3/3.1.0/configure-and-operate/operations/disaster-recovery-system-groups"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">System Groups Recovery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#disaster-scenarios-and-recovery-instructions" class="table-of-contents__link toc-highlight">Disaster Scenarios and Recovery Instructions</a><ul><li><a href="#minority-offline" class="table-of-contents__link toc-highlight">Minority Offline</a></li><li><a href="#majority-offline" class="table-of-contents__link toc-highlight">Majority Offline</a></li><li><a href="#partition-loss" class="table-of-contents__link toc-highlight">Partition Loss</a></li></ul></li><li><a href="#partition-states" class="table-of-contents__link toc-highlight">Partition States</a><ul><li><a href="#local-partition-states" class="table-of-contents__link toc-highlight">Local Partition States</a></li><li><a href="#global-partition-states" class="table-of-contents__link toc-highlight">Global Partition States</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/ignite3/3.1.0/">Apache Ignite 3</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ignite.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apache Ignite<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://ignite.apache.org/community.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">User Mailing List<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache Software Foundation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apache Software Foundation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/ignite-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 The Apache Software Foundation. Licensed under the Apache License, Version 2.0.</div></div></div></footer></div>
</body>
</html>