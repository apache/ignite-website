"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7164],{16173:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"api-reference/native-clients/java/client-api","title":"Client API","description":"The IgniteClient provides a lightweight connection to an Ignite cluster. Applications use the client to access data and execute operations without running a full cluster node. The client maintains connection pools, handles automatic reconnection, and supports authentication and TLS encryption.","source":"@site/docs/api-reference/native-clients/java/client-api.md","sourceDirName":"api-reference/native-clients/java","slug":"/api-reference/native-clients/java/client-api","permalink":"/docs/ignite3/3.1.0/api-reference/native-clients/java/client-api","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/api-reference/native-clients/java/client-api.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Client API","id":"client-api","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Java API","permalink":"/docs/ignite3/3.1.0/api-reference/native-clients/java/"},"next":{"title":"Server API","permalink":"/docs/ignite3/3.1.0/api-reference/native-clients/java/server-api"}}');var c=i(74848),o=i(28453);const r={title:"Client API",id:"client-api",sidebar_position:1},l="Client API",s={},a=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"Connection Configuration",id:"connection-configuration",level:2},{value:"Connection Resilience",id:"connection-resilience",level:2},{value:"Retry Policies",id:"retry-policies",level:2},{value:"Authentication",id:"authentication",level:2},{value:"TLS Configuration",id:"tls-configuration",level:2},{value:"Asynchronous Connection",id:"asynchronous-connection",level:2},{value:"Active Connections",id:"active-connections",level:2},{value:"Resource Management",id:"resource-management",level:2},{value:"Configuration Access",id:"configuration-access",level:2},{value:"Reference",id:"reference",level:2},{value:"Builder Configuration Methods",id:"builder-configuration-methods",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"client-api",children:"Client API"})}),"\n",(0,c.jsx)(n.p,{children:"The IgniteClient provides a lightweight connection to an Ignite cluster. Applications use the client to access data and execute operations without running a full cluster node. The client maintains connection pools, handles automatic reconnection, and supports authentication and TLS encryption."}),"\n",(0,c.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,c.jsx)(n.p,{children:"The client implements the Ignite interface and adds connection management capabilities. Unlike embedded nodes, clients do not store data or participate in cluster consensus. Clients connect to server nodes via a binary protocol over TCP."}),"\n",(0,c.jsx)(n.p,{children:"The client builder pattern configures connection parameters before establishing cluster connectivity. Once created, the client provides access to tables, SQL, transactions, compute, and catalog APIs."}),"\n",(0,c.jsx)(n.h2,{id:"connection-configuration",children:"Connection Configuration"}),"\n",(0,c.jsx)(n.p,{children:"Configure the client using the builder:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'try (IgniteClient client = IgniteClient.builder()\n    .addresses("localhost:10800", "server2:10800")\n    .connectTimeout(5000)\n    .operationTimeout(30000)\n    .heartbeatInterval(3000)\n    .heartbeatTimeout(5000)\n    .retryPolicy(new RetryReadPolicy())\n    .build()) {\n\n    String nodeName = client.name();\n    System.out.println("Connected to: " + nodeName);\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"addresses()"})," method accepts multiple server endpoints. The client attempts connections in order and maintains active connections to all reachable servers for load distribution."]}),"\n",(0,c.jsx)(n.h2,{id:"connection-resilience",children:"Connection Resilience"}),"\n",(0,c.jsx)(n.p,{children:"The client automatically reconnects when connections fail. Configure reconnection behavior with timeout and interval settings:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'IgniteClient client = IgniteClient.builder()\n    .addresses("server1:10800", "server2:10800")\n    .backgroundReconnectInterval(1000)\n    .build();\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"backgroundReconnectInterval()"})," parameter controls how frequently the client attempts to restore lost connections."]}),"\n",(0,c.jsx)(n.h2,{id:"retry-policies",children:"Retry Policies"}),"\n",(0,c.jsx)(n.p,{children:"Retry policies determine which failed operations should be retried. Use RetryReadPolicy to retry read-only operations while preventing duplicate writes:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'IgniteClient client = IgniteClient.builder()\n    .addresses("localhost:10800")\n    .retryPolicy(new RetryReadPolicy())\n    .build();\n'})}),"\n",(0,c.jsx)(n.p,{children:"Create custom retry policies by implementing the RetryPolicy interface. The policy receives context about the failed operation and returns whether to retry."}),"\n",(0,c.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,c.jsx)(n.p,{children:"Configure authentication using the authenticator builder parameter:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'IgniteClient client = IgniteClient.builder()\n    .addresses("localhost:10800")\n    .authenticator(BasicAuthenticator.builder()\n        .username("username")\n        .password("password")\n        .build())\n    .build();\n'})}),"\n",(0,c.jsx)(n.p,{children:"BasicAuthenticator provides username and password authentication. The client sends credentials during connection establishment."}),"\n",(0,c.jsx)(n.h2,{id:"tls-configuration",children:"TLS Configuration"}),"\n",(0,c.jsx)(n.p,{children:"Enable TLS for encrypted client-server communication:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'SslConfiguration ssl = SslConfiguration.builder()\n    .enabled(true)\n    .trustStorePath("/path/to/truststore.jks")\n    .trustStorePassword("password")\n    .build();\n\nIgniteClient client = IgniteClient.builder()\n    .addresses("localhost:10800")\n    .ssl(ssl)\n    .build();\n'})}),"\n",(0,c.jsx)(n.p,{children:"Configure keystore settings when using client certificate authentication."}),"\n",(0,c.jsx)(n.h2,{id:"asynchronous-connection",children:"Asynchronous Connection"}),"\n",(0,c.jsx)(n.p,{children:"Build the client asynchronously to avoid blocking during connection establishment:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'CompletableFuture<IgniteClient> clientFuture = IgniteClient.builder()\n    .addresses("localhost:10800")\n    .buildAsync();\n\nclientFuture.thenAccept(client -> {\n    // Use client\n}).exceptionally(ex -> {\n    // Handle connection failure\n    return null;\n});\n'})}),"\n",(0,c.jsx)(n.p,{children:"Asynchronous building returns immediately while the client establishes connections in the background."}),"\n",(0,c.jsx)(n.h2,{id:"active-connections",children:"Active Connections"}),"\n",(0,c.jsx)(n.p,{children:"Retrieve information about active server connections:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'List<ClusterNode> connections = client.connections();\nfor (ClusterNode node : connections) {\n    System.out.println("Connected to: " + node.name());\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"The connections list reflects currently active client-server connections."}),"\n",(0,c.jsx)(n.h2,{id:"resource-management",children:"Resource Management"}),"\n",(0,c.jsx)(n.p,{children:"Close the client to release network connections and resources:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:'try (IgniteClient client = IgniteClient.builder()\n    .addresses("localhost:10800")\n    .build()) {\n\n    // Use client\n} // Automatically closed\n'})}),"\n",(0,c.jsx)(n.p,{children:"Use try-with-resources to ensure proper cleanup. Closing the client terminates all active operations and connections."}),"\n",(0,c.jsx)(n.h2,{id:"configuration-access",children:"Configuration Access"}),"\n",(0,c.jsx)(n.p,{children:"Access the current client configuration:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-java",children:"IgniteClientConfiguration config = client.configuration();\nlong timeout = config.operationTimeout();\n"})}),"\n",(0,c.jsx)(n.p,{children:"The configuration object provides read-only access to connection settings."}),"\n",(0,c.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Key interface: ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.IgniteClient"})]}),"\n",(0,c.jsxs)(n.li,{children:["Builder: ",(0,c.jsx)(n.code,{children:"IgniteClient.Builder"})]}),"\n",(0,c.jsxs)(n.li,{children:["Configuration: ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.IgniteClientConfiguration"})]}),"\n",(0,c.jsxs)(n.li,{children:["Authentication: ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.IgniteClientAuthenticator"}),", ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.BasicAuthenticator"})]}),"\n",(0,c.jsxs)(n.li,{children:["TLS: ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.SslConfiguration"})]}),"\n",(0,c.jsxs)(n.li,{children:["Retry: ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.RetryPolicy"}),", ",(0,c.jsx)(n.code,{children:"org.apache.ignite.client.RetryReadPolicy"})]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"builder-configuration-methods",children:"Builder Configuration Methods"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"addresses(String...)"})," - Server endpoints (host",":port"," format)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"connectTimeout(long)"})," - Socket connection timeout in milliseconds"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"operationTimeout(long)"})," - Default operation timeout in milliseconds"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"heartbeatInterval(long)"})," - Heartbeat message interval in milliseconds"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"heartbeatTimeout(long)"})," - Heartbeat timeout in milliseconds"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"backgroundReconnectInterval(long)"})," - Reconnection attempt interval in milliseconds"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"retryPolicy(RetryPolicy)"})," - Retry policy for failed operations"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"authenticator(IgniteClientAuthenticator)"})," - Authentication configuration"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ssl(SslConfiguration)"})," - TLS configuration"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"metricsEnabled(boolean)"})," - Enable JMX metrics collection"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"loggerFactory(LoggerFactory)"})," - Custom logger factory"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"build()"})," - Create client synchronously"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"buildAsync()"})," - Create client asynchronously"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(96540);const c={},o=t.createContext(c);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);