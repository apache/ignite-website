"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7577],{5369:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api-reference/native-clients/java/server-api","title":"Server API","description":"The Ignite interface provides access to an embedded cluster node. Applications using the embedded approach run as full cluster participants that store data, process queries, and participate in cluster operations. This contrasts with thin clients that connect remotely without storing data.","source":"@site/docs/api-reference/native-clients/java/server-api.md","sourceDirName":"api-reference/native-clients/java","slug":"/api-reference/native-clients/java/server-api","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/java/server-api","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/api-reference/native-clients/java/server-api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Server API","id":"server-api","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Client API","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/java/client-api"},"next":{"title":"Tables API","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/java/tables-api"}}');var s=t(74848),r=t(28453);const a={title:"Server API",id:"server-api",sidebar_position:2},o="Server API",c={},l=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"Node Initialization",id:"node-initialization",level:2},{value:"Resource Access",id:"resource-access",level:2},{value:"Table Operations",id:"table-operations",level:2},{value:"SQL Execution",id:"sql-execution",level:2},{value:"Transaction Management",id:"transaction-management",level:2},{value:"Compute Operations",id:"compute-operations",level:2},{value:"Catalog Management",id:"catalog-management",level:2},{value:"Cluster Information",id:"cluster-information",level:2},{value:"Lifecycle Management",id:"lifecycle-management",level:2},{value:"Reference",id:"reference",level:2},{value:"IgniteServer Methods",id:"igniteserver-methods",level:3},{value:"Ignite API Methods",id:"ignite-api-methods",level:3},{value:"Subsystem Facades",id:"subsystem-facades",level:3},{value:"Network Types",id:"network-types",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"server-api",children:"Server API"})}),"\n",(0,s.jsx)(n.p,{children:"The Ignite interface provides access to an embedded cluster node. Applications using the embedded approach run as full cluster participants that store data, process queries, and participate in cluster operations. This contrasts with thin clients that connect remotely without storing data."}),"\n",(0,s.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsx)(n.p,{children:"An embedded node initializes as part of the application process. The node joins the cluster during startup and provides direct access to all cluster subsystems. Since the node stores data locally, operations execute without network hops when accessing colocated data."}),"\n",(0,s.jsx)(n.p,{children:"The Ignite interface serves as the primary entry point for all operations. Applications obtain references to tables, SQL engines, transaction managers, compute capabilities, and catalog management through this interface."}),"\n",(0,s.jsx)(n.h2,{id:"node-initialization",children:"Node Initialization"}),"\n",(0,s.jsx)(n.p,{children:"Start an embedded node using the IgniteServer start method:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'IgniteServer server = IgniteServer.start(\n    "myNode",\n    Path.of("/config/ignite-config.conf"),\n    Path.of("/work/dir")\n);\n\nserver.initCluster(\n    InitParameters.builder()\n        .metaStorageNodes(server)\n        .cmgNodes(server)\n        .build()\n);\n\nIgnite ignite = server.api();\nString nodeName = ignite.name();\nSystem.out.println("Node started: " + nodeName);\n\n// Use node for operations\n'})}),"\n",(0,s.jsx)(n.p,{children:"The start method requires a node name, configuration file path, and work directory. The node name must be unique within the cluster. After starting, initialize the cluster and obtain the Ignite API through the api() method."}),"\n",(0,s.jsx)(n.h2,{id:"resource-access",children:"Resource Access"}),"\n",(0,s.jsx)(n.p,{children:"Access cluster resources through the Ignite interface:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"IgniteTables tables = ignite.tables();\nIgniteSql sql = ignite.sql();\nIgniteTransactions transactions = ignite.transactions();\nIgniteCompute compute = ignite.compute();\nIgniteCatalog catalog = ignite.catalog();\nIgniteCluster cluster = ignite.cluster();\n"})}),"\n",(0,s.jsx)(n.p,{children:"Each accessor returns a facade for the corresponding subsystem. These facades remain valid for the node lifetime."}),"\n",(0,s.jsx)(n.h2,{id:"table-operations",children:"Table Operations"}),"\n",(0,s.jsx)(n.p,{children:"Obtain table references for data operations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Table users = ignite.tables().table("users");\nif (users != null) {\n    RecordView<Tuple> view = users.recordView();\n    // Perform operations\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"The table method returns null if the table does not exist."}),"\n",(0,s.jsx)(n.h2,{id:"sql-execution",children:"SQL Execution"}),"\n",(0,s.jsx)(n.p,{children:"Execute SQL queries using the SQL facade:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'try (ResultSet<SqlRow> rs = ignite.sql().execute(\n    null,\n    "SELECT * FROM users WHERE age > ?",\n    25\n)) {\n    while (rs.hasNext()) {\n        SqlRow row = rs.next();\n        System.out.println(row.stringValue("name"));\n    }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Pass null as the transaction parameter for auto-commit execution."}),"\n",(0,s.jsx)(n.h2,{id:"transaction-management",children:"Transaction Management"}),"\n",(0,s.jsx)(n.p,{children:"Manage transactions through the transaction facade:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'ignite.transactions().runInTransaction(tx -> {\n    Table table = ignite.tables().table("accounts");\n    RecordView<Tuple> view = table.recordView();\n\n    Tuple key = Tuple.create().set("id", 1);\n    Tuple record = view.get(tx, key);\n\n    record.set("balance", record.intValue("balance") + 100);\n    view.put(tx, record);\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"The runInTransaction method automatically commits on normal completion and rolls back on exceptions."}),"\n",(0,s.jsx)(n.h2,{id:"compute-operations",children:"Compute Operations"}),"\n",(0,s.jsx)(n.p,{children:"Submit compute jobs for distributed execution:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'JobDescriptor<String, Integer> descriptor =\n    JobDescriptor.of("com.example.WordCountJob");\n\nCompletableFuture<JobExecution<Integer>> execution =\n    ignite.compute().submitAsync(\n        JobTarget.anyNode(ignite.cluster().nodes()),\n        descriptor,\n        "input text"\n    );\n\nInteger result = execution\n    .thenCompose(JobExecution::resultAsync)\n    .join();\n'})}),"\n",(0,s.jsx)(n.p,{children:"The compute facade submits jobs to cluster nodes based on the specified targeting strategy."}),"\n",(0,s.jsx)(n.h2,{id:"catalog-management",children:"Catalog Management"}),"\n",(0,s.jsx)(n.p,{children:"Manage schema definitions through the catalog facade:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'TableDefinition definition = TableDefinition.builder("products")\n    .columns(\n        ColumnDefinition.column("id", ColumnType.INT32),\n        ColumnDefinition.column("name", ColumnType.STRING)\n    )\n    .primaryKey("id")\n    .build();\n\nignite.catalog().createTableAsync(definition).join();\n'})}),"\n",(0,s.jsx)(n.p,{children:"The catalog facade provides programmatic schema management without executing DDL statements."}),"\n",(0,s.jsx)(n.h2,{id:"cluster-information",children:"Cluster Information"}),"\n",(0,s.jsx)(n.p,{children:"Access cluster topology information:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'Collection<ClusterNode> nodes = ignite.cluster().nodes();\nfor (ClusterNode node : nodes) {\n    NetworkAddress address = node.address();\n    System.out.println("Node: " + node.name() + " at " + address.host() + ":" + address.port());\n}\n\nClusterNode local = ignite.cluster().localNode();\nSystem.out.println("Local node: " + local.name());\n'})}),"\n",(0,s.jsx)(n.p,{children:"The cluster().nodes() method returns all active cluster members. The cluster facade provides access to local node information and cluster-wide operations."}),"\n",(0,s.jsx)(n.h2,{id:"lifecycle-management",children:"Lifecycle Management"}),"\n",(0,s.jsx)(n.p,{children:"Properly shut down the node to release resources:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'IgniteServer server = IgniteServer.start("node1", configPath, workDir);\nserver.initCluster(InitParameters.builder()\n    .metaStorageNodes(server)\n    .cmgNodes(server)\n    .build());\n\nIgnite ignite = server.api();\n// Use node\n\nserver.shutdown();\n'})}),"\n",(0,s.jsx)(n.p,{children:"Shutting down the node stops local subsystems and removes the node from the cluster. Note that IgniteServer provides shutdown() methods, while the Ignite interface does not implement AutoCloseable."}),"\n",(0,s.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Server interface: ",(0,s.jsx)(n.code,{children:"org.apache.ignite.IgniteServer"})]}),"\n",(0,s.jsxs)(n.li,{children:["API interface: ",(0,s.jsx)(n.code,{children:"org.apache.ignite.Ignite"})]}),"\n",(0,s.jsxs)(n.li,{children:["Network types: ",(0,s.jsx)(n.code,{children:"org.apache.ignite.network.NetworkAddress"}),", ",(0,s.jsx)(n.code,{children:"org.apache.ignite.network.ClusterNode"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"igniteserver-methods",children:"IgniteServer Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"static IgniteServer start(String nodeName, Path configPath, Path workDir)"})," - Start an embedded node"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"void initCluster(InitParameters parameters)"})," - Initialize the cluster"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Ignite api()"})," - Get the Ignite API facade"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"void shutdown()"})," - Stop the node"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"String name()"})," - Returns the node name"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"ignite-api-methods",children:"Ignite API Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"String name()"})," - Returns the node name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteTables tables()"})," - Access table management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteTransactions transactions()"})," - Access transaction management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteSql sql()"})," - Access SQL query engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCompute compute()"})," - Access compute job execution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCatalog catalog()"})," - Access catalog management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCluster cluster()"})," - Access cluster information"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"subsystem-facades",children:"Subsystem Facades"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteTables"})," - Table discovery and access"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteTransactions"})," - Transaction lifecycle management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteSql"})," - SQL query execution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCompute"})," - Distributed job execution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCatalog"})," - Schema definition management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IgniteCluster"})," - Cluster topology and node information"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"network-types",children:"Network Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NetworkAddress"})," - Represents a network address with host and port","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"String host()"})," - Returns the host name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"int port()"})," - Returns the port number"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ClusterNode"})," - Represents a node in the cluster","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"String name()"})," - Returns the node name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NetworkAddress address()"})," - Returns the network address"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"UUID id()"})," - Returns the node ID"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(96540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);