"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5318],{28453:(e,t,i)=>{i.d(t,{R:()=>h,x:()=>r});var n=i(96540);const s={},a=n.createContext(s);function h(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:h(e.components),n.createElement(a.Provider,{value:t},e.children)}},63367:(e,t,i)=>{i.d(t,{A:()=>X});var n=i(96540);const s={},a=!1,h=8,r=10,d="railroad-diagram",o=!0,l="center",c=8.5,m=7;class p{constructor(e,t,i){this.children=i||[],this.tagName=e,this.attrs=k(t,{})}format(e,t,i){}addTo(e){if(e instanceof p)return e.children.push(this),this;var t=this.toSVG();return e.appendChild(t),t}toSVG(){var e=function(e,t,i){t=t||{},i=i||"";var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var s in t)"xlink:href"===s?n.setAttributeNS("http://www.w3.org/1999/xlink","href",t[s]):n.setAttribute(s,t[s]);return n.textContent=i,n}(this.tagName,this.attrs);return"string"==typeof this.children?e.textContent=this.children:this.children.forEach(function(t){e.appendChild(t.toSVG())}),e}toString(){var e="<"+this.tagName,t="g"==this.tagName||"svg"==this.tagName;for(var i in this.attrs)e+=" "+i+'="'+(this.attrs[i]+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")+'"';return e+=">",t&&(e+="\n"),"string"==typeof this.children?e+=this.children.replace(/[*_\`\[\]<&]/g,function(e){return"&#"+e.charCodeAt(0)+";"}):this.children.forEach(function(t){e+=t}),e+="</"+this.tagName+">\n"}walk(e){e(this)}}class u extends p{constructor(e,t){super("path"),this.attrs.d="M"+e+" "+t}m(e,t){return this.attrs.d+="m"+e+" "+t,this}h(e){return this.attrs.d+="h"+e,this}right(e){return this.h(Math.max(0,e))}left(e){return this.h(-Math.max(0,e))}v(e){return this.attrs.d+="v"+e,this}down(e){return this.v(Math.max(0,e))}up(e){return this.v(-Math.max(0,e))}arc(e){var t,i=r,n=r;return"e"!=e[0]&&"w"!=e[1]||(i*=-1),"s"!=e[0]&&"n"!=e[1]||(n*=-1),t="ne"==e||"es"==e||"sw"==e||"wn"==e?1:0,this.attrs.d+="a"+r+" "+r+" 0 0 "+t+" "+i+" "+n,this}arc_8(e,t){const i=r,n=1/Math.sqrt(2)*i,s=i-n;let a="a "+i+" "+i+" 0 0 "+("cw"==t?"1":"0")+" ";const h=e+t;return a+=("ncw"==h?[n,s]:"necw"==h?[s,n]:"ecw"==h?[-s,n]:"secw"==h?[-n,s]:"scw"==h?[-n,-s]:"swcw"==h?[-s,-n]:"wcw"==h?[s,-n]:"nwcw"==h?[n,-s]:"nccw"==h?[-n,s]:"nwccw"==h?[-s,n]:"wccw"==h?[s,n]:"swccw"==h?[n,s]:"sccw"==h?[n,-s]:"seccw"==h?[s,-n]:"eccw"==h?[-s,-n]:"neccw"==h?[-n,-s]:null).join(" "),this.attrs.d+=a,this}l(e,t){return this.attrs.d+="l"+e+" "+t,this}format(){return this.attrs.d+="h.5",this}}class w extends p{constructor(e,t,i,n){super(e,i,n),this.items=t.map(q)}walk(e){e(this),this.items.forEach(t=>t.walk(e))}}class x extends w{constructor(...e){super("svg",e,{class:d}),this.items[0]instanceof _||this.items.unshift(new _),this.items[this.items.length-1]instanceof I||this.items.push(new I),this.up=this.down=this.height=this.width=0;for(const t of this.items)this.width+=t.width+(t.needsSpace?20:0),this.up=Math.max(this.up,t.up-this.height),this.height+=t.height,this.down=Math.max(this.down-t.height,t.down);this.formatted=!1}format(e,t,i,n){e=k(e,20),t=k(t,e,20),i=k(i,e,20);var s=n=k(n,t,20),a=e;a+=this.up;for(var h=new p("g",o?{transform:"translate(.5 .5)"}:{}),r=0;r<this.items.length;r++){var d=this.items[r];d.needsSpace&&(new u(s,a).h(10).addTo(h),s+=10),d.format(s,a,d.width).addTo(h),s+=d.width,a+=d.height,d.needsSpace&&(new u(s,a).h(10).addTo(h),s+=10)}return this.attrs.width=this.width+n+t,this.attrs.height=this.up+this.height+this.down+e+i,this.attrs.viewBox="0 0 "+this.attrs.width+" "+this.attrs.height,h.addTo(this),this.formatted=!0,this}addTo(e){if(!e){var t=document.getElementsByTagName("script");e=(t=t[t.length-1]).parentNode}return super.addTo.call(this,e)}toSVG(){return this.formatted||this.format(),super.toSVG.call(this)}toString(){return this.formatted||this.format(),super.toString.call(this)}toStandalone(e){this.formatted||this.format();const t=new p("style",{},e||"\n\tsvg {\n\t\tbackground-color: hsl(30,20%,95%);\n\t}\n\tpath {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: rgba(0,0,0,0);\n\t}\n\ttext {\n\t\tfont: bold 14px monospace;\n\t\ttext-anchor: middle;\n\t\twhite-space: pre;\n\t}\n\ttext.diagram-text {\n\t\tfont-size: 12px;\n\t}\n\ttext.diagram-arrow {\n\t\tfont-size: 16px;\n\t}\n\ttext.label {\n\t\ttext-anchor: start;\n\t}\n\ttext.comment {\n\t\tfont: italic 12px monospace;\n\t}\n\tg.non-terminal text {\n\t\t/*font-style: italic;*/\n\t}\n\trect {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: hsl(120,100%,90%);\n\t}\n\trect.group-box {\n\t\tstroke: gray;\n\t\tstroke-dasharray: 10 5;\n\t\tfill: none;\n\t}\n\tpath.diagram-text {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: white;\n\t\tcursor: help;\n\t}\n\tg.diagram-text:hover path.diagram-text {\n\t\tfill: #eee;\n\t}");this.children.push(t),this.attrs.xmlns="http://www.w3.org/2000/svg",this.attrs["xmlns:xlink"]="http://www.w3.org/1999/xlink";const i=super.toString.call(this);return this.children.pop(),delete this.attrs.xmlns,i}}s.Diagram=(...e)=>new x(...e);class g extends p{constructor(...e){var t=new x(...e);return t.items[0]=new _({type:"complex"}),t.items[t.items.length-1]=new I({type:"complex"}),t}}s.ComplexDiagram=(...e)=>new g(...e);class T extends w{constructor(...e){super("g",e);this.items.length;this.needsSpace=!0,this.up=this.down=this.height=this.width=0;for(var t=0;t<this.items.length;t++){var i=this.items[t];this.width+=i.width+(i.needsSpace?20:0),this.up=Math.max(this.up,i.up-this.height),this.height+=i.height,this.down=Math.max(this.down-i.height,i.down)}this.items[0].needsSpace&&(this.width-=10),this.items[this.items.length-1].needsSpace&&(this.width-=10),a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="sequence")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0];for(var s=0;s<this.items.length;s++){var a=this.items[s];a.needsSpace&&s>0&&(new u(e,t).h(10).addTo(this),e+=10),a.format(e,t,a.width).addTo(this),e+=a.width,t+=a.height,a.needsSpace&&s<this.items.length-1&&(new u(e,t).h(10).addTo(this),e+=10)}return this}}s.Sequence=(...e)=>new T(...e);class f extends w{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("Stack() must have at least one child.");this.width=Math.max.apply(null,this.items.map(function(e){return e.width+(e.needsSpace?20:0)})),this.items.length>1&&(this.width+=2*r),this.needsSpace=!0,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=0;for(var t=this.items.length-1,i=0;i<this.items.length;i++){var n=this.items[i];this.height+=n.height,i>0&&(this.height+=Math.max(2*r,n.up+h)),i<t&&(this.height+=Math.max(2*r,n.down+h))}a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="stack")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this);var s=e+=n[0];this.items.length>1&&(new u(e,t).h(r).addTo(this),e+=r);for(var a=0;a<this.items.length;a++){var d=this.items[a],o=this.width-(this.items.length>1?2*r:0);d.format(e,t,o).addTo(this),e+=o,t+=d.height,a!==this.items.length-1&&(new u(e,t).arc("ne").down(Math.max(0,d.down+h-2*r)).arc("es").left(o).arc("nw").down(Math.max(0,this.items[a+1].up+h-2*r)).arc("ws").addTo(this),t+=Math.max(d.down+h,2*r)+Math.max(this.items[a+1].up+h,2*r),e=s+r)}return this.items.length>1&&(new u(e,t).h(r).addTo(this),e+=r),new u(e,t).h(n[1]).addTo(this),this}}s.Stack=(...e)=>new f(...e);class E extends w{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("OptionalSequence() must have at least one child.");if(1===e.length)return new T(e);var t=r;this.needsSpace=!1,this.width=0,this.up=0,this.height=U(this.items,function(e){return e.height}),this.down=this.items[0].down;for(var i=0,n=0;n<this.items.length;n++){var s=this.items[n];this.up=Math.max(this.up,Math.max(2*t,s.up+h)-i),i+=s.height,n>0&&(this.down=Math.max(this.height+this.down,i+Math.max(2*t,s.down+h))-this.height);var d=(s.needsSpace?10:0)+s.width;this.width+=0===n?t+Math.max(d,t):2*t+Math.max(d,t)+t}a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="optseq")}format(e,t,i){var n=r,s=P(i,this.width);new u(e,t).right(s[0]).addTo(this),new u(e+s[0]+this.width,t+this.height).right(s[1]).addTo(this),e+=s[0];for(var a=t-this.up,d=this.items.length-1,o=0;o<this.items.length;o++){var l=this.items[o],c=l.needsSpace?10:0,m=l.width+c;0===o?(new u(e,t).arc("se").up(t-a-2*n).arc("wn").right(m-n).arc("ne").down(t+l.height-a-2*n).arc("ws").addTo(this),new u(e,t).right(c+n).addTo(this),l.format(e+c+n,t,l.width).addTo(this),e+=m+n,t+=l.height):o<d?(new u(e,a).right(2*n+Math.max(m,n)+n).arc("ne").down(t-a+l.height-2*n).arc("ws").addTo(this),new u(e,t).right(2*n).addTo(this),l.format(e+2*n,t,l.width).addTo(this),new u(e+l.width+2*n,t+l.height).right(c+n).addTo(this),new u(e,t).arc("ne").down(l.height+Math.max(l.down+h,2*n)-2*n).arc("ws").right(m-n).arc("se").up(l.down+h-2*n).arc("wn").addTo(this),e+=2*n+Math.max(m,n)+n,t+=l.height):(new u(e,t).right(2*n).addTo(this),l.format(e+2*n,t,l.width).addTo(this),new u(e+2*n+l.width,t+l.height).right(c+n).addTo(this),new u(e,t).arc("ne").down(l.height+Math.max(l.down+h,2*n)-2*n).arc("ws").right(m-n).arc("se").up(l.down+h-2*n).arc("wn").addTo(this))}return this}}s.OptionalSequence=(...e)=>new E(...e);class j extends w{constructor(...e){if(super("g",e),1===e.length)return new T(e);if(2!==e.length)throw new RangeError("AlternatingSequence() must have one or two children.");this.needsSpace=!1;const t=r,i=h,n=Math.max,s=this.items[0],d=this.items[1],o=1/Math.sqrt(2)*t*2,l=(1-1/Math.sqrt(2))*t*2,c=Math.max(t,h),m=c-l+o,p=n(t+t,c/2+t+t,c/2+i+s.down);this.up=p+s.height+s.up;const u=n(t+t,c/2+t+t,c/2+i+d.up);this.down=u+d.height+d.down,this.height=0;const w=2*(s.needsSpace?10:0)+s.width,x=2*(d.needsSpace?10:0)+d.width;this.width=2*t+n(w,m,x)+2*t,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="altseq")}format(e,t,i){const n=r,s=P(i,this.width);new u(e,t).right(s[0]).addTo(this),e+=s[0],new u(e+this.width,t).right(s[1]).addTo(this);const a=this.items[0],d=this.items[1],o=this.up-a.up,l=this.up-a.up-a.height;new u(e,t).arc("se").up(o-2*n).arc("wn").addTo(this),a.format(e+2*n,t-o,this.width-4*n).addTo(this),new u(e+this.width-2*n,t-l).arc("ne").down(l-2*n).arc("ws").addTo(this);const c=this.down-d.down-d.height,m=this.down-d.down;new u(e,t).arc("ne").down(c-2*n).arc("ws").addTo(this),d.format(e+2*n,t+c,this.width-4*n).addTo(this),new u(e+this.width-2*n,t+m).arc("se").up(m-2*n).arc("wn").addTo(this);const p=1/Math.sqrt(2)*n*2,w=(1-1/Math.sqrt(2))*n*2,x=Math.max(n,h),g=x-w+p,T=(this.width-4*n-g)/2;return new u(e+n,t-x/2-n).arc("ws").right(T).arc_8("n","cw").l(g-p,x-w).arc_8("sw","ccw").right(T).arc("ne").addTo(this),new u(e+n,t+x/2+n).arc("wn").right(T).arc_8("s","ccw").l(g-p,-(x-w)).arc_8("nw","cw").right(T).arc("se").addTo(this),this}}s.AlternatingSequence=(...e)=>new j(...e);class b extends w{constructor(e,...t){if(super("g",t),"number"!=typeof e||e!==Math.floor(e))throw new TypeError("The first argument of Choice() must be an integer.");if(e<0||e>=t.length)throw new RangeError("The first argument of Choice() must be an index for one of the items.");this.normal=e;var i,n=t.length-1;this.width=Math.max.apply(null,this.items.map(function(e){return e.width}))+4*r,this.height=this.items[e].height,this.up=this.items[0].up;for(var s=0;s<e;s++)i=s==e-1?2*r:r,this.up+=Math.max(i,this.items[s].height+this.items[s].down+h+this.items[s+1].up);for(this.down=this.items[n].down,s=e+1;s<=n;s++)i=s==e+1?2*r:r,this.down+=Math.max(i,this.items[s-1].height+this.items[s-1].down+h+this.items[s].up);this.down-=this.items[e].height,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="choice")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0];for(var s,a=this.items.length-1,d=this.width-4*r,o=this.normal-1;o>=0;o--){let i=this.items[o];o==this.normal-1&&(s=Math.max(2*r,this.items[this.normal].up+h+i.down+i.height)),new u(e,t).arc("se").up(s-2*r).arc("wn").addTo(this),i.format(e+2*r,t-s,d).addTo(this),new u(e+2*r+d,t-s+i.height).arc("ne").down(s-i.height+this.height-2*r).arc("ws").addTo(this),s+=Math.max(r,i.up+h+(0===o?0:this.items[o-1].down+this.items[o-1].height))}for(new u(e,t).right(2*r).addTo(this),this.items[this.normal].format(e+2*r,t,d).addTo(this),new u(e+2*r+d,t+this.height).right(2*r).addTo(this),o=this.normal+1;o<=a;o++){let i=this.items[o];o==this.normal+1&&(s=Math.max(2*r,this.height+this.items[this.normal].down+h+i.up)),new u(e,t).arc("ne").down(s-2*r).arc("ws").addTo(this),i.format(e+2*r,t+s,d).addTo(this),new u(e+2*r+d,t+s+i.height).arc("se").up(s-2*r+i.height-this.height).arc("wn").addTo(this),s+=Math.max(r,i.height+i.down+h+(o==a?0:this.items[o+1].up))}return this}}s.Choice=(...e)=>new b(...e);class S extends w{constructor(...e){if(super("g",e),0===e.length)throw new RangeError("HorizontalChoice() must have at least one child.");if(1===e.length)return new T(e);const t=this.items.slice(0,-1),i=this.items.slice(1,-1),n=this.items[0],s=this.items[this.items.length-1];this.needsSpace=!1,this.width=r,this.width+=2*r*(this.items.length-1),this.width+=U(this.items,e=>e.width+(e.needsSpace?20:0)),this.width+=s.height>0?r:0,this.width+=r,this.height=0,this._upperTrack=Math.max(2*r,h,B(t,e=>e.up)+h),this.up=Math.max(this._upperTrack,s.up),this._lowerTrack=Math.max(h,B(i,e=>e.height+Math.max(e.down+h,2*r)),s.height+s.down+h),n.height<this._lowerTrack&&(this._lowerTrack=Math.max(this._lowerTrack,n.height+2*r)),this.down=Math.max(this._lowerTrack,n.height+n.down),a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="horizontalchoice")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0];const s=this.items[0],a=this.items[this.items.length-1],h=this.items.slice(1);var d=U(this.items.slice(0,-1),e=>e.width+(e.needsSpace?20:0))+(this.items.length-2)*r*2-r;new u(e,t).arc("se").v(-(this._upperTrack-2*r)).arc("wn").h(d).addTo(this);var o=U(h,e=>e.width+(e.needsSpace?20:0))+(this.items.length-2)*r*2+(a.height>0?r:0)-r,l=e+r+s.width+(s.needsSpace?20:0)+2*r;new u(l,t+this._lowerTrack).h(o).arc("se").v(-(this._lowerTrack-2*r)).arc("wn").addTo(this);for(const[m,p]of function*(e){var t=0;for(const i of e)yield[t,i],t++}(this.items)){0===m?(new u(e,t).h(r).addTo(this),e+=r):(new u(e,t-this._upperTrack).arc("ne").v(this._upperTrack-2*r).arc("ws").addTo(this),e+=2*r);var c=p.width+(p.needsSpace?20:0);p.format(e,t,c).addTo(this),e+=c,m===this.items.length-1?0===p.height?new u(e,t).h(r).addTo(this):new u(e,t+p.height).arc("se").addTo(this):0===m&&p.height>this._lowerTrack?p.height-this._lowerTrack>=2*r?new u(e,t+p.height).arc("se").v(this._lowerTrack-p.height+2*r).arc("wn").addTo(this):new u(e,t+p.height).l(2*r,this._lowerTrack-p.height).addTo(this):new u(e,t+p.height).arc("ne").v(this._lowerTrack-p.height-2*r).arc("ws").addTo(this)}return this}}s.HorizontalChoice=(...e)=>new S(...e);class v extends w{constructor(e,t,...i){if(super("g",i),"number"!=typeof e||e!==Math.floor(e))throw new TypeError("The first argument of MultipleChoice() must be an integer.");if(e<0||e>=i.length)throw new RangeError("The first argument of MultipleChoice() must be an index for one of the items.");if(this.normal=e,"any"!=t&&"all"!=t)throw new SyntaxError("The second argument of MultipleChoice must be 'any' or 'all'.");this.type=t,this.needsSpace=!0,this.innerWidth=B(this.items,function(e){return e.width}),this.width=30+r+this.innerWidth+r+20,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=this.items[e].height;for(var n=0;n<this.items.length;n++){let t,i=this.items[n];t=n==e-1||n==e+1?10+r:r,n<e?this.up+=Math.max(t,i.height+i.down+h+this.items[n+1].up):n>e&&(this.down+=Math.max(t,i.up+h+this.items[n-1].down+this.items[n-1].height))}this.down-=this.items[e].height,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="multiplechoice")}format(e,t,i){var n=P(i,this.width);new u(e,t).right(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).right(n[1]).addTo(this),e+=n[0];for(var s,a=this.items[this.normal],d=this.normal-1;d>=0;d--){var o=this.items[d];d==this.normal-1&&(s=Math.max(10+r,a.up+h+o.down+o.height)),new u(e+30,t).up(s-r).arc("wn").addTo(this),o.format(e+30+r,t-s,this.innerWidth).addTo(this),new u(e+30+r+this.innerWidth,t-s+o.height).arc("ne").down(s-o.height+this.height-r-10).addTo(this),0!==d&&(s+=Math.max(r,o.up+h+this.items[d-1].down+this.items[d-1].height))}for(new u(e+30,t).right(r).addTo(this),a.format(e+30+r,t,this.innerWidth).addTo(this),new u(e+30+r+this.innerWidth,t+this.height).right(r).addTo(this),d=this.normal+1;d<this.items.length;d++){let i=this.items[d];d==this.normal+1&&(s=Math.max(10+r,a.height+a.down+h+i.up)),new u(e+30,t).down(s-r).arc("ws").addTo(this),i.format(e+30+r,t+s,this.innerWidth).addTo(this),new u(e+30+r+this.innerWidth,t+s+i.height).arc("se").up(s-r+i.height-a.height).addTo(this),d!=this.items.length-1&&(s+=Math.max(r,i.height+i.down+h+this.items[d+1].up))}var l=new p("g",{class:"diagram-text"}).addTo(this);return new p("title",{},"any"==this.type?"take one or more branches, once each, in any order":"take all branches, once each, in any order").addTo(l),new p("path",{d:"M "+(e+30)+" "+(t-10)+" h -26 a 4 4 0 0 0 -4 4 v 12 a 4 4 0 0 0 4 4 h 26 z",class:"diagram-text"}).addTo(l),new p("text",{x:e+15,y:t+4,class:"diagram-text"},"any"==this.type?"1+":"all").addTo(l),new p("path",{d:"M "+(e+this.width-20)+" "+(t-10)+" h 16 a 4 4 0 0 1 4 4 v 12 a 4 4 0 0 1 -4 4 h -16 z",class:"diagram-text"}).addTo(l),new p("path",{d:"M "+(e+this.width-13)+" "+(t-2)+" a 4 4 0 1 0 6 -1 m 2.75 -1 h -4 v 4 m 0 -3 h 2",style:"stroke-width: 1.75"}).addTo(l),this}}s.MultipleChoice=(...e)=>new v(...e);class A extends p{constructor(e,t){if(void 0===t)return new b(1,new R,e);if("skip"===t)return new b(0,new R,e);throw"Unknown value for Optional()'s 'skip' argument."}}s.Optional=(...e)=>new A(...e);class L extends p{constructor(e,t){super("g"),t=t||new R,this.item=q(e),this.rep=q(t),this.width=Math.max(this.item.width,this.rep.width)+2*r,this.height=this.item.height,this.up=this.item.up,this.down=Math.max(2*r,this.item.down+h+this.rep.up+this.rep.height+this.rep.down),this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="oneormore")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0],new u(e,t).right(r).addTo(this),this.item.format(e+r,t,this.width-2*r).addTo(this),new u(e+this.width-r,t+this.height).right(r).addTo(this);var s=Math.max(2*r,this.item.height+this.item.down+h+this.rep.up);return new u(e+r,t).arc("nw").down(s-2*r).arc("ws").addTo(this),this.rep.format(e+r,t+s,this.width-2*r).addTo(this),new u(e+this.width-r,t+s+this.rep.height).arc("se").up(s-2*r+this.rep.height-this.item.height).arc("en").addTo(this),this}walk(e){e(this),this.item.walk(e),this.rep.walk(e)}}s.OneOrMore=(...e)=>new L(...e);class N extends p{constructor(e,t,i){return new A(new L(e,t),i)}}s.ZeroOrMore=(...e)=>new N(...e);class y extends p{constructor(e,t){super("g"),this.item=q(e),this.label=t instanceof p?t:t?new D(t):void 0,this.width=Math.max(this.item.width+(this.item.needsSpace?20:0),this.label?this.label.width:0,2*r),this.height=this.item.height,this.boxUp=this.up=Math.max(this.item.up+h,r),this.label&&(this.up+=this.label.up+this.label.height+this.label.down),this.down=Math.max(this.item.down+h,r),this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="group")}format(e,t,i){var n=P(i,this.width);return new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0],new p("rect",{x:e,y:t-this.boxUp,width:this.width,height:this.boxUp+this.height+this.down,rx:r,ry:r,class:"group-box"}).addTo(this),this.item.format(e,t,this.width).addTo(this),this.label&&this.label.format(e,t-(this.boxUp+this.label.down+this.label.height),this.label.width).addTo(this),this}walk(e){e(this),this.item.walk(e),this.label.walk(e)}}s.Group=(...e)=>new y(...e);class _ extends p{constructor({type:e="simple",label:t}={}){super("g"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=e,t&&(this.label=""+t,this.width=Math.max(20,this.label.length*c+10)),a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="start")}format(e,t){let i=new u(e,t-10);return"complex"===this.type?i.down(20).m(0,-10).right(this.width).addTo(this):i.down(20).m(10,-20).down(20).m(-10,-10).right(this.width).addTo(this),this.label&&new p("text",{x:e,y:t-15,style:"text-anchor:start"},this.label).addTo(this),this}}s.Start=(...e)=>new _(...e);class I extends p{constructor({type:e="simple"}={}){super("path"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=e,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="end")}format(e,t){return"complex"===this.type?this.attrs.d="M "+e+" "+t+" h 20 m 0 -10 v 20":this.attrs.d="M "+e+" "+t+" h 20 m -10 -10 v 20 m 10 -20 v 20",this}}s.End=(...e)=>new I(...e);class O extends p{constructor(e,{href:t,title:i,cls:n}={}){super("g",{class:["terminal",n].join(" ")}),this.text=""+e,this.href=t,this.title=i,this.cls=n,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="terminal")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t).h(n[1]).addTo(this),e+=n[0],new p("rect",{x:e,y:t-11,width:this.width,height:this.up+this.down,rx:10,ry:10}).addTo(this);var s=new p("text",{x:e+this.width/2,y:t+4},this.text);return this.href?new p("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new p("title",{},[this.title]).addTo(this),this}}s.Terminal=(...e)=>new O(...e);class M extends p{constructor(e,{href:t,title:i,cls:n=""}={}){super("g",{class:["non-terminal",n].join(" ")}),this.text=""+e,this.href=t,this.title=i,this.cls=n,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="nonterminal")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t).h(n[1]).addTo(this),e+=n[0],new p("rect",{x:e,y:t-11,width:this.width,height:this.up+this.down}).addTo(this);var s=new p("text",{x:e+this.width/2,y:t+4},this.text);return this.href?new p("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new p("title",{},[this.title]).addTo(this),this}}s.NonTerminal=(...e)=>new M(...e);class D extends p{constructor(e,{href:t,title:i,cls:n=""}={}){super("g",{class:["comment",n].join(" ")}),this.text=""+e,this.href=t,this.title=i,this.cls=n,this.width=this.text.length*m+10,this.height=0,this.up=8,this.down=8,this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="comment")}format(e,t,i){var n=P(i,this.width);new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t+this.height).h(n[1]).addTo(this),e+=n[0];var s=new p("text",{x:e+this.width/2,y:t+5,class:"comment"},this.text);return this.href?new p("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new p("title",{},this.title).addTo(this),this}}s.Comment=(...e)=>new D(...e);class R extends p{constructor(){super("g"),this.width=0,this.height=0,this.up=0,this.down=0,this.needsSpace=!1,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="skip")}format(e,t,i){return new u(e,t).right(i).addTo(this),this}}s.Skip=(...e)=>new R(...e);class C extends p{constructor({width:e=50,up:t=15,height:i=25,down:n=15,needsSpace:s=!0}={}){super("g"),this.width=e,this.height=i,this.up=t,this.down=n,this.needsSpace=!0,a&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="block")}format(e,t,i){var n=P(i,this.width);return new u(e,t).h(n[0]).addTo(this),new u(e+n[0]+this.width,t).h(n[1]).addTo(this),e+=n[0],new p("rect",{x:e,y:t-this.up,width:this.width,height:this.up+this.height+this.down}).addTo(this),this}}function k(...e){return e.reduce(function(e,t){return void 0!==e?e:t})}function P(e,t){var i=e-t;switch(l){case"left":return[0,i];case"right":return[i,0];default:return[i/2,i/2]}}function q(e){return e instanceof p?e:new O(""+e)}function U(e,t){return t||(t=function(e){return e}),e.map(t).reduce(function(e,t){return e+t},0)}function B(e,t){return t||(t=function(e){return e}),Math.max.apply(null,e.map(t))}s.Block=(...e)=>new C(...e);var F=i(74848);function X({children:e}){const t=(0,n.useRef)(null),i=(0,n.useRef)(null),[s,a]=(0,n.useState)(!1),h=t=>{if(t.current)try{const n=(...e)=>new x(...e),s=(...e)=>new O(...e),a=(...e)=>new M(...e),h=(...e)=>new A(...e),r=(...e)=>new T(...e),d=(...e)=>new b(...e),o=(...e)=>new R(...e),l=(...e)=>new D(...e),c=(...e)=>new L(...e),m=(...e)=>new N(...e),p=e.replace(/ComplexDiagram\(/g,"Diagram(").replace(/Start\([^)]*\),?\s*/g,"").replace(/,?\s*End\([^)]*\)/g,"").trim();try{const e=new Function("Diagram","Terminal","NonTerminal","Optional","Sequence","Choice","Skip","Comment","OneOrMore","ZeroOrMore",`'use strict'; return ${p};`)(n,s,a,h,r,d,o,l,c,m);if(!e||"function"!=typeof e.toSVG)throw new Error("Diagram function did not return a valid diagram object");t.current.innerHTML="";const i=e.toSVG();i.querySelectorAll("a[*|href]").forEach(e=>{const t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(t&&t.startsWith("./")){const i=t.replace(/^\.\//,"../sql-reference/");e.setAttributeNS("http://www.w3.org/1999/xlink","href",i)}}),t.current.appendChild(i)}catch(i){throw console.error("Error in diagram generation:",i),i}}catch(n){console.error("Error rendering railroad diagram:",n),t.current.innerHTML='<p style="color: red;">Error rendering diagram. Check console for details.</p>'}};(0,n.useEffect)(()=>{h(t)},[e]),(0,n.useEffect)(()=>{if(s){h(i);const e=e=>{"Escape"===e.key&&a(!1)};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}}},[s,e]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"railroad-diagram-wrapper",children:[(0,F.jsx)("button",{className:"railroad-expand-button",onClick:()=>a(!0),"aria-label":"Expand diagram",title:"View full size",children:(0,F.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,F.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})}),(0,F.jsx)("div",{ref:t,className:"railroad-diagram-container"})]}),s&&(0,F.jsx)("div",{className:"railroad-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a(!1)},children:(0,F.jsxs)("div",{className:"railroad-modal-content",children:[(0,F.jsx)("button",{className:"railroad-modal-close",onClick:()=>a(!1),"aria-label":"Close",title:"Close (ESC)",children:"\xd7"}),(0,F.jsx)("div",{ref:i,className:"railroad-diagram-container railroad-diagram-modal"})]})})]})}},89160:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"sql/reference/language-definition/ddl","title":"Data Definition Language (DDL)","description":"{/*","source":"@site/docs/sql/reference/language-definition/ddl.mdx","sourceDirName":"sql/reference/language-definition","slug":"/sql/reference/language-definition/ddl","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/ddl","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/sql/reference/language-definition/ddl.mdx","tags":[],"version":"current","frontMatter":{"id":"ddl","title":"Data Definition Language (DDL)"},"sidebar":"tutorialSidebar","previous":{"title":"Language Definition","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/"},"next":{"title":"Data Manipulation Language (DML)","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/dml"}}');var s=i(74848),a=i(28453),h=i(63367);const r={id:"ddl",title:"Data Definition Language (DDL)"},d=void 0,o={},l=[{value:"CREATE TABLE",id:"create-table",level:2},{value:"ALTER TABLE",id:"alter-table",level:2},{value:"ALTER TABLE IF EXISTS table ADD COLUMN (column1 int, column2 int)",id:"alter-table-if-exists-table-add-column-column1-int-column2-int",level:3},{value:"ALTER TABLE IF EXISTS table DROP COLUMN (column1, column2 int)",id:"alter-table-if-exists-table-drop-column-column1-column2-int",level:3},{value:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET DATA TYPE",id:"alter-table-if-exists-table-alter-column-column-set-data-type",level:3},{value:"Supported Transitions",id:"supported-transitions",level:4},{value:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET NOT NULL",id:"alter-table-if-exists-table-alter-column-column-set-not-null",level:3},{value:"Supported Transitions",id:"supported-transitions-1",level:4},{value:"ALTER TABLE IF EXISTS table ALTER COLUMN column DROP NOT NULL",id:"alter-table-if-exists-table-alter-column-column-drop-not-null",level:3},{value:"Supported Transitions",id:"supported-transitions-2",level:4},{value:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET DEFAULT",id:"alter-table-if-exists-table-alter-column-column-set-default",level:3},{value:"ALTER TABLE IF EXISTS table ALTER COLUMN column DROP DEFAULT",id:"alter-table-if-exists-table-alter-column-column-drop-default",level:3},{value:"DROP TABLE",id:"drop-table",level:2},{value:"CREATE INDEX",id:"create-index",level:2},{value:"DROP INDEX",id:"drop-index",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsx)(t.p,{children:"This section walks you through all data definition language (DDL) commands supported by Ignite 3.0."}),"\n",(0,s.jsx)(t.h2,{id:"create-table",children:"CREATE TABLE"}),"\n",(0,s.jsx)(t.p,{children:"Creates a new table."}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This can also be done via the ",(0,s.jsx)(t.a,{href:"../../../develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('CREATE'),\nTerminal('TABLE'),\nOptional(Terminal('IF NOT EXISTS')),\nNonTerminal('table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('('),\nChoice(1,\nNonTerminal('constraint', {href:'./grammar-reference/#constraint'}),\nNonTerminal('column_definition', {href:'./grammar-reference/#column_definition'}),\nTerminal(',')),\nTerminal(')'),\nOptional(\nSequence(\nTerminal('COLOCATE'),\nOptional('BY'),\nTerminal('('),\nNonTerminal('column_list', {href:'./grammar-reference/#column_list'}),\nTerminal(')'),\n)\n),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nOptional(\nSequence(\nTerminal('ZONE'),\nNonTerminal('zone_name')\n)\n),\nOptional(\nSequence(\nTerminal('STORAGE PROFILE'),\nNonTerminal('profile_name')\n)\n)\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF NOT EXISTS"})," - create the table only if a table with the same name does not exist."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"COLOCATE BY"})," - colocation key. The key can be composite. Primary key must include colocation key."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ZONE"})," - sets the ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/language-definition/distribution-zones",children:"Distribution Zone"}),". Can be specified as a case-sensitive string or case-insensitive identifier. Does not need to exist at the moment of table creation, and can be created before writing data."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"STORAGE PROFILE"})," - sets the ",(0,s.jsx)(t.a,{href:"../../../configure-and-operate/reference/node-configuration",children:"storage profile"})," that will be used to store the table. Must be specified as a case-sensitive string."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Creates a Person table:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS Person (\n  id int primary key,\n  city_id int,\n  name varchar,\n  age int,\n  company varchar\n)\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Creates a Person table that uses distribution zone ",(0,s.jsx)(t.code,{children:"MYZONE"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS Person (\n  id int primary key,\n  city_id int,\n  name varchar,\n  age int,\n  company varchar\n) ZONE MYZONE\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Creates a Person table that uses the ",(0,s.jsx)(t.code,{children:"default"})," storage profile regardless of the storage profile specified in the distribution zone:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS Person (\n  id int primary key,\n  city_id int,\n  name varchar,\n  age int,\n  company varchar\n) PRIMARY ZONE MYZONE STORAGE PROFILE 'default'\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Creates a Person table where the default value of the ",(0,s.jsx)(t.code,{children:"city_id"})," column is 1:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS Person (\n  id int primary key,\n  city_id int default 1,\n  name varchar,\n  age int,\n  company varchar\n)\n"})}),"\n",(0,s.jsx)(t.h2,{id:"alter-table",children:"ALTER TABLE"}),"\n",(0,s.jsx)(t.p,{children:"Modifies the structure of an existing table."}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-add-column-column1-int-column2-int",children:"ALTER TABLE IF EXISTS table ADD COLUMN (column1 int, column2 int)"}),"\n",(0,s.jsx)(t.p,{children:"Adds column(s) to an existing table."}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ADD'),\nOptional(Terminal('COLUMN')),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nNonTerminal('column_definition_or_list', {href:'./grammar-reference/#column_definition_or_list'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Add a column to the table:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person ADD COLUMN city varchar;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Add a column only if the table exists:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE IF EXISTS Person ADD number bigint;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Add several columns to the table at once:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person ADD COLUMN (code varchar, gdp double);\n"})}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-drop-column-column1-column2-int",children:"ALTER TABLE IF EXISTS table DROP COLUMN (column1, column2 int)"}),"\n",(0,s.jsx)(t.p,{children:"Removes column(s) from an existing table. Once a column is removed, it cannot be accessed within queries. This command has the following limitations:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If the column was indexed, the index has to be dropped manually in advance by using the 'DROP INDEX' command."}),"\n",(0,s.jsx)(t.li,{children:"It is not possible to remove a column if it represents the entire value stored in the cluster. The limitation is relevant for primitive values."}),"\n"]}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('DROP'),\nOptional(Terminal('COLUMN')),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nNonTerminal('column_list', {href:'./grammar-reference/#column_list'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Drop a column from the table:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person DROP COLUMN city;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Drop a column only if the table exists:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE IF EXISTS Person DROP COLUMN number;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Drop several columns from the table at once:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person DROP COLUMN (code, gdp);\n"})}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-alter-column-column-set-data-type",children:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET DATA TYPE"}),"\n",(0,s.jsx)(t.p,{children:"Changes the data type for the column(s) in an existing table."}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ALTER COLUMN'),\nNonTerminal('column_name_or_list', {href:'./grammar-reference/#column_name_or_list'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nTerminal('SET DATA TYPE'),\nNonTerminal('data_type'),\nOptional(Sequence(\nTerminal('('),\nChoice (0,'NULLABLE','NOT NULL'),\nTerminal(')')\n)))\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"data_type"})," - a valid ",(0,s.jsx)(t.a,{href:"/3.1.0/sql/reference/data-types-and-functions/data-types",children:"data type"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Alter a column in the table:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person ALTER COLUMN city SET DATA TYPE varchar;\n"})}),"\n",(0,s.jsx)(t.h4,{id:"supported-transitions",children:"Supported Transitions"}),"\n",(0,s.jsx)(t.p,{children:"Not all data type transitions are supported. The limitations are listed below:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"FLOAT"})," can be transitioned to ",(0,s.jsx)(t.code,{children:"DOUBLE"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"INT8"}),", ",(0,s.jsx)(t.code,{children:"INT16"})," and ",(0,s.jsx)(t.code,{children:"INT32"})," can be transitioned to ",(0,s.jsx)(t.code,{children:"INT64"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"TYPE SCALE"})," change is forbidden"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"TYPE PRECISION"})," increase is allowed for DECIMAL non PK column"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"TYPE LENGTH"})," increase is allowed for STRING and BYTE_ARRAY non PK column"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Other transitions are not supported."}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Changes the possible range of IDs to BIGINT ranges:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person ALTER COLUMN age SET DATA TYPE BIGINT\n"})}),"\n",(0,s.jsx)(t.p,{children:"Sets the length of a column text to 11:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE Person ALTER COLUMN Name SET DATA TYPE varchar(11)\n"})}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-alter-column-column-set-not-null",children:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET NOT NULL"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ALTER COLUMN'),\nNonTerminal('column_name_or_list', {href:'./grammar-reference/#column_name_or_list'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nTerminal('SET NOT NULL'),\nEnd({type:'simple'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"supported-transitions-1",children:"Supported Transitions"}),"\n",(0,s.jsx)(t.p,{children:"Not all data type transitions are supported. The limitations are listed below:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"NULLABLE"})," to ",(0,s.jsx)(t.code,{children:"NOT NULL"})," transition is forbidden"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-alter-column-column-drop-not-null",children:"ALTER TABLE IF EXISTS table ALTER COLUMN column DROP NOT NULL"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ALTER COLUMN'),\nNonTerminal('column_name_or_list', {href:'./grammar-reference/#column_name_or_list'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nTerminal('DROP NOT NULL'),\nEnd({type:'simple'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"supported-transitions-2",children:"Supported Transitions"}),"\n",(0,s.jsx)(t.p,{children:"Not all data type transitions are supported. The limitations are listed below:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"NOT NULL"})," to ",(0,s.jsx)(t.code,{children:"NULLABLE"})," transition is allowed for any non-PK column"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-alter-column-column-set-default",children:"ALTER TABLE IF EXISTS table ALTER COLUMN column SET DEFAULT"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ALTER COLUMN'),\nNonTerminal('column_name_or_list', {href:'./grammar-reference/#column_name_or_list'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nTerminal('SET DATA TYPE'),\nNonTerminal('data_type'),\nOptional(Sequence(\nChoice (0,'NULL','NOT NULL'),\n)),\nOptional(Sequence(\nTerminal('DEFAULT'),\nSequence(Choice(0,\nNonTerminal('literal_value')\n),),\n))\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"alter-table-if-exists-table-alter-column-column-drop-default",children:"ALTER TABLE IF EXISTS table ALTER COLUMN column DROP DEFAULT"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('ALTER TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nTerminal('ALTER COLUMN'),\nNonTerminal('column_name_or_list', {href:'./grammar-reference/#column_name_or_list'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nTerminal('DROP DEFAULT'),\nEnd({type:'simple'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the specified table name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"drop-table",children:"DROP TABLE"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"DROP TABLE"})," command drops an existing table. The table will be marked for deletion and will be removed by garbage collection after the ",(0,s.jsx)(t.a,{href:"../../../understand/core-concepts/data-partitioning#version-storage",children:"low watermark"})," point is reached. Until the data is removed, it will be available to ",(0,s.jsx)(t.a,{href:"../../../develop/work-with-data/transactions#read-only-transactions",children:"read-only transactions"})," that check the time before the table was marked for deletion."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This can also be done via the ",(0,s.jsx)(t.a,{href:"../../../develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('DROP TABLE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if a table with the same name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Drop Person table if the one exists:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:'DROP TABLE IF EXISTS "Person";\n'})}),"\n",(0,s.jsx)(t.h2,{id:"create-index",children:"CREATE INDEX"}),"\n",(0,s.jsx)(t.p,{children:"Creates a new index."}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This can also be done via the ",(0,s.jsx)(t.a,{href:"../../../develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:'When you create a new index, it will start building only after all transactions started before the index creation had been completed. Index build will not start if there are any "hung" transactions in the logical topology of the cluster.'}),"\n",(0,s.jsx)(t.p,{children:'The index status, with the status reason description (e.g., PENDING - "Waiting for transaction ABC to complete") is reflected in the system view.'}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"The index cannot include the same column more than once."})}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('CREATE INDEX'),\nOptional(Terminal('IF NOT EXISTS')),\nNonTerminal('name'),\nTerminal('ON'),\nNonTerminal('qualified_table_name', {href:'./grammar-reference/#qualified_table_name'}),\nEnd({type:'complex'})\n)\n"}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nStart({type:'complex'}),\nSequence(\nChoice (0,\nSequence(\nTerminal('USING'),\nChoice (0,\nSequence('TREE',NonTerminal ('sorted_column_list', {href:'./grammar-reference/#sorted_column_list'})),\nSequence('HASH',NonTerminal ('column_list', {href:'./grammar-reference/#column_list'}))\n),\n),\nNonTerminal ('sorted_column_list', {href:'./grammar-reference/#sorted_column_list'})\n)),\nEnd({type:'simple'})\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF NOT EXISTS"})," - create the index only if an index with the same name does not exist."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"name"})," - name of the index."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ON"})," - create index on the defined table."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"USING TREE"})," -if specified, creates a tree index."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"USING HASH"})," - if specified, creates a hash index."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsxs)(t.p,{children:["Create an index ",(0,s.jsx)(t.code,{children:"department_name_idx"})," for the Person table:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE INDEX IF NOT EXISTS department_name_idx ON Person (department_id DESC, name ASC);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Create a hash index ",(0,s.jsx)(t.code,{children:"department_name_idx"})," for the Person table:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE INDEX name_surname_idx ON Person USING HASH (name, surname);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Create a tree index ",(0,s.jsx)(t.code,{children:"department_city_idx"})," for the Person table:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"CREATE INDEX department_city_idx ON Person USING TREE (department_id ASC, city_id DESC);\n"})}),"\n",(0,s.jsx)(t.h2,{id:"drop-index",children:"DROP INDEX"}),"\n",(0,s.jsx)(t.p,{children:"Drops an index."}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This can also be done via the ",(0,s.jsx)(t.a,{href:"../../../develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:'When you drop an index, it stays in the STOPPING status until all transactions started before the DROP INDEX command had been completed (even those that do not affect any of the tables for which the index is being dropped).\nUpon completion of all transactions described above, the space the dropped index had occupied is freed up only when LWM of the relevant partition becomes greater than the time when the index dropping had been activated.\nThe index status, with the status reason description (e.g., PENDING - "Waiting for transaction ABC to complete") is reflected in the system view.'}),"\n",(0,s.jsx)(h.A,{children:"\nDiagram(\nTerminal('DROP INDEX'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('index_name')\n)\n"}),"\n",(0,s.jsx)(t.p,{children:"Keywords and parameters:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"index_name"})," - the name of the index."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"IF EXISTS"})," - do not throw an error if an index with the specified name does not exist."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Examples:"}),"\n",(0,s.jsx)(t.p,{children:"Drop index if the one exists:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"DROP INDEX IF EXISTS department_name_idx;\n"})})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);