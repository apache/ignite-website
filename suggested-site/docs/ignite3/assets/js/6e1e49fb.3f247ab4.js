"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[131],{10167:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"installation/installing-using-docker","title":"Installing Using Docker","description":"{/*","source":"@site/versioned_docs/version-3.0.0/installation/installing-using-docker.md","sourceDirName":"installation","slug":"/installation/installing-using-docker","permalink":"/suggested-site/docs/ignite3/3.0.0/installation/installing-using-docker","draft":false,"unlisted":false,"tags":[],"version":"3.0.0","frontMatter":{"title":"Installing Using Docker","sidebar_label":"Installing Using Docker"},"sidebar":"tutorialSidebar","previous":{"title":"Installing Using DEB and RPM Package","permalink":"/suggested-site/docs/ignite3/3.0.0/installation/deb-rpm"},"next":{"title":"Installing on Kubernetes","permalink":"/suggested-site/docs/ignite3/3.0.0/installation/installing-to-k8s"}}');var o=i(74848),r=i(28453);const s={title:"Installing Using Docker",sidebar_label:"Installing Using Docker"},l=void 0,a={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Recommended Docker Version",id:"recommended-docker-version",level:3},{value:"Recommended Operating System",id:"recommended-operating-system",level:3},{value:"Recommended Java Version",id:"recommended-java-version",level:3},{value:"Running a Node",id:"running-a-node",level:2},{value:"Running a Cluster",id:"running-a-cluster",level:2},{value:"Running CLI Tool in Docker",id:"running-cli-tool-in-docker",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:["\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.h3,{id:"recommended-docker-version",children:"Recommended Docker Version"}),"\n",(0,o.jsx)(n.p,{children:"Docker 20.10 or later."}),"\n",(0,o.jsx)(n.h3,{id:"recommended-operating-system",children:"Recommended Operating System"}),"\n",(0,o.jsx)(n.p,{children:"Linux (Debian and Red Hat flavors), Windows 10 or 11."}),"\n",(0,o.jsx)(n.h3,{id:"recommended-java-version",children:"Recommended Java Version"}),"\n",(0,o.jsx)(n.p,{children:"JDK 11 and later."}),"\n",(0,o.jsx)(n.h2,{id:"running-a-node",children:"Running a Node"}),"\n",(0,o.jsxs)(n.p,{children:["Run Apache Ignite in a docker container using the ",(0,o.jsx)(n.code,{children:"docker run"})," command. Docker will automatically pull the appropriate Apache Ignite version:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"docker run -d -p 10300:10300 -p 10800:10800 -p 3344:3344 ignite/ignite3:latest\n"})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.p,{children:"If you plan to store persistent data, it is recommended to mount a volume for it. Otherwise, data will be deleted when the container is removed."}),(0,o.jsxs)(n.p,{children:["Consider storing the ",(0,o.jsx)(n.code,{children:"/opt/ignite/work"})," folder to keep application data and persistent data."]})]}),"\n",(0,o.jsx)(n.p,{children:"This command launches a single Apache Ignite node. After you run the command, you can check if Apache Ignite is running in the container logs."}),"\n",(0,o.jsx)(n.h2,{id:"running-a-cluster",children:"Running a Cluster"}),"\n",(0,o.jsxs)(n.p,{children:["You can use a docker-compose file to start an entire cluster in docker. You can create a docker-compose file and run a 3-node cluster. See the ",(0,o.jsx)(n.a,{href:"/suggested-site/docs/ignite3/3.0.0/quick-start/getting-started-guide#optional-starting-multiple-ignite-nodes-in-docker",children:"Getting Started"})," guide for the docker-compose configuration."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Docker compose version 2.23.1 or later is required to use the provided compose file."})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Download the docker image:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"docker pull apache/ignite3:3.0.0\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Run the docker compose command."}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"docker compose -f docker-compose.yml up -d\n"})}),"\n",(0,o.jsx)(n.p,{children:"3 nodes will start in Docker and will be available from the CLI tool that can be run locally. Remember to initialise the cluster from the command line tool before working with it."}),"\n",(0,o.jsx)(n.h2,{id:"running-cli-tool-in-docker",children:"Running CLI Tool in Docker"}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["It is not recommended to run the CLI tool in docker. Instead, we recommend to ",(0,o.jsx)(n.a,{href:"/suggested-site/docs/ignite3/3.0.0/installation/installing-using-zip",children:"download and install"})," CLI tool locally."]})}),"\n",(0,o.jsx)(n.p,{children:"CLI tool is used to manage Apache Ignite nodes. By default, docker nodes are isolated and run on different networks, so CLI tool will not be able to connect to the target container from another container. To fix that, you need to create a network and add all containers running the nodes to it."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Create a new network with the ",(0,o.jsx)(n.code,{children:"network create"})," command:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker network create ignite-network\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add any containers with nodes that are already running to the network:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker network connect ignite-network {container-id}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Start the container with the Apache Ignite CLI tool on the same network:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"docker run -p 10301:10300 -p 10801:10800 -p 3345:3344 -it --network=ignite-network apache/ignite3:3.0.0 cli\n"})}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsx)(n.p,{children:"You may need to mount configuration or data files. To provide them, mount the files you will use, for example:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"docker run --rm -it --network=host -v /opt/etc/config.conf:/opt/ignite/etc/ignite-config.conf apache/ignite3:3.0.0 cli\n"})})]}),"\n",(0,o.jsxs)(n.p,{children:["The CLI will be able to connect to the IP address of the node. If you are not sure what the address is, use the ",(0,o.jsx)(n.code,{children:"container inspect"})," command to check it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker container inspect {container-id}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);