"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1516],{5116:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"api-reference/native-clients/cpp/client-api","title":"Client API","description":"The C++ client provides a thin client connection to Apache Ignite clusters. It manages network connections, handles authentication, and provides access to all Ignite APIs through a single entry point.","source":"@site/docs/api-reference/native-clients/cpp/client-api.md","sourceDirName":"api-reference/native-clients/cpp","slug":"/api-reference/native-clients/cpp/client-api","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/cpp/client-api","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/api-reference/native-clients/cpp/client-api.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Client API","id":"client-api","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"C++ API","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/cpp/"},"next":{"title":"Tables API","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/native-clients/cpp/tables-api"}}');var c=i(74848),s=i(28453);const l={title:"Client API",id:"client-api",sidebar_position:1},a="Client API",o={},r=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"Client Lifecycle",id:"client-lifecycle",level:3},{value:"Configuration",id:"configuration",level:3},{value:"API Access",id:"api-access",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Starting a Client",id:"starting-a-client",level:3},{value:"Asynchronous Startup",id:"asynchronous-startup",level:3},{value:"Authentication",id:"authentication",level:3},{value:"SSL/TLS Configuration",id:"ssltls-configuration",level:3},{value:"Accessing APIs",id:"accessing-apis",level:3},{value:"Configuration Retrieval",id:"configuration-retrieval",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Connection Settings",id:"connection-settings",level:3},{value:"Security Settings",id:"security-settings",level:3},{value:"Logging",id:"logging",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Connection Management",id:"connection-management",level:2},{value:"Heartbeat",id:"heartbeat",level:3},{value:"Connection Pooling",id:"connection-pooling",level:3},{value:"Reference",id:"reference",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"client-api",children:"Client API"})}),"\n",(0,c.jsx)(n.p,{children:"The C++ client provides a thin client connection to Apache Ignite clusters. It manages network connections, handles authentication, and provides access to all Ignite APIs through a single entry point."}),"\n",(0,c.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,c.jsx)(n.h3,{id:"client-lifecycle",children:"Client Lifecycle"}),"\n",(0,c.jsx)(n.p,{children:"The client uses static factory methods to establish connections. Start methods block until the connection succeeds or times out. The client maintains active connections through configurable heartbeat intervals."}),"\n",(0,c.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,c.jsxs)(n.p,{children:["Client configuration specifies connection endpoints, authentication, SSL/TLS settings, and connection parameters. Endpoints use ",(0,c.jsx)(n.code,{children:"host:port"})," format with a default port of 10800. The client maintains a connection pool with configurable limits."]}),"\n",(0,c.jsx)(n.h3,{id:"api-access",children:"API Access"}),"\n",(0,c.jsx)(n.p,{children:"The client provides access to all Ignite APIs through dedicated getters:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"get_tables()"})," - Table operations"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"get_sql()"})," - SQL execution"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"get_transactions()"})," - Transaction management"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"get_compute()"})," - Distributed computing"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"get_cluster_nodes()"})," - Cluster topology"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,c.jsx)(n.h3,{id:"starting-a-client",children:"Starting a Client"}),"\n",(0,c.jsx)(n.p,{children:"Start a client with default configuration:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'using namespace ignite;\n\nignite_client_configuration cfg{{"localhost:10800"}};\nignite_client client = ignite_client::start(cfg, std::chrono::seconds(30));\n'})}),"\n",(0,c.jsx)(n.p,{children:"Configure connection parameters:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'ignite_client_configuration cfg{{"host1:10800", "host2:10800"}};\ncfg.set_connection_limit(10);\ncfg.set_heartbeat_interval(std::chrono::seconds(30));\n\nignite_client client = ignite_client::start(cfg, std::chrono::seconds(30));\n'})}),"\n",(0,c.jsx)(n.h3,{id:"asynchronous-startup",children:"Asynchronous Startup"}),"\n",(0,c.jsx)(n.p,{children:"Start the client without blocking:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'ignite_client_configuration cfg{{"localhost:10800"}};\n\nignite_client::start_async(cfg, std::chrono::seconds(30),\n    [](ignite_result<ignite_client> result) {\n        if (!result.has_error()) {\n            ignite_client client = std::move(result).value();\n            // Use client\n        }\n    });\n'})}),"\n",(0,c.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,c.jsx)(n.p,{children:"Configure basic authentication:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'ignite_client_configuration cfg{{"localhost:10800"}};\ncfg.set_authenticator(std::make_shared<basic_authenticator>("username", "password"));\n\nignite_client client = ignite_client::start(cfg, std::chrono::seconds(30));\n'})}),"\n",(0,c.jsx)(n.h3,{id:"ssltls-configuration",children:"SSL/TLS Configuration"}),"\n",(0,c.jsx)(n.p,{children:"Enable SSL with certificates:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'ignite_client_configuration cfg{{"localhost:10800"}};\ncfg.set_ssl_mode(ssl_mode::REQUIRE);\ncfg.set_ssl_cert_file("/path/to/client.pem");\ncfg.set_ssl_key_file("/path/to/client.key");\ncfg.set_ssl_ca_file("/path/to/ca.pem");\n\nignite_client client = ignite_client::start(cfg, std::chrono::seconds(30));\n'})}),"\n",(0,c.jsx)(n.h3,{id:"accessing-apis",children:"Accessing APIs"}),"\n",(0,c.jsx)(n.p,{children:"Access table operations:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'auto tables = client.get_tables();\nauto table = tables.get_table("my_table");\n'})}),"\n",(0,c.jsx)(n.p,{children:"Access SQL:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'auto sql = client.get_sql();\nauto result = sql.execute(nullptr, nullptr, sql_statement("SELECT * FROM t"), {});\n'})}),"\n",(0,c.jsx)(n.p,{children:"Access transactions:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:"auto transactions = client.get_transactions();\nauto tx = transactions.begin();\n// Perform operations\ntx.commit();\n"})}),"\n",(0,c.jsx)(n.p,{children:"Access compute:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:"auto compute = client.get_compute();\nauto nodes = client.get_cluster_nodes();\n"})}),"\n",(0,c.jsx)(n.h3,{id:"configuration-retrieval",children:"Configuration Retrieval"}),"\n",(0,c.jsx)(n.p,{children:"Retrieve the active configuration:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:"const ignite_client_configuration& config = client.configuration();\nauto endpoints = config.get_endpoints();\nauto connection_limit = config.get_connection_limit();\n"})}),"\n",(0,c.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,c.jsx)(n.h3,{id:"connection-settings",children:"Connection Settings"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_endpoints(std::vector<std::string>)"})," - Server endpoints (required, non-empty)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_connection_limit(uint32_t)"})," - Maximum active connections"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_heartbeat_interval(std::chrono::microseconds)"})," - Heartbeat interval (0 disables heartbeat)"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"security-settings",children:"Security Settings"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_authenticator(std::shared_ptr<ignite_client_authenticator>)"})," - Authentication provider"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_ssl_mode(ssl_mode)"})," - SSL/TLS mode (DISABLE, REQUIRE)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_ssl_cert_file(std::string)"})," - Client certificate path"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_ssl_key_file(std::string)"})," - Private key path"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_ssl_ca_file(std::string)"})," - CA certificate path"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"set_logger(std::shared_ptr<ignite_logger>)"})," - Custom logger implementation"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,c.jsxs)(n.p,{children:["Client operations throw ",(0,c.jsx)(n.code,{children:"ignite_error"})," on failure. Async operations deliver errors through the callback result:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'ignite_client::start_async(cfg, timeout, [](ignite_result<ignite_client> result) {\n    if (result.has_error()) {\n        // Handle error\n        std::cerr << "Connection failed: " << result.error().what_str() << std::endl;\n    } else {\n        auto client = std::move(result).value();\n        // Use client\n    }\n});\n'})}),"\n",(0,c.jsx)(n.h2,{id:"connection-management",children:"Connection Management"}),"\n",(0,c.jsx)(n.h3,{id:"heartbeat",children:"Heartbeat"}),"\n",(0,c.jsx)(n.p,{children:"Heartbeat keeps connections alive during idle periods. The default interval is 30 seconds. Set to zero to disable:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:"cfg.set_heartbeat_interval(std::chrono::seconds(0)); // Disable heartbeat\n"})}),"\n",(0,c.jsx)(n.p,{children:"Disabling heartbeat may cause the server to close idle connections."}),"\n",(0,c.jsx)(n.h3,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,c.jsx)(n.p,{children:"The client maintains a pool of connections to cluster nodes. Configure the maximum pool size:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:"cfg.set_connection_limit(20); // Allow up to 20 active connections\n"})}),"\n",(0,c.jsx)(n.p,{children:"Connection management happens automatically based on operation distribution."}),"\n",(0,c.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://ignite.apache.org/releases/ignite3/latest/cpp-api/",children:"C++ API Documentation"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./tables-api",children:"Tables API"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./sql-api",children:"SQL API"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./transactions-api",children:"Transactions API"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./compute-api",children:"Compute API"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./network-api",children:"Network API"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(96540);const c={},s=t.createContext(c);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);