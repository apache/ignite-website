"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9655],{25231:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"api-reference/sql-only-apis/python","title":"Python DB-API","description":"The Apache Ignite 3 Python driver implements PEP 249 (Python Database API Specification 2.0) for Python applications. It provides SQL access through a standard Python interface backed by a native C++ extension for performance.","source":"@site/docs/api-reference/sql-only-apis/python.md","sourceDirName":"api-reference/sql-only-apis","slug":"/api-reference/sql-only-apis/python","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/sql-only-apis/python","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/api-reference/sql-only-apis/python.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Python DB-API","id":"python","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"ODBC Driver","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/sql-only-apis/odbc"},"next":{"title":"API Documentation","permalink":"/suggested-site/docs/ignite3/3.1.0/api-reference/api/"}}');var s=i(74848),t=i(28453);const c={title:"Python DB-API",id:"python",sidebar_position:3},o="Python DB-API",l={},d=[{value:"Installation",id:"installation",level:2},{value:"Connection Function",id:"connection-function",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Keyword Arguments",id:"keyword-arguments",level:3},{value:"Returns",id:"returns",level:3},{value:"Connection Object",id:"connection-object",level:2},{value:"Attributes",id:"attributes",level:3},{value:"Methods",id:"methods",level:3},{value:"Context Manager Support",id:"context-manager-support",level:3},{value:"Cursor Object",id:"cursor-object",level:2},{value:"Attributes",id:"attributes-1",level:3},{value:"Methods",id:"methods-1",level:3},{value:"Context Manager Support",id:"context-manager-support-1",level:3},{value:"Column Description",id:"column-description",level:2},{value:"Type Constants",id:"type-constants",level:2},{value:"Parameter Style",id:"parameter-style",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Connection",id:"basic-connection",level:3},{value:"Connection with Context Manager",id:"connection-with-context-manager",level:3},{value:"Connection with Authentication",id:"connection-with-authentication",level:3},{value:"Connection with SSL",id:"connection-with-ssl",level:3},{value:"Multiple Node Addresses",id:"multiple-node-addresses",level:3},{value:"Parameterized Queries",id:"parameterized-queries",level:3},{value:"Insert with Parameters",id:"insert-with-parameters",level:3},{value:"Batch Insert",id:"batch-insert",level:3},{value:"Transaction Control",id:"transaction-control",level:3},{value:"Fetch Strategies",id:"fetch-strategies",level:3},{value:"Iterator Protocol",id:"iterator-protocol",level:3},{value:"Column Metadata",id:"column-metadata",level:3},{value:"Type Handling",id:"type-handling",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Exception Hierarchy",id:"exception-hierarchy",level:2},{value:"Ignite-Specific Behavior",id:"ignite-specific-behavior",level:2},{value:"Type Mapping",id:"type-mapping",level:3},{value:"Autocommit Default",id:"autocommit-default",level:3},{value:"Page Size",id:"page-size",level:3},{value:"Network Timeout",id:"network-timeout",level:3},{value:"Thread Safety",id:"thread-safety",level:3},{value:"lastrowid Limitation",id:"lastrowid-limitation",level:3},{value:"Connection Examples",id:"connection-examples",level:2},{value:"Reference",id:"reference",level:2},{value:"Module Attributes",id:"module-attributes",level:3},{value:"DB-API Compliance",id:"db-api-compliance",level:3},{value:"Limitations",id:"limitations",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"python-db-api",children:"Python DB-API"})}),"\n",(0,s.jsx)(n.p,{children:"The Apache Ignite 3 Python driver implements PEP 249 (Python Database API Specification 2.0) for Python applications. It provides SQL access through a standard Python interface backed by a native C++ extension for performance."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install pyignite_dbapi\n"})}),"\n",(0,s.jsx)(n.h2,{id:"connection-function",children:"Connection Function"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"connect(address, **kwargs)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"address"})," - List of node addresses in format ",(0,s.jsx)(n.code,{children:"['host:port', 'host:port']"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"keyword-arguments",children:"Keyword Arguments"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Connection Options"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"identity"})," - Username for authentication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"secret"})," - Password for authentication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"schema"})," - Default schema name (default: ",(0,s.jsx)(n.code,{children:"'PUBLIC'"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"page_size"})," - Rows fetched per request (default: ",(0,s.jsx)(n.code,{children:"1024"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"timeout"})," - Network timeout in seconds (default: ",(0,s.jsx)(n.code,{children:"30"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"autocommit"})," - Enable autocommit mode (default: ",(0,s.jsx)(n.code,{children:"True"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"SSL Options"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"use_ssl"})," - Enable SSL connection (boolean)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ssl_keyfile"})," - Path to PEM-encoded private key file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ssl_certfile"})," - Path to PEM-encoded certificate file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ssl_ca_certfile"})," - Path to PEM-encoded CA certificate file"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"returns",children:"Returns"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Connection"})," object."]}),"\n",(0,s.jsx)(n.h2,{id:"connection-object",children:"Connection Object"}),"\n",(0,s.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"autocommit"})," - Get or set autocommit mode (property)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"close()"})," - Close connection and all associated cursors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"commit()"})," - Commit pending transaction"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rollback()"})," - Roll back pending transaction"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cursor()"})," - Create and return new cursor object"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"context-manager-support",children:"Context Manager Support"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"with pyignite_dbapi.connect(address=['localhost:10800']) as conn:\n    # Use connection\n    pass\n# Connection automatically closes\n"})}),"\n",(0,s.jsx)(n.h2,{id:"cursor-object",children:"Cursor Object"}),"\n",(0,s.jsx)(n.h3,{id:"attributes-1",children:"Attributes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"arraysize"})," - Number of rows returned by ",(0,s.jsx)(n.code,{children:"fetchmany()"})," (default: ",(0,s.jsx)(n.code,{children:"1"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"description"})," - Read-only sequence of 7-tuples describing result columns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rowcount"})," - Number of rows affected or returned (read-only)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rownumber"})," - Current row index (read-only, 0-based)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"connection"})," - Parent connection object (read-only)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lastrowid"})," - Always ",(0,s.jsx)(n.code,{children:"None"})," (not supported by Ignite)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"methods-1",children:"Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"execute(query, params=None)"})," - Execute SQL query with optional parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"executemany(query, params_list)"})," - Execute SQL query multiple times with parameter sequences"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fetchone()"})," - Fetch next row as tuple or ",(0,s.jsx)(n.code,{children:"None"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fetchmany(size=None)"})," - Fetch next ",(0,s.jsx)(n.code,{children:"size"})," rows as list of tuples (uses ",(0,s.jsx)(n.code,{children:"arraysize"})," if ",(0,s.jsx)(n.code,{children:"size"})," is ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fetchall()"})," - Fetch all remaining rows as list of tuples"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"close()"})," - Close cursor"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"next()"})," / ",(0,s.jsx)(n.code,{children:"__next__()"})," - Fetch next row (iterator protocol)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"context-manager-support-1",children:"Context Manager Support"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"with conn.cursor() as cursor:\n    cursor.execute('SELECT * FROM users')\n    # Use cursor\n    pass\n# Cursor automatically closes\n"})}),"\n",(0,s.jsx)(n.h2,{id:"column-description",children:"Column Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"cursor.description"})," attribute returns a sequence of 7-tuples for each result column:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"})," - Column name (string)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type_code"})," - Python type constant"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"display_size"})," - Display width (integer or ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"internal_size"})," - Internal storage size (integer or ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"precision"})," - Numeric precision (integer or ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scale"})," - Numeric scale (integer or ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"null_ok"})," - Whether column allows NULL (boolean or ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"type-constants",children:"Type Constants"}),"\n",(0,s.jsx)(n.p,{children:"The module exposes type constants for column descriptions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NULL"})," - None type"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BOOLEAN"})," - Boolean type (bool)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"INT"})," - Integer type (int)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FLOAT"})," - Floating point type (float)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NUMBER"})," - Decimal type (decimal.Decimal)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DATE"})," - Date type (datetime.date)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TIME"})," - Time type (datetime.time)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DATETIME"})," - Datetime type (datetime.datetime)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DURATION"})," - Duration type (datetime.timedelta)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"STRING"})," - String type (str)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BINARY"})," - Binary type (bytes)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"UUID"})," - UUID type (uuid.UUID)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TIMESTAMP"})," - Timestamp type (float subclass)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"parameter-style",children:"Parameter Style"}),"\n",(0,s.jsxs)(n.p,{children:["The driver uses question mark (",(0,s.jsx)(n.code,{children:"?"}),") parameter style:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"cursor.execute('SELECT * FROM users WHERE id = ?', [101])\ncursor.execute('INSERT INTO users (id, name) VALUES (?, ?)', [101, 'John'])\n"})}),"\n",(0,s.jsx)(n.p,{children:"Parameters bind positionally to question marks in the query."}),"\n",(0,s.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-connection",children:"Basic Connection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import pyignite_dbapi\n\nconn = pyignite_dbapi.connect(address=['127.0.0.1:10800'])\n\ntry:\n    cursor = conn.cursor()\n    cursor.execute('SELECT id, name FROM users')\n\n    for row in cursor:\n        print(f\"{row[0]}: {row[1]}\")\n\n    cursor.close()\nfinally:\n    conn.close()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"connection-with-context-manager",children:"Connection with Context Manager"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import pyignite_dbapi\n\nwith pyignite_dbapi.connect(address=['127.0.0.1:10800']) as conn:\n    with conn.cursor() as cursor:\n        cursor.execute('SELECT id, name FROM users')\n\n        for row in cursor:\n            print(f\"{row[0]}: {row[1]}\")\n"})}),"\n",(0,s.jsx)(n.h3,{id:"connection-with-authentication",children:"Connection with Authentication"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    identity='admin',\n    secret='password'\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"connection-with-ssl",children:"Connection with SSL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    use_ssl=True,\n    ssl_certfile='/path/to/client.pem',\n    ssl_keyfile='/path/to/client-key.pem',\n    ssl_ca_certfile='/path/to/ca.pem'\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-node-addresses",children:"Multiple Node Addresses"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['node1:10800', 'node2:10800', 'node3:10800']\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"The driver attempts connections to addresses in order until one succeeds."}),"\n",(0,s.jsx)(n.h3,{id:"parameterized-queries",children:"Parameterized Queries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"cursor.execute(\n    'SELECT * FROM users WHERE age > ? AND city = ?',\n    [25, 'New York']\n)\n\nrows = cursor.fetchall()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"insert-with-parameters",children:"Insert with Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"cursor.execute(\n    'INSERT INTO users (id, name, email) VALUES (?, ?, ?)',\n    [101, 'John Doe', 'john@example.com']\n)\n\nprint(f\"Rows affected: {cursor.rowcount}\")\n"})}),"\n",(0,s.jsx)(n.h3,{id:"batch-insert",children:"Batch Insert"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"users = [\n    (1, 'Alice', 'alice@example.com'),\n    (2, 'Bob', 'bob@example.com'),\n    (3, 'Charlie', 'charlie@example.com')\n]\n\ncursor.executemany(\n    'INSERT INTO users (id, name, email) VALUES (?, ?, ?)',\n    users\n)\n\nprint(f\"Rows affected: {cursor.rowcount}\")\n"})}),"\n",(0,s.jsx)(n.h3,{id:"transaction-control",children:"Transaction Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    autocommit=False\n)\n\ntry:\n    cursor = conn.cursor()\n    cursor.execute('INSERT INTO accounts (id, balance) VALUES (?, ?)', [1, 1000])\n    cursor.execute('INSERT INTO accounts (id, balance) VALUES (?, ?)', [2, 2000])\n\n    conn.commit()\nexcept Exception as e:\n    conn.rollback()\n    raise\nfinally:\n    conn.close()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"fetch-strategies",children:"Fetch Strategies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"cursor.execute('SELECT * FROM large_table')\n\n# Fetch one row at a time\nrow = cursor.fetchone()\nif row:\n    print(row)\n\n# Fetch specific number of rows\ncursor.arraysize = 100\nrows = cursor.fetchmany(100)  # Fetch 100 rows\n\n# Fetch all remaining rows\nall_rows = cursor.fetchall()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"iterator-protocol",children:"Iterator Protocol"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"cursor.execute('SELECT * FROM users')\n\nfor row in cursor:\n    print(row)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"column-metadata",children:"Column Metadata"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'cursor.execute(\'SELECT id, name, created_at FROM users\')\n\nfor col in cursor.description:\n    print(f"Column: {col.name}")\n    print(f"  Type: {col.type_code}")\n    print(f"  Nullable: {col.null_ok}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"type-handling",children:"Type Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import datetime\nimport uuid\nfrom decimal import Decimal\n\n# Insert various types\ncursor.execute('''\n    INSERT INTO products (id, uuid, name, price, created, active)\n    VALUES (?, ?, ?, ?, ?, ?)\n''', [\n    1,\n    uuid.uuid4(),\n    'Widget',\n    Decimal('19.99'),\n    datetime.datetime.now(),\n    True\n])\n\n# Retrieve and use typed values\ncursor.execute('SELECT uuid, price, created FROM products WHERE id = ?', [1])\nrow = cursor.fetchone()\n\nproduct_uuid = row[0]  # uuid.UUID\nproduct_price = row[1]  # Decimal\nproduct_created = row[2]  # datetime.datetime\n"})}),"\n",(0,s.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import pyignite_dbapi\n\ntry:\n    conn = pyignite_dbapi.connect(address=['127.0.0.1:10800'])\n    cursor = conn.cursor()\n    cursor.execute('SELECT * FROM nonexistent_table')\nexcept pyignite_dbapi.DatabaseError as e:\n    print(f\"Database error: {e}\")\nexcept pyignite_dbapi.OperationalError as e:\n    print(f\"Connection error: {e}\")\nfinally:\n    if conn:\n        conn.close()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"exception-hierarchy",children:"Exception Hierarchy"}),"\n",(0,s.jsxs)(n.p,{children:["All exceptions inherit from ",(0,s.jsx)(n.code,{children:"Error"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Error (base exception)\n\u251c\u2500\u2500 Warning\n\u251c\u2500\u2500 InterfaceError\n\u2514\u2500\u2500 DatabaseError\n    \u251c\u2500\u2500 DataError\n    \u251c\u2500\u2500 OperationalError\n    \u251c\u2500\u2500 IntegrityError\n    \u251c\u2500\u2500 InternalError\n    \u251c\u2500\u2500 ProgrammingError\n    \u2514\u2500\u2500 NotSupportedError\n"})}),"\n",(0,s.jsx)(n.p,{children:"Access exceptions through the connection object or module:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"try:\n    cursor.execute(query)\nexcept conn.DatabaseError as e:\n    # Handle error\n    pass\n\n# Or\nexcept pyignite_dbapi.DatabaseError as e:\n    # Handle error\n    pass\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ignite-specific-behavior",children:"Ignite-Specific Behavior"}),"\n",(0,s.jsx)(n.h3,{id:"type-mapping",children:"Type Mapping"}),"\n",(0,s.jsx)(n.p,{children:"Python types map to SQL types:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Python Type"}),(0,s.jsx)(n.th,{children:"SQL Type"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"None"}),(0,s.jsx)(n.td,{children:"NULL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"BOOLEAN"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"int"}),(0,s.jsx)(n.td,{children:"BIGINT"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"DOUBLE"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Decimal"}),(0,s.jsx)(n.td,{children:"DECIMAL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"str"}),(0,s.jsx)(n.td,{children:"VARCHAR"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"bytes"}),(0,s.jsx)(n.td,{children:"VARBINARY"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"date"}),(0,s.jsx)(n.td,{children:"DATE"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"time"}),(0,s.jsx)(n.td,{children:"TIME"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"datetime"}),(0,s.jsx)(n.td,{children:"TIMESTAMP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"timedelta"}),(0,s.jsx)(n.td,{children:"INTERVAL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UUID"}),(0,s.jsx)(n.td,{children:"UUID"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"autocommit-default",children:"Autocommit Default"}),"\n",(0,s.jsxs)(n.p,{children:["Autocommit defaults to ",(0,s.jsx)(n.code,{children:"True"}),". Disable for explicit transaction control:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    autocommit=False\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or change after connection:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn.autocommit = False\n"})}),"\n",(0,s.jsx)(n.h3,{id:"page-size",children:"Page Size"}),"\n",(0,s.jsx)(n.p,{children:"The driver fetches results in pages (default: 1024 rows). Increase page size for large result sets to reduce network overhead:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    page_size=4096\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"network-timeout",children:"Network Timeout"}),"\n",(0,s.jsx)(n.p,{children:"Configure network timeout for socket operations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"conn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    timeout=60  # 60 seconds\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"thread-safety",children:"Thread Safety"}),"\n",(0,s.jsx)(n.p,{children:"The module provides thread safety level 1 (module level). Each thread requires its own connection. Do not share connections across threads."}),"\n",(0,s.jsx)(n.h3,{id:"lastrowid-limitation",children:"lastrowid Limitation"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"cursor.lastrowid"})," attribute always returns ",(0,s.jsx)(n.code,{children:"None"}),". Ignite does not track auto-generated keys through the DB-API interface."]}),"\n",(0,s.jsx)(n.h2,{id:"connection-examples",children:"Connection Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Basic\nconn = pyignite_dbapi.connect(address=['127.0.0.1:10800'])\n\n# With schema\nconn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    schema='analytics'\n)\n\n# With authentication\nconn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    identity='admin',\n    secret='password'\n)\n\n# With SSL\nconn = pyignite_dbapi.connect(\n    address=['127.0.0.1:10800'],\n    use_ssl=True,\n    ssl_certfile='/opt/certs/client.pem',\n    ssl_keyfile='/opt/certs/client-key.pem',\n    ssl_ca_certfile='/opt/certs/ca.pem'\n)\n\n# Complete configuration\nconn = pyignite_dbapi.connect(\n    address=['node1:10800', 'node2:10800', 'node3:10800'],\n    identity='admin',\n    secret='password',\n    schema='mySchema',\n    page_size=2048,\n    timeout=60,\n    autocommit=False,\n    use_ssl=True,\n    ssl_certfile='/opt/certs/client.pem',\n    ssl_keyfile='/opt/certs/client-key.pem',\n    ssl_ca_certfile='/opt/certs/ca.pem'\n)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,s.jsx)(n.h3,{id:"module-attributes",children:"Module Attributes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"apilevel"})," - ",(0,s.jsx)(n.code,{children:"'2.0'"})," (PEP 249 API level)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"threadsafety"})," - ",(0,s.jsx)(n.code,{children:"1"})," (module-level thread safety)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"paramstyle"})," - ",(0,s.jsx)(n.code,{children:"'qmark'"})," (question mark parameter style)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"db-api-compliance",children:"DB-API Compliance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"PEP 249 Database API Specification 2.0 compliant"}),"\n",(0,s.jsx)(n.li,{children:"Implements Connection, Cursor objects"}),"\n",(0,s.jsx)(n.li,{children:"Supports context managers (with statements)"}),"\n",(0,s.jsx)(n.li,{children:"Implements iterator protocol for cursors"}),"\n",(0,s.jsx)(n.li,{children:"Provides standard exception hierarchy"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"limitations",children:"Limitations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Thread safety level 1 (connections not thread-safe)"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lastrowid"})," not supported (always returns ",(0,s.jsx)(n.code,{children:"None"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Binary data must use ",(0,s.jsx)(n.code,{children:"bytes"})," type (no special Binary constructor)"]}),"\n",(0,s.jsx)(n.li,{children:"Date/time values use standard library types (no special constructors)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var r=i(96540);const s={},t=r.createContext(s);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);