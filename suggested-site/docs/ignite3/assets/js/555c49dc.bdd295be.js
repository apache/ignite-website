"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6391],{28453:(t,e,i)=>{i.d(e,{R:()=>a,x:()=>r});var s=i(96540);const n={},h=s.createContext(n);function a(t){const e=s.useContext(h);return s.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:a(t.components),s.createElement(h.Provider,{value:e},t.children)}},63367:(t,e,i)=>{i.d(e,{A:()=>U});var s=i(96540);const n={},h=!1,a=8,r=10,d="railroad-diagram",o=!0,l="center",c=8.5,m=7;class w{constructor(t,e,i){this.children=i||[],this.tagName=t,this.attrs=q(e,{})}format(t,e,i){}addTo(t){if(t instanceof w)return t.children.push(this),this;var e=this.toSVG();return t.appendChild(e),e}toSVG(){var t=function(t,e,i){e=e||{},i=i||"";var s=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)"xlink:href"===n?s.setAttributeNS("http://www.w3.org/1999/xlink","href",e[n]):s.setAttribute(n,e[n]);return s.textContent=i,s}(this.tagName,this.attrs);return"string"==typeof this.children?t.textContent=this.children:this.children.forEach(function(e){t.appendChild(e.toSVG())}),t}toString(){var t="<"+this.tagName,e="g"==this.tagName||"svg"==this.tagName;for(var i in this.attrs)t+=" "+i+'="'+(this.attrs[i]+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")+'"';return t+=">",e&&(t+="\n"),"string"==typeof this.children?t+=this.children.replace(/[*_\`\[\]<&]/g,function(t){return"&#"+t.charCodeAt(0)+";"}):this.children.forEach(function(e){t+=e}),t+="</"+this.tagName+">\n"}walk(t){t(this)}}class u extends w{constructor(t,e){super("path"),this.attrs.d="M"+t+" "+e}m(t,e){return this.attrs.d+="m"+t+" "+e,this}h(t){return this.attrs.d+="h"+t,this}right(t){return this.h(Math.max(0,t))}left(t){return this.h(-Math.max(0,t))}v(t){return this.attrs.d+="v"+t,this}down(t){return this.v(Math.max(0,t))}up(t){return this.v(-Math.max(0,t))}arc(t){var e,i=r,s=r;return"e"!=t[0]&&"w"!=t[1]||(i*=-1),"s"!=t[0]&&"n"!=t[1]||(s*=-1),e="ne"==t||"es"==t||"sw"==t||"wn"==t?1:0,this.attrs.d+="a"+r+" "+r+" 0 0 "+e+" "+i+" "+s,this}arc_8(t,e){const i=r,s=1/Math.sqrt(2)*i,n=i-s;let h="a "+i+" "+i+" 0 0 "+("cw"==e?"1":"0")+" ";const a=t+e;return h+=("ncw"==a?[s,n]:"necw"==a?[n,s]:"ecw"==a?[-n,s]:"secw"==a?[-s,n]:"scw"==a?[-s,-n]:"swcw"==a?[-n,-s]:"wcw"==a?[n,-s]:"nwcw"==a?[s,-n]:"nccw"==a?[-s,n]:"nwccw"==a?[-n,s]:"wccw"==a?[n,s]:"swccw"==a?[s,n]:"sccw"==a?[s,-n]:"seccw"==a?[n,-s]:"eccw"==a?[-n,-s]:"neccw"==a?[-s,-n]:null).join(" "),this.attrs.d+=h,this}l(t,e){return this.attrs.d+="l"+t+" "+e,this}format(){return this.attrs.d+="h.5",this}}class p extends w{constructor(t,e,i,s){super(t,i,s),this.items=e.map(L)}walk(t){t(this),this.items.forEach(e=>e.walk(t))}}class g extends p{constructor(...t){super("svg",t,{class:d}),this.items[0]instanceof z||this.items.unshift(new z),this.items[this.items.length-1]instanceof A||this.items.push(new A),this.up=this.down=this.height=this.width=0;for(const e of this.items)this.width+=e.width+(e.needsSpace?20:0),this.up=Math.max(this.up,e.up-this.height),this.height+=e.height,this.down=Math.max(this.down-e.height,e.down);this.formatted=!1}format(t,e,i,s){t=q(t,20),e=q(e,t,20),i=q(i,t,20);var n=s=q(s,e,20),h=t;h+=this.up;for(var a=new w("g",o?{transform:"translate(.5 .5)"}:{}),r=0;r<this.items.length;r++){var d=this.items[r];d.needsSpace&&(new u(n,h).h(10).addTo(a),n+=10),d.format(n,h,d.width).addTo(a),n+=d.width,h+=d.height,d.needsSpace&&(new u(n,h).h(10).addTo(a),n+=10)}return this.attrs.width=this.width+s+e,this.attrs.height=this.up+this.height+this.down+t+i,this.attrs.viewBox="0 0 "+this.attrs.width+" "+this.attrs.height,a.addTo(this),this.formatted=!0,this}addTo(t){if(!t){var e=document.getElementsByTagName("script");t=(e=e[e.length-1]).parentNode}return super.addTo.call(this,t)}toSVG(){return this.formatted||this.format(),super.toSVG.call(this)}toString(){return this.formatted||this.format(),super.toString.call(this)}toStandalone(t){this.formatted||this.format();const e=new w("style",{},t||"\n\tsvg {\n\t\tbackground-color: hsl(30,20%,95%);\n\t}\n\tpath {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: rgba(0,0,0,0);\n\t}\n\ttext {\n\t\tfont: bold 14px monospace;\n\t\ttext-anchor: middle;\n\t\twhite-space: pre;\n\t}\n\ttext.diagram-text {\n\t\tfont-size: 12px;\n\t}\n\ttext.diagram-arrow {\n\t\tfont-size: 16px;\n\t}\n\ttext.label {\n\t\ttext-anchor: start;\n\t}\n\ttext.comment {\n\t\tfont: italic 12px monospace;\n\t}\n\tg.non-terminal text {\n\t\t/*font-style: italic;*/\n\t}\n\trect {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: hsl(120,100%,90%);\n\t}\n\trect.group-box {\n\t\tstroke: gray;\n\t\tstroke-dasharray: 10 5;\n\t\tfill: none;\n\t}\n\tpath.diagram-text {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: white;\n\t\tcursor: help;\n\t}\n\tg.diagram-text:hover path.diagram-text {\n\t\tfill: #eee;\n\t}");this.children.push(e),this.attrs.xmlns="http://www.w3.org/2000/svg",this.attrs["xmlns:xlink"]="http://www.w3.org/1999/xlink";const i=super.toString.call(this);return this.children.pop(),delete this.attrs.xmlns,i}}n.Diagram=(...t)=>new g(...t);class x extends w{constructor(...t){var e=new g(...t);return e.items[0]=new z({type:"complex"}),e.items[e.items.length-1]=new A({type:"complex"}),e}}n.ComplexDiagram=(...t)=>new x(...t);class f extends p{constructor(...t){super("g",t);this.items.length;this.needsSpace=!0,this.up=this.down=this.height=this.width=0;for(var e=0;e<this.items.length;e++){var i=this.items[e];this.width+=i.width+(i.needsSpace?20:0),this.up=Math.max(this.up,i.up-this.height),this.height+=i.height,this.down=Math.max(this.down-i.height,i.down)}this.items[0].needsSpace&&(this.width-=10),this.items[this.items.length-1].needsSpace&&(this.width-=10),h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="sequence")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0];for(var n=0;n<this.items.length;n++){var h=this.items[n];h.needsSpace&&n>0&&(new u(t,e).h(10).addTo(this),t+=10),h.format(t,e,h.width).addTo(this),t+=h.width,e+=h.height,h.needsSpace&&n<this.items.length-1&&(new u(t,e).h(10).addTo(this),t+=10)}return this}}n.Sequence=(...t)=>new f(...t);class T extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("Stack() must have at least one child.");this.width=Math.max.apply(null,this.items.map(function(t){return t.width+(t.needsSpace?20:0)})),this.items.length>1&&(this.width+=2*r),this.needsSpace=!0,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=0;for(var e=this.items.length-1,i=0;i<this.items.length;i++){var s=this.items[i];this.height+=s.height,i>0&&(this.height+=Math.max(2*r,s.up+a)),i<e&&(this.height+=Math.max(2*r,s.down+a))}h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="stack")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this);var n=t+=s[0];this.items.length>1&&(new u(t,e).h(r).addTo(this),t+=r);for(var h=0;h<this.items.length;h++){var d=this.items[h],o=this.width-(this.items.length>1?2*r:0);d.format(t,e,o).addTo(this),t+=o,e+=d.height,h!==this.items.length-1&&(new u(t,e).arc("ne").down(Math.max(0,d.down+a-2*r)).arc("es").left(o).arc("nw").down(Math.max(0,this.items[h+1].up+a-2*r)).arc("ws").addTo(this),e+=Math.max(d.down+a,2*r)+Math.max(this.items[h+1].up+a,2*r),t=n+r)}return this.items.length>1&&(new u(t,e).h(r).addTo(this),t+=r),new u(t,e).h(s[1]).addTo(this),this}}n.Stack=(...t)=>new T(...t);class j extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("OptionalSequence() must have at least one child.");if(1===t.length)return new f(t);var e=r;this.needsSpace=!1,this.width=0,this.up=0,this.height=D(this.items,function(t){return t.height}),this.down=this.items[0].down;for(var i=0,s=0;s<this.items.length;s++){var n=this.items[s];this.up=Math.max(this.up,Math.max(2*e,n.up+a)-i),i+=n.height,s>0&&(this.down=Math.max(this.height+this.down,i+Math.max(2*e,n.down+a))-this.height);var d=(n.needsSpace?10:0)+n.width;this.width+=0===s?e+Math.max(d,e):2*e+Math.max(d,e)+e}h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="optseq")}format(t,e,i){var s=r,n=Z(i,this.width);new u(t,e).right(n[0]).addTo(this),new u(t+n[0]+this.width,e+this.height).right(n[1]).addTo(this),t+=n[0];for(var h=e-this.up,d=this.items.length-1,o=0;o<this.items.length;o++){var l=this.items[o],c=l.needsSpace?10:0,m=l.width+c;0===o?(new u(t,e).arc("se").up(e-h-2*s).arc("wn").right(m-s).arc("ne").down(e+l.height-h-2*s).arc("ws").addTo(this),new u(t,e).right(c+s).addTo(this),l.format(t+c+s,e,l.width).addTo(this),t+=m+s,e+=l.height):o<d?(new u(t,h).right(2*s+Math.max(m,s)+s).arc("ne").down(e-h+l.height-2*s).arc("ws").addTo(this),new u(t,e).right(2*s).addTo(this),l.format(t+2*s,e,l.width).addTo(this),new u(t+l.width+2*s,e+l.height).right(c+s).addTo(this),new u(t,e).arc("ne").down(l.height+Math.max(l.down+a,2*s)-2*s).arc("ws").right(m-s).arc("se").up(l.down+a-2*s).arc("wn").addTo(this),t+=2*s+Math.max(m,s)+s,e+=l.height):(new u(t,e).right(2*s).addTo(this),l.format(t+2*s,e,l.width).addTo(this),new u(t+2*s+l.width,e+l.height).right(c+s).addTo(this),new u(t,e).arc("ne").down(l.height+Math.max(l.down+a,2*s)-2*s).arc("ws").right(m-s).arc("se").up(l.down+a-2*s).arc("wn").addTo(this))}return this}}n.OptionalSequence=(...t)=>new j(...t);class v extends p{constructor(...t){if(super("g",t),1===t.length)return new f(t);if(2!==t.length)throw new RangeError("AlternatingSequence() must have one or two children.");this.needsSpace=!1;const e=r,i=a,s=Math.max,n=this.items[0],d=this.items[1],o=1/Math.sqrt(2)*e*2,l=(1-1/Math.sqrt(2))*e*2,c=Math.max(e,a),m=c-l+o,w=s(e+e,c/2+e+e,c/2+i+n.down);this.up=w+n.height+n.up;const u=s(e+e,c/2+e+e,c/2+i+d.up);this.down=u+d.height+d.down,this.height=0;const p=2*(n.needsSpace?10:0)+n.width,g=2*(d.needsSpace?10:0)+d.width;this.width=2*e+s(p,m,g)+2*e,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="altseq")}format(t,e,i){const s=r,n=Z(i,this.width);new u(t,e).right(n[0]).addTo(this),t+=n[0],new u(t+this.width,e).right(n[1]).addTo(this);const h=this.items[0],d=this.items[1],o=this.up-h.up,l=this.up-h.up-h.height;new u(t,e).arc("se").up(o-2*s).arc("wn").addTo(this),h.format(t+2*s,e-o,this.width-4*s).addTo(this),new u(t+this.width-2*s,e-l).arc("ne").down(l-2*s).arc("ws").addTo(this);const c=this.down-d.down-d.height,m=this.down-d.down;new u(t,e).arc("ne").down(c-2*s).arc("ws").addTo(this),d.format(t+2*s,e+c,this.width-4*s).addTo(this),new u(t+this.width-2*s,e+m).arc("se").up(m-2*s).arc("wn").addTo(this);const w=1/Math.sqrt(2)*s*2,p=(1-1/Math.sqrt(2))*s*2,g=Math.max(s,a),x=g-p+w,f=(this.width-4*s-x)/2;return new u(t+s,e-g/2-s).arc("ws").right(f).arc_8("n","cw").l(x-w,g-p).arc_8("sw","ccw").right(f).arc("ne").addTo(this),new u(t+s,e+g/2+s).arc("wn").right(f).arc_8("s","ccw").l(x-w,-(g-p)).arc_8("nw","cw").right(f).arc("se").addTo(this),this}}n.AlternatingSequence=(...t)=>new v(...t);class b extends p{constructor(t,...e){if(super("g",e),"number"!=typeof t||t!==Math.floor(t))throw new TypeError("The first argument of Choice() must be an integer.");if(t<0||t>=e.length)throw new RangeError("The first argument of Choice() must be an index for one of the items.");this.normal=t;var i,s=e.length-1;this.width=Math.max.apply(null,this.items.map(function(t){return t.width}))+4*r,this.height=this.items[t].height,this.up=this.items[0].up;for(var n=0;n<t;n++)i=n==t-1?2*r:r,this.up+=Math.max(i,this.items[n].height+this.items[n].down+a+this.items[n+1].up);for(this.down=this.items[s].down,n=t+1;n<=s;n++)i=n==t+1?2*r:r,this.down+=Math.max(i,this.items[n-1].height+this.items[n-1].down+a+this.items[n].up);this.down-=this.items[t].height,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="choice")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0];for(var n,h=this.items.length-1,d=this.width-4*r,o=this.normal-1;o>=0;o--){let i=this.items[o];o==this.normal-1&&(n=Math.max(2*r,this.items[this.normal].up+a+i.down+i.height)),new u(t,e).arc("se").up(n-2*r).arc("wn").addTo(this),i.format(t+2*r,e-n,d).addTo(this),new u(t+2*r+d,e-n+i.height).arc("ne").down(n-i.height+this.height-2*r).arc("ws").addTo(this),n+=Math.max(r,i.up+a+(0===o?0:this.items[o-1].down+this.items[o-1].height))}for(new u(t,e).right(2*r).addTo(this),this.items[this.normal].format(t+2*r,e,d).addTo(this),new u(t+2*r+d,e+this.height).right(2*r).addTo(this),o=this.normal+1;o<=h;o++){let i=this.items[o];o==this.normal+1&&(n=Math.max(2*r,this.height+this.items[this.normal].down+a+i.up)),new u(t,e).arc("ne").down(n-2*r).arc("ws").addTo(this),i.format(t+2*r,e+n,d).addTo(this),new u(t+2*r+d,e+n+i.height).arc("se").up(n-2*r+i.height-this.height).arc("wn").addTo(this),n+=Math.max(r,i.height+i.down+a+(o==h?0:this.items[o+1].up))}return this}}n.Choice=(...t)=>new b(...t);class E extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("HorizontalChoice() must have at least one child.");if(1===t.length)return new f(t);const e=this.items.slice(0,-1),i=this.items.slice(1,-1),s=this.items[0],n=this.items[this.items.length-1];this.needsSpace=!1,this.width=r,this.width+=2*r*(this.items.length-1),this.width+=D(this.items,t=>t.width+(t.needsSpace?20:0)),this.width+=n.height>0?r:0,this.width+=r,this.height=0,this._upperTrack=Math.max(2*r,a,F(e,t=>t.up)+a),this.up=Math.max(this._upperTrack,n.up),this._lowerTrack=Math.max(a,F(i,t=>t.height+Math.max(t.down+a,2*r)),n.height+n.down+a),s.height<this._lowerTrack&&(this._lowerTrack=Math.max(this._lowerTrack,s.height+2*r)),this.down=Math.max(this._lowerTrack,s.height+s.down),h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="horizontalchoice")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0];const n=this.items[0],h=this.items[this.items.length-1],a=this.items.slice(1);var d=D(this.items.slice(0,-1),t=>t.width+(t.needsSpace?20:0))+(this.items.length-2)*r*2-r;new u(t,e).arc("se").v(-(this._upperTrack-2*r)).arc("wn").h(d).addTo(this);var o=D(a,t=>t.width+(t.needsSpace?20:0))+(this.items.length-2)*r*2+(h.height>0?r:0)-r,l=t+r+n.width+(n.needsSpace?20:0)+2*r;new u(l,e+this._lowerTrack).h(o).arc("se").v(-(this._lowerTrack-2*r)).arc("wn").addTo(this);for(const[m,w]of function*(t){var e=0;for(const i of t)yield[e,i],e++}(this.items)){0===m?(new u(t,e).h(r).addTo(this),t+=r):(new u(t,e-this._upperTrack).arc("ne").v(this._upperTrack-2*r).arc("ws").addTo(this),t+=2*r);var c=w.width+(w.needsSpace?20:0);w.format(t,e,c).addTo(this),t+=c,m===this.items.length-1?0===w.height?new u(t,e).h(r).addTo(this):new u(t,e+w.height).arc("se").addTo(this):0===m&&w.height>this._lowerTrack?w.height-this._lowerTrack>=2*r?new u(t,e+w.height).arc("se").v(this._lowerTrack-w.height+2*r).arc("wn").addTo(this):new u(t,e+w.height).l(2*r,this._lowerTrack-w.height).addTo(this):new u(t,e+w.height).arc("ne").v(this._lowerTrack-w.height-2*r).arc("ws").addTo(this)}return this}}n.HorizontalChoice=(...t)=>new E(...t);class S extends p{constructor(t,e,...i){if(super("g",i),"number"!=typeof t||t!==Math.floor(t))throw new TypeError("The first argument of MultipleChoice() must be an integer.");if(t<0||t>=i.length)throw new RangeError("The first argument of MultipleChoice() must be an index for one of the items.");if(this.normal=t,"any"!=e&&"all"!=e)throw new SyntaxError("The second argument of MultipleChoice must be 'any' or 'all'.");this.type=e,this.needsSpace=!0,this.innerWidth=F(this.items,function(t){return t.width}),this.width=30+r+this.innerWidth+r+20,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=this.items[t].height;for(var s=0;s<this.items.length;s++){let e,i=this.items[s];e=s==t-1||s==t+1?10+r:r,s<t?this.up+=Math.max(e,i.height+i.down+a+this.items[s+1].up):s>t&&(this.down+=Math.max(e,i.up+a+this.items[s-1].down+this.items[s-1].height))}this.down-=this.items[t].height,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="multiplechoice")}format(t,e,i){var s=Z(i,this.width);new u(t,e).right(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).right(s[1]).addTo(this),t+=s[0];for(var n,h=this.items[this.normal],d=this.normal-1;d>=0;d--){var o=this.items[d];d==this.normal-1&&(n=Math.max(10+r,h.up+a+o.down+o.height)),new u(t+30,e).up(n-r).arc("wn").addTo(this),o.format(t+30+r,e-n,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,e-n+o.height).arc("ne").down(n-o.height+this.height-r-10).addTo(this),0!==d&&(n+=Math.max(r,o.up+a+this.items[d-1].down+this.items[d-1].height))}for(new u(t+30,e).right(r).addTo(this),h.format(t+30+r,e,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,e+this.height).right(r).addTo(this),d=this.normal+1;d<this.items.length;d++){let i=this.items[d];d==this.normal+1&&(n=Math.max(10+r,h.height+h.down+a+i.up)),new u(t+30,e).down(n-r).arc("ws").addTo(this),i.format(t+30+r,e+n,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,e+n+i.height).arc("se").up(n-r+i.height-h.height).addTo(this),d!=this.items.length-1&&(n+=Math.max(r,i.height+i.down+a+this.items[d+1].up))}var l=new w("g",{class:"diagram-text"}).addTo(this);return new w("title",{},"any"==this.type?"take one or more branches, once each, in any order":"take all branches, once each, in any order").addTo(l),new w("path",{d:"M "+(t+30)+" "+(e-10)+" h -26 a 4 4 0 0 0 -4 4 v 12 a 4 4 0 0 0 4 4 h 26 z",class:"diagram-text"}).addTo(l),new w("text",{x:t+15,y:e+4,class:"diagram-text"},"any"==this.type?"1+":"all").addTo(l),new w("path",{d:"M "+(t+this.width-20)+" "+(e-10)+" h 16 a 4 4 0 0 1 4 4 v 12 a 4 4 0 0 1 -4 4 h -16 z",class:"diagram-text"}).addTo(l),new w("path",{d:"M "+(t+this.width-13)+" "+(e-2)+" a 4 4 0 1 0 6 -1 m 2.75 -1 h -4 v 4 m 0 -3 h 2",style:"stroke-width: 1.75"}).addTo(l),this}}n.MultipleChoice=(...t)=>new S(...t);class y extends w{constructor(t,e){if(void 0===e)return new b(1,new R,t);if("skip"===e)return new b(0,new R,t);throw"Unknown value for Optional()'s 'skip' argument."}}n.Optional=(...t)=>new y(...t);class O extends w{constructor(t,e){super("g"),e=e||new R,this.item=L(t),this.rep=L(e),this.width=Math.max(this.item.width,this.rep.width)+2*r,this.height=this.item.height,this.up=this.item.up,this.down=Math.max(2*r,this.item.down+a+this.rep.up+this.rep.height+this.rep.down),this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="oneormore")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0],new u(t,e).right(r).addTo(this),this.item.format(t+r,e,this.width-2*r).addTo(this),new u(t+this.width-r,e+this.height).right(r).addTo(this);var n=Math.max(2*r,this.item.height+this.item.down+a+this.rep.up);return new u(t+r,e).arc("nw").down(n-2*r).arc("ws").addTo(this),this.rep.format(t+r,e+n,this.width-2*r).addTo(this),new u(t+this.width-r,e+n+this.rep.height).arc("se").up(n-2*r+this.rep.height-this.item.height).arc("en").addTo(this),this}walk(t){t(this),this.item.walk(t),this.rep.walk(t)}}n.OneOrMore=(...t)=>new O(...t);class M extends w{constructor(t,e,i){return new y(new O(t,e),i)}}n.ZeroOrMore=(...t)=>new M(...t);class N extends w{constructor(t,e){super("g"),this.item=L(t),this.label=e instanceof w?e:e?new C(e):void 0,this.width=Math.max(this.item.width+(this.item.needsSpace?20:0),this.label?this.label.width:0,2*r),this.height=this.item.height,this.boxUp=this.up=Math.max(this.item.up+a,r),this.label&&(this.up+=this.label.up+this.label.height+this.label.down),this.down=Math.max(this.item.down+a,r),this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="group")}format(t,e,i){var s=Z(i,this.width);return new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0],new w("rect",{x:t,y:e-this.boxUp,width:this.width,height:this.boxUp+this.height+this.down,rx:r,ry:r,class:"group-box"}).addTo(this),this.item.format(t,e,this.width).addTo(this),this.label&&this.label.format(t,e-(this.boxUp+this.label.down+this.label.height),this.label.width).addTo(this),this}walk(t){t(this),this.item.walk(t),this.label.walk(t)}}n.Group=(...t)=>new N(...t);class z extends w{constructor({type:t="simple",label:e}={}){super("g"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=t,e&&(this.label=""+e,this.width=Math.max(20,this.label.length*c+10)),h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="start")}format(t,e){let i=new u(t,e-10);return"complex"===this.type?i.down(20).m(0,-10).right(this.width).addTo(this):i.down(20).m(10,-20).down(20).m(-10,-10).right(this.width).addTo(this),this.label&&new w("text",{x:t,y:e-15,style:"text-anchor:start"},this.label).addTo(this),this}}n.Start=(...t)=>new z(...t);class A extends w{constructor({type:t="simple"}={}){super("path"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=t,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="end")}format(t,e){return"complex"===this.type?this.attrs.d="M "+t+" "+e+" h 20 m 0 -10 v 20":this.attrs.d="M "+t+" "+e+" h 20 m -10 -10 v 20 m 10 -20 v 20",this}}n.End=(...t)=>new A(...t);class I extends w{constructor(t,{href:e,title:i,cls:s}={}){super("g",{class:["terminal",s].join(" ")}),this.text=""+t,this.href=e,this.title=i,this.cls=s,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="terminal")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e).h(s[1]).addTo(this),t+=s[0],new w("rect",{x:t,y:e-11,width:this.width,height:this.up+this.down,rx:10,ry:10}).addTo(this);var n=new w("text",{x:t+this.width/2,y:e+4},this.text);return this.href?new w("a",{"xlink:href":this.href},[n]).addTo(this):n.addTo(this),this.title&&new w("title",{},[this.title]).addTo(this),this}}n.Terminal=(...t)=>new I(...t);class k extends w{constructor(t,{href:e,title:i,cls:s=""}={}){super("g",{class:["non-terminal",s].join(" ")}),this.text=""+t,this.href=e,this.title=i,this.cls=s,this.width=this.text.length*c+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="nonterminal")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e).h(s[1]).addTo(this),t+=s[0],new w("rect",{x:t,y:e-11,width:this.width,height:this.up+this.down}).addTo(this);var n=new w("text",{x:t+this.width/2,y:e+4},this.text);return this.href?new w("a",{"xlink:href":this.href},[n]).addTo(this):n.addTo(this),this.title&&new w("title",{},[this.title]).addTo(this),this}}n.NonTerminal=(...t)=>new k(...t);class C extends w{constructor(t,{href:e,title:i,cls:s=""}={}){super("g",{class:["comment",s].join(" ")}),this.text=""+t,this.href=e,this.title=i,this.cls=s,this.width=this.text.length*m+10,this.height=0,this.up=8,this.down=8,this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="comment")}format(t,e,i){var s=Z(i,this.width);new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e+this.height).h(s[1]).addTo(this),t+=s[0];var n=new w("text",{x:t+this.width/2,y:e+5,class:"comment"},this.text);return this.href?new w("a",{"xlink:href":this.href},[n]).addTo(this):n.addTo(this),this.title&&new w("title",{},this.title).addTo(this),this}}n.Comment=(...t)=>new C(...t);class R extends w{constructor(){super("g"),this.width=0,this.height=0,this.up=0,this.down=0,this.needsSpace=!1,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="skip")}format(t,e,i){return new u(t,e).right(i).addTo(this),this}}n.Skip=(...t)=>new R(...t);class _ extends w{constructor({width:t=50,up:e=15,height:i=25,down:s=15,needsSpace:n=!0}={}){super("g"),this.width=t,this.height=i,this.up=e,this.down=s,this.needsSpace=!0,h&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="block")}format(t,e,i){var s=Z(i,this.width);return new u(t,e).h(s[0]).addTo(this),new u(t+s[0]+this.width,e).h(s[1]).addTo(this),t+=s[0],new w("rect",{x:t,y:e-this.up,width:this.width,height:this.up+this.height+this.down}).addTo(this),this}}function q(...t){return t.reduce(function(t,e){return void 0!==t?t:e})}function Z(t,e){var i=t-e;switch(l){case"left":return[0,i];case"right":return[i,0];default:return[i/2,i/2]}}function L(t){return t instanceof w?t:new I(""+t)}function D(t,e){return e||(e=function(t){return t}),t.map(e).reduce(function(t,e){return t+e},0)}function F(t,e){return e||(e=function(t){return t}),Math.max.apply(null,t.map(e))}n.Block=(...t)=>new _(...t);var P=i(74848);function U({children:t}){const e=(0,s.useRef)(null),i=(0,s.useRef)(null),[n,h]=(0,s.useState)(!1),a=e=>{if(e.current)try{const s=(...t)=>new g(...t),n=(...t)=>new I(...t),h=(...t)=>new k(...t),a=(...t)=>new y(...t),r=(...t)=>new f(...t),d=(...t)=>new b(...t),o=(...t)=>new R(...t),l=(...t)=>new C(...t),c=(...t)=>new O(...t),m=(...t)=>new M(...t),w=t.replace(/ComplexDiagram\(/g,"Diagram(").replace(/Start\([^)]*\),?\s*/g,"").replace(/,?\s*End\([^)]*\)/g,"").trim();try{const t=new Function("Diagram","Terminal","NonTerminal","Optional","Sequence","Choice","Skip","Comment","OneOrMore","ZeroOrMore",`'use strict'; return ${w};`)(s,n,h,a,r,d,o,l,c,m);if(!t||"function"!=typeof t.toSVG)throw new Error("Diagram function did not return a valid diagram object");e.current.innerHTML="";const i=t.toSVG();i.querySelectorAll("a[*|href]").forEach(t=>{const e=t.getAttributeNS("http://www.w3.org/1999/xlink","href");if(e&&e.startsWith("./")){const i=e.replace(/^\.\//,"../sql-reference/");t.setAttributeNS("http://www.w3.org/1999/xlink","href",i)}}),e.current.appendChild(i)}catch(i){throw console.error("Error in diagram generation:",i),i}}catch(s){console.error("Error rendering railroad diagram:",s),e.current.innerHTML='<p style="color: red;">Error rendering diagram. Check console for details.</p>'}};(0,s.useEffect)(()=>{a(e)},[t]),(0,s.useEffect)(()=>{if(n){a(i);const t=t=>{"Escape"===t.key&&h(!1)};return document.addEventListener("keydown",t),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""}}},[n,t]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"railroad-diagram-wrapper",children:[(0,P.jsx)("button",{className:"railroad-expand-button",onClick:()=>h(!0),"aria-label":"Expand diagram",title:"View full size",children:(0,P.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,P.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})}),(0,P.jsx)("div",{ref:e,className:"railroad-diagram-container"})]}),n&&(0,P.jsx)("div",{className:"railroad-modal-overlay",onClick:t=>{t.target===t.currentTarget&&h(!1)},children:(0,P.jsxs)("div",{className:"railroad-modal-content",children:[(0,P.jsx)("button",{className:"railroad-modal-close",onClick:()=>h(!1),"aria-label":"Close",title:"Close (ESC)",children:"\xd7"}),(0,P.jsx)("div",{ref:i,className:"railroad-diagram-container railroad-diagram-modal"})]})})]})}},88045:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"sql/reference/language-definition/distribution-zones","title":"Distribution Zones","description":"This section describes Apache Ignite 3 distribution zones. In Apache Ignite 3, you can fine-tune distribution of your partitions on nodes for better performance and stability.","source":"@site/docs/sql/reference/language-definition/distribution-zones.mdx","sourceDirName":"sql/reference/language-definition","slug":"/sql/reference/language-definition/distribution-zones","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/distribution-zones","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/sql/reference/language-definition/distribution-zones.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"distribution-zones","title":"Distribution Zones","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Data Manipulation Language (DML)","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/dml"},"next":{"title":"Transactions","permalink":"/suggested-site/docs/ignite3/3.1.0/sql/reference/language-definition/transactions"}}');var n=i(74848),h=i(28453),a=i(63367);const r={id:"distribution-zones",title:"Distribution Zones",sidebar_position:1},d="Distribution Zones",o={},l=[{value:"CREATE ZONE",id:"create-zone",level:2},{value:"Keywords and parameters",id:"keywords-and-parameters",level:3},{value:"Examples",id:"examples",level:3},{value:"ALTER ZONE",id:"alter-zone",level:2},{value:"ALTER ZONE RENAME TO new_qualified_zone_name",id:"alter-zone-rename-to-new_qualified_zone_name",level:3},{value:"Keywords and parameters",id:"keywords-and-parameters-1",level:4},{value:"Examples",id:"examples-1",level:4},{value:"ALTER ZONE SET",id:"alter-zone-set",level:3},{value:"Keywords and parameters",id:"keywords-and-parameters-2",level:4},{value:"Examples",id:"examples-2",level:4},{value:"DROP ZONE",id:"drop-zone",level:2},{value:"Keywords and parameters",id:"keywords-and-parameters-3",level:3},{value:"Examples",id:"examples-3",level:3}];function c(t){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,h.R)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.header,{children:(0,n.jsx)(e.h1,{id:"distribution-zones",children:"Distribution Zones"})}),"\n",(0,n.jsx)(e.p,{children:"This section describes Apache Ignite 3 distribution zones. In Apache Ignite 3, you can fine-tune distribution of your partitions on nodes for better performance and stability."}),"\n",(0,n.jsx)(e.h2,{id:"create-zone",children:"CREATE ZONE"}),"\n",(0,n.jsx)(e.p,{children:"Creates a new distribution zone."}),"\n",(0,n.jsx)(e.admonition,{type:"note",children:(0,n.jsxs)(e.p,{children:["This can also be done via the ",(0,n.jsx)(e.a,{href:"/3.1.0/develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,n.jsx)(a.A,{children:'\nDiagram(\nTerminal("CREATE ZONE"),\nOptional(Terminal("IF NOT EXISTS")),\nNonTerminal("qualified_zone_name", { href: "./grammar-reference/#qualified-zone-name" }),\nOptional(\nSequence(\nTerminal("("),\nOneOrMore(\nNonTerminal("zone_parameter", { href: "./grammar-reference/#zone-parameter" }),\nTerminal(",")\n),\nTerminal(")")\n)\n),\nEnd({ type: "complex" })\n)\n'}),"\n",(0,n.jsx)(a.A,{children:'\nDiagram(\nStart({ type: "complex" }),\nTerminal("STORAGE PROFILES"),\nTerminal("["),\nOneOrMore(\nNonTerminal("storage_profile", { href: "./grammar-reference/#storage-profile" }),\nTerminal(",")\n),\nTerminal("]"),\nTerminal(";")\n)\n'}),"\n",(0,n.jsx)(e.h3,{id:"keywords-and-parameters",children:"Keywords and parameters"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"IF NOT EXISTS"})," - create a zone only if a different zone with the same name does not exist."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"qualified_zone_name"})," - a name of the distribution zone. Can be specified as a case-sensitive string or case-insensitive identifier. Does not need to exist at the moment of table creation, and can be created before writing data."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"STORAGE PROFILES"})," - Required. Comma-separated list of the profiles of the storage engines to use."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"PARTITIONS"})," - the number of partition the data is divided into. Partitions are then split between nodes for storage."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"REPLICAS"})," - the number of copies of each partition."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"NODES FILTER"})," - specifies the nodes that can be used to store data in the distribution zone based on node attributes. You can configure node attributes by using cli. Filter uses JSONPath rules. If the attribute is not found, all negative comparisons will be valid. For example, ",(0,n.jsx)(e.code,{children:"$[?(@.storage != 'SSD']}"})," will also include nodes without the ",(0,n.jsx)(e.code,{children:"storage"})," attribute specified."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AUTO SCALE UP"})," - Configures automatic scaling up of the distribution zone. Possible values:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"OFF"})," - disables the automatic distribution zone adjustment."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"integer"})," - the delay in seconds between the new node joining and the start of distribution zone adjustment. Possible values are between 0 and 2147483647. Default value: 5."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AUTO SCALE DOWN"})," - Configures automatic scaling down of the distribution zone. Possible values:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"OFF"})," - disables the automatic distribution zone adjustment. Default value."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"integer"})," - the delay in seconds between the new node joining and the start of distribution zone adjustment. Possible values are between 0 and 2147483647."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"CONSISTENCY MODE"})," - how the zone handles partition majority losses. If set to ",(0,n.jsx)(e.code,{children:"STRONG CONSISTENCY"}),", the data will become unavailable until majority is restored (typically, this means nodes leaving and returning to the cluster). ",(0,n.jsx)(e.code,{children:"HIGH AVAILABILITY"})," means that the data will be written and read from remaining nodes, accepting possible data loss. Default value: ",(0,n.jsx)(e.code,{children:"STRONG_CONSISTENCY"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"QUORUM SIZE"})," - the size of the majority of nodes in the consensus of a replication group. Quorum size is determined by the replica count."]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:"Minimal"})," value: ",(0,n.jsx)(e.code,{children:"1"})," if there is only one replica and ",(0,n.jsx)(e.code,{children:"2"})," if there is more than one.\n",(0,n.jsx)(e.em,{children:"Maximum"})," value: half the total number of replicas rounded up."]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:"Default values"}),": ",(0,n.jsx)(e.code,{children:"3"})," if there are 5 and more replicas. Otherwise, the smallest of 2 and the total replica count."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(e.h3,{id:"examples",children:"Examples"}),"\n",(0,n.jsxs)(e.p,{children:["Creates an ",(0,n.jsx)(e.code,{children:"exampleZone"})," distribution zone that is specified as a ",(0,n.jsx)(e.em,{children:"case-insensitive"})," identifier:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS exampleZone STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsxs)(e.p,{children:["Creates a ",(0,n.jsx)(e.code,{children:'"myExampleZone"'})," distribution zone that is specified as a ",(0,n.jsx)(e.em,{children:"case-sensitive"})," string:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS \"myExampleZone\" STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsxs)(e.p,{children:["Creates an ",(0,n.jsx)(e.code,{children:"exampleZone"})," distribution zone that will adjust 300 seconds after cluster topology changes before adding nodes:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS exampleZone (AUTO SCALE UP 300) STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsxs)(e.p,{children:["Creates an ",(0,n.jsx)(e.code,{children:"exampleZone"})," distribution zone that will wait 600 seconds before scaling down any idle nodes once the cluster topology changes:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS exampleZone (AUTO SCALE DOWN 600) STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsxs)(e.p,{children:["Creates an ",(0,n.jsx)(e.code,{children:"exampleZone"})," distribution zone where data will only be stored on nodes that have SSD attribute:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS exampleZone (NODES FILTER '$[?(@.storage == \"SSD\")]') STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsx)(e.admonition,{type:"note",children:(0,n.jsxs)(e.p,{children:["The example above assumes that there are nodes that have the attribute set as shown in the ",(0,n.jsx)(e.a,{href:"/3.1.0/sql/reference/language-definition/distribution-zones",children:"node filtering"})," example."]})}),"\n",(0,n.jsxs)(e.p,{children:["Creates an ",(0,n.jsx)(e.code,{children:"exampleZone"})," distribution zone with consistency mode set to ",(0,n.jsx)(e.code,{children:"HIGH_AVAILABILITY"}),":"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"CREATE ZONE IF NOT EXISTS exampleZone (REPLICAS 5, CONSISTENCY MODE 'HIGH_AVAILABILITY') STORAGE PROFILES['default'];\n"})}),"\n",(0,n.jsx)(e.h2,{id:"alter-zone",children:"ALTER ZONE"}),"\n",(0,n.jsx)(e.p,{children:"Modifies a distribution zone."}),"\n",(0,n.jsx)(e.h3,{id:"alter-zone-rename-to-new_qualified_zone_name",children:"ALTER ZONE RENAME TO new_qualified_zone_name"}),"\n",(0,n.jsx)(a.A,{children:"\nDiagram(\nTerminal('ALTER ZONE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_zone_name'),\nTerminal('RENAME TO'),\nNonTerminal('new_qualified_zone_name'),\n)\n"}),"\n",(0,n.jsx)(e.h4,{id:"keywords-and-parameters-1",children:"Keywords and parameters"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"IF EXISTS"})," - do not throw an error if a zone with the specified name does not exist."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"qualified_zone_name"})," - the current name of the distribution zone."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"RENAME TO"})," - renames the selected zone to the new name."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"new_qualified_zone_name"})," - the new name of the distribution zone (assigned by ",(0,n.jsx)(e.code,{children:"RENAME"}),")."]}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"examples-1",children:"Examples"}),"\n",(0,n.jsxs)(e.p,{children:["Renames the ",(0,n.jsx)(e.code,{children:"exampleZone"})," to ",(0,n.jsx)(e.code,{children:"renamedZone"}),":"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"ALTER ZONE IF EXISTS exampleZone RENAME TO renamedZone;\n"})}),"\n",(0,n.jsx)(e.h3,{id:"alter-zone-set",children:"ALTER ZONE SET"}),"\n",(0,n.jsx)(a.A,{children:"\nDiagram(\nTerminal('ALTER ZONE'),\nOptional(Terminal('IF EXISTS')),\nNonTerminal('qualified_zone_name'),\nSequence(Terminal('SET'),\nOptional('('),\nOneOrMore(\nNonTerminal('parameter', {href:'./grammar-reference/#parameter'}),\n','),\nOptional(')')))\n"}),"\n",(0,n.jsx)(e.h4,{id:"keywords-and-parameters-2",children:"Keywords and parameters"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"IF EXISTS"})," - do not throw an error if a zone with the specified name does not exist."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"qualified_zone_name"})," - a name of the distribution zone."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"SET"})," - assigns values to any or all of the following parameters:","\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"PARTITIONS"})," - the number of partitions"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"REPLICAS"})," - the number of copies of each partition."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"NODES FILTER"})," - specifies the nodes that can be used to store data in the distribution zone based on node attributes."]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AUTO SCALE"})," - Configures automatic distribution zone adjustment. Possible values:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"OFF"})," - disables the automatic distribution zone adjustment. Default value."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"integer"})," - the delay in seconds between the new node joining and the start of distribution zone adjustment. Possible values are between 0 and 2147483647."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AUTO SCALE UP"})," - Configures automatic scaling up of the distribution zone. Possible values:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"OFF"})," - disables the automatic distribution zone adjustment. Default value."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"integer"})," - the delay in seconds between the new node joining and the start of distribution zone adjustment. Possible values are between 0 and 2147483647."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AUTO SCALE DOWN"})," - Configures automatic scaling down of the distribution zone. Possible values:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"OFF"})," - disables the automatic distribution zone adjustment. Default value."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"QUORUM SIZE"})," - the size of the majority of nodes in the consensus of a replication group. Quorum size is determined by the replica count."]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:"Minimal"})," value: ",(0,n.jsx)(e.code,{children:"1"})," if there is only one replica and ",(0,n.jsx)(e.code,{children:"2"})," if there is more than one.\n",(0,n.jsx)(e.em,{children:"Maximum"})," value: half the total number of replicas rounded up."]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:"Default values"}),": ",(0,n.jsx)(e.code,{children:"3"})," if there are 5 and more replicas. Otherwise, the smallest of 2 and the total replica count."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"examples-2",children:"Examples"}),"\n",(0,n.jsx)(e.p,{children:"Sets the number of data replicas to 10:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"ALTER ZONE IF EXISTS exampleZone SET REPLICAS 10;\n"})}),"\n",(0,n.jsx)(e.p,{children:"Sets data nodes filter to match the specific region, set the number of data replicas to 5 and quorum size to 3:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"ALTER ZONE IF EXISTS exampleZone SET (REPLICAS 5, QUORUM SIZE 3, NODES FILTER '$[?(@.region == \"US\")]');\n"})}),"\n",(0,n.jsx)(e.h2,{id:"drop-zone",children:"DROP ZONE"}),"\n",(0,n.jsx)(e.p,{children:"Drops an existing distribution zone."}),"\n",(0,n.jsx)(e.admonition,{type:"note",children:(0,n.jsxs)(e.p,{children:["This can also be done via the ",(0,n.jsx)(e.a,{href:"/3.1.0/develop/work-with-data/java-to-tables",children:"Java API"}),"."]})}),"\n",(0,n.jsx)(a.A,{children:"\nDiagram(\nTerminal('DROP ZONE'),\nTerminal('IF EXISTS'),\nNonTerminal('qualified_zone_name')\n)\n"}),"\n",(0,n.jsx)(e.h3,{id:"keywords-and-parameters-3",children:"Keywords and parameters"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"IF EXISTS"})," - do not throw an error if a zone with the specified name does not exist."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:"qualified_zone_name"})," - the name of the distribution zone."]}),"\n"]}),"\n",(0,n.jsx)(e.h3,{id:"examples-3",children:"Examples"}),"\n",(0,n.jsx)(e.p,{children:"Drop Person table if the one exists:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-sql",children:"DROP ZONE IF EXISTS exampleZone;\n"})})]})}function m(t={}){const{wrapper:e}={...(0,h.R)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}}}]);