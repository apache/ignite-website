"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1326],{9054:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"quick-start/start-cluster","title":"How to Start an Ignite 3 Cluster in Docker","description":"{/*","source":"@site/versioned_docs/version-3.0.0/quick-start/start-cluster.md","sourceDirName":"quick-start","slug":"/quick-start/start-cluster","permalink":"/suggested-site/docs/ignite3/3.0.0/quick-start/start-cluster","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/versioned_docs/version-3.0.0/quick-start/start-cluster.md","tags":[],"version":"3.0.0","frontMatter":{"title":"How to Start an Ignite 3 Cluster in Docker","sidebar_label":"Start Cluster in Docker"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/suggested-site/docs/ignite3/3.0.0/quick-start/getting-started-guide"},"next":{"title":"Explore SQL","permalink":"/suggested-site/docs/ignite3/3.0.0/quick-start/explore-sql"}}');var o=t(74848),s=t(28453);const r={title:"How to Start an Ignite 3 Cluster in Docker",sidebar_label:"Start Cluster in Docker"},c=void 0,l={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Create a Docker Compose Configuration",id:"step-1-create-a-docker-compose-configuration",level:2},{value:"Step 2: Start the Ignite Cluster",id:"step-2-start-the-ignite-cluster",level:2},{value:"Step 3: Initialize the Cluster",id:"step-3-initialize-the-cluster",level:2},{value:"Step 4: Verify Your Cluster",id:"step-4-verify-your-cluster",level:2},{value:"Understanding Port Configuration",id:"understanding-port-configuration",level:2},{value:"Stopping the Cluster",id:"stopping-the-cluster",level:2},{value:"Removing the Cluster",id:"removing-the-cluster",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:["\n",(0,o.jsx)(n.p,{children:"This guide walks you through the process of setting up and running an Apache Ignite 3 cluster using Docker containers. Follow these steps to get a three-node cluster up and running quickly."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Up-to-date Docker and Docker Compose installed on your system"}),"\n",(0,o.jsx)(n.li,{children:"Basic familiarity with command-line operations"}),"\n",(0,o.jsx)(n.li,{children:"The code editor of your choice (VS Code, IntelliJ IDEA, etc.)"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-1-create-a-docker-compose-configuration",children:"Step 1: Create a Docker Compose Configuration"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Create a file named ",(0,o.jsx)(n.code,{children:"docker-compose.yml"})," in your project directory:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'name: ignite3\n\nx-ignite-def: &ignite-def\n  image: apacheignite/ignite:3.0.0\n  environment:\n    JVM_MAX_MEM: "4g"\n    JVM_MIN_MEM: "4g"\n  configs:\n    - source: node_config\n      target: /opt/ignite/etc/ignite-config.conf\n      mode: 0644\n\nservices:\n  node1:\n    <<: *ignite-def\n    command: --node-name node1\n    ports:\n      - "10300:10300"\n      - "10800:10800"\n  node2:\n    <<: *ignite-def\n    command: --node-name node2\n    ports:\n      - "10301:10300"\n      - "10801:10800"\n  node3:\n    <<: *ignite-def\n    command: --node-name node3\n    ports:\n      - "10302:10300"\n      - "10802:10800"\n\nconfigs:\n  node_config:\n    content: |\n      ignite {\n        network {\n          port: 3344\n          nodeFinder.netClusterNodes = ["node1:3344", "node2:3344", "node3:3344"]\n        }\n      }\n'})}),"\n",(0,o.jsx)(n.h2,{id:"step-2-start-the-ignite-cluster",children:"Step 2: Start the Ignite Cluster"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Open a terminal in the directory containing your ",(0,o.jsx)(n.code,{children:"docker-compose.yml"})," file"]}),"\n",(0,o.jsx)(n.li,{children:"Run the following command to start the cluster:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"Verify that all containers are running:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose ps\n"})}),"\n",(0,o.jsx)(n.p,{children:"Here is how the command output may look:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:'NAME              IMAGE                       COMMAND                  SERVICE   CREATED          STATUS          PORTS\nignite3-node1-1   apacheignite/ignite:3.0.0   "docker-entrypoint.s\u2026"   node1     13 seconds ago   Up 10 seconds   0.0.0.0:10300->10300/tcp, 3344/tcp, 0.0.0.0:10800->10800/tcp\nignite3-node2-1   apacheignite/ignite:3.0.0   "docker-entrypoint.s\u2026"   node2     13 seconds ago   Up 10 seconds   3344/tcp, 0.0.0.0:10301->10300/tcp, 0.0.0.0:10801->10800/tcp\nignite3-node3-1   apacheignite/ignite:3.0.0   "docker-entrypoint.s\u2026"   node3     13 seconds ago   Up 10 seconds   3344/tcp, 0.0.0.0:10302->10300/tcp, 0.0.0.0:10802->10800/tcp\n'})}),"\n",(0,o.jsx)(n.p,{children:"Your nodes are now running, but the cluster is not initialized."}),"\n",(0,o.jsx)(n.h2,{id:"step-3-initialize-the-cluster",children:"Step 3: Initialize the Cluster"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Start the Ignite CLI in Docker:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"docker run --rm -it --network=host -e LANG=C.UTF-8 -e LC_ALL=C.UTF-8 apacheignite/ignite:3.0.0 cli\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Inside the CLI, connect to one of the nodes:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"connect http://localhost:10300\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Confirm the connection to the default node in the CLI tool."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Initialize the cluster with a name and the metastorage group of all nodes:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cluster init --name=ignite3 --metastorage-group=node1,node2,node3\n"})}),"\n",(0,o.jsx)(n.p,{children:"The output from this step should be similar to this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"           #              ___                         __\n         ###             /   |   ____   ____ _ _____ / /_   ___\n     #  #####           / /| |  / __ \\ / __ `// ___// __ \\ / _ \\\n   ###  ######         / ___ | / /_/ // /_/ // /__ / / / // ___/\n  #####  #######      /_/  |_|/ .___/ \\__,_/ \\___//_/ /_/ \\___/\n  #######  ######            /_/\n    ########  ####        ____               _  __           _____\n   #  ########  ##       /  _/____ _ ____   (_)/ /_ ___     |__  /\n  ####  #######  #       / / / __ `// __ \\ / // __// _ \\     /_ <\n   #####  #####        _/ / / /_/ // / / // // /_ / ___/   ___/ /\n     ####  ##         /___/ \\__, //_/ /_//_/ \\__/ \\___/   /____/\n       ##                  /____/\n\n                      Apache Ignite CLI version 3.0.0\n\n\nYou appear to have not connected to any node yet. Do you want to connect to the default node http://localhost:10300? [Y/n] y\nConnected to http://localhost:10300\nThe cluster is not initialized. Run cluster init command to initialize it.\n[node1]> cluster init --name=ignite3 --metastorage-group=node1,node2,node3\nCluster was initialized successfully\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-4-verify-your-cluster",children:"Step 4: Verify Your Cluster"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Use the ",(0,o.jsx)(n.code,{children:"cluster status"})," CLI command to verify your cluster is running correctly."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cluster status\n"})}),"\n",(0,o.jsx)(n.p,{children:"The output should look similar to this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"[name: ignite3, nodes: 3, status: active, cmgNodes: [node1, node2, node3], msNodes: [node1, node2, node3]]\n"})}),"\n",(0,o.jsx)(n.p,{children:"This means that all 3 nodes found each other and formed an active cluster."}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["Exit the CLI by typing ",(0,o.jsx)(n.code,{children:"exit"})," or pressing Ctrl+D. This will also stop the CLI container."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Congratulations! You have a local Apache Ignite 3 cluster running that you can use for development."}),"\n",(0,o.jsx)(n.h2,{id:"understanding-port-configuration",children:"Understanding Port Configuration"}),"\n",(0,o.jsx)(n.p,{children:"The Docker Compose file exposes two types of ports for each node:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"10300-10302"}),": REST API ports for administrative operations;"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"10800-10802"}),": Client connection ports for your applications."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"stopping-the-cluster",children:"Stopping the Cluster"}),"\n",(0,o.jsx)(n.p,{children:"If you want to pause your cluster:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose stop\n\n[+] Stopping 3/3\n \u2714 Container ignite3-node1-1  Stopped\n \u2714 Container ignite3-node2-1  Stopped\n \u2714 Container ignite3-node3-1  Stopped\n"})}),"\n",(0,o.jsx)(n.p,{children:"This will stop the containers and retain your data."}),"\n",(0,o.jsx)(n.h2,{id:"removing-the-cluster",children:"Removing the Cluster"}),"\n",(0,o.jsx)(n.p,{children:"When you are done working with the cluster, you can remove it using:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose down\n\n[+] Running 4/4\n \u2714 Container ignite3-node3-1  Removed\n \u2714 Container ignite3-node2-1  Removed\n \u2714 Container ignite3-node1-1  Removed\n \u2714 Network ignite3_default    Removed\n"})}),"\n",(0,o.jsx)(n.p,{children:"This will stop and remove all the containers. Your data will be lost unless you have configured persistent storage."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);