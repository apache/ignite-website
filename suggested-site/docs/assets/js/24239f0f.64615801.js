"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7419],{28453:(t,i,e)=>{e.d(i,{R:()=>a,x:()=>r});var h=e(96540);const s={},n=h.createContext(s);function a(t){const i=h.useContext(n);return h.useMemo(function(){return"function"==typeof t?t(i):{...i,...t}},[i,t])}function r(t){let i;return i=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:a(t.components),h.createElement(n.Provider,{value:i},t.children)}},63367:(t,i,e)=>{e.d(i,{A:()=>G});var h=e(96540);const s={},n=!1,a=8,r=10,o="railroad-diagram",d=!0,c="center",w=8.5,l=7;class m{constructor(t,i,e){this.children=e||[],this.tagName=t,this.attrs=D(i,{})}format(t,i,e){}addTo(t){if(t instanceof m)return t.children.push(this),this;var i=this.toSVG();return t.appendChild(i),i}toSVG(){var t=function(t,i,e){i=i||{},e=e||"";var h=document.createElementNS("http://www.w3.org/2000/svg",t);for(var s in i)"xlink:href"===s?h.setAttributeNS("http://www.w3.org/1999/xlink","href",i[s]):h.setAttribute(s,i[s]);return h.textContent=e,h}(this.tagName,this.attrs);return"string"==typeof this.children?t.textContent=this.children:this.children.forEach(function(i){t.appendChild(i.toSVG())}),t}toString(){var t="<"+this.tagName,i="g"==this.tagName||"svg"==this.tagName;for(var e in this.attrs)t+=" "+e+'="'+(this.attrs[e]+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")+'"';return t+=">",i&&(t+="\n"),"string"==typeof this.children?t+=this.children.replace(/[*_\`\[\]<&]/g,function(t){return"&#"+t.charCodeAt(0)+";"}):this.children.forEach(function(i){t+=i}),t+="</"+this.tagName+">\n"}walk(t){t(this)}}class u extends m{constructor(t,i){super("path"),this.attrs.d="M"+t+" "+i}m(t,i){return this.attrs.d+="m"+t+" "+i,this}h(t){return this.attrs.d+="h"+t,this}right(t){return this.h(Math.max(0,t))}left(t){return this.h(-Math.max(0,t))}v(t){return this.attrs.d+="v"+t,this}down(t){return this.v(Math.max(0,t))}up(t){return this.v(-Math.max(0,t))}arc(t){var i,e=r,h=r;return"e"!=t[0]&&"w"!=t[1]||(e*=-1),"s"!=t[0]&&"n"!=t[1]||(h*=-1),i="ne"==t||"es"==t||"sw"==t||"wn"==t?1:0,this.attrs.d+="a"+r+" "+r+" 0 0 "+i+" "+e+" "+h,this}arc_8(t,i){const e=r,h=1/Math.sqrt(2)*e,s=e-h;let n="a "+e+" "+e+" 0 0 "+("cw"==i?"1":"0")+" ";const a=t+i;return n+=("ncw"==a?[h,s]:"necw"==a?[s,h]:"ecw"==a?[-s,h]:"secw"==a?[-h,s]:"scw"==a?[-h,-s]:"swcw"==a?[-s,-h]:"wcw"==a?[s,-h]:"nwcw"==a?[h,-s]:"nccw"==a?[-h,s]:"nwccw"==a?[-s,h]:"wccw"==a?[s,h]:"swccw"==a?[h,s]:"sccw"==a?[h,-s]:"seccw"==a?[s,-h]:"eccw"==a?[-s,-h]:"neccw"==a?[-h,-s]:null).join(" "),this.attrs.d+=n,this}l(t,i){return this.attrs.d+="l"+t+" "+i,this}format(){return this.attrs.d+="h.5",this}}class p extends m{constructor(t,i,e,h){super(t,e,h),this.items=i.map(L)}walk(t){t(this),this.items.forEach(i=>i.walk(t))}}class g extends p{constructor(...t){super("svg",t,{class:o}),this.items[0]instanceof N||this.items.unshift(new N),this.items[this.items.length-1]instanceof A||this.items.push(new A),this.up=this.down=this.height=this.width=0;for(const i of this.items)this.width+=i.width+(i.needsSpace?20:0),this.up=Math.max(this.up,i.up-this.height),this.height+=i.height,this.down=Math.max(this.down-i.height,i.down);this.formatted=!1}format(t,i,e,h){t=D(t,20),i=D(i,t,20),e=D(e,t,20);var s=h=D(h,i,20),n=t;n+=this.up;for(var a=new m("g",d?{transform:"translate(.5 .5)"}:{}),r=0;r<this.items.length;r++){var o=this.items[r];o.needsSpace&&(new u(s,n).h(10).addTo(a),s+=10),o.format(s,n,o.width).addTo(a),s+=o.width,n+=o.height,o.needsSpace&&(new u(s,n).h(10).addTo(a),s+=10)}return this.attrs.width=this.width+h+i,this.attrs.height=this.up+this.height+this.down+t+e,this.attrs.viewBox="0 0 "+this.attrs.width+" "+this.attrs.height,a.addTo(this),this.formatted=!0,this}addTo(t){if(!t){var i=document.getElementsByTagName("script");t=(i=i[i.length-1]).parentNode}return super.addTo.call(this,t)}toSVG(){return this.formatted||this.format(),super.toSVG.call(this)}toString(){return this.formatted||this.format(),super.toString.call(this)}toStandalone(t){this.formatted||this.format();const i=new m("style",{},t||"\n\tsvg {\n\t\tbackground-color: hsl(30,20%,95%);\n\t}\n\tpath {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: rgba(0,0,0,0);\n\t}\n\ttext {\n\t\tfont: bold 14px monospace;\n\t\ttext-anchor: middle;\n\t\twhite-space: pre;\n\t}\n\ttext.diagram-text {\n\t\tfont-size: 12px;\n\t}\n\ttext.diagram-arrow {\n\t\tfont-size: 16px;\n\t}\n\ttext.label {\n\t\ttext-anchor: start;\n\t}\n\ttext.comment {\n\t\tfont: italic 12px monospace;\n\t}\n\tg.non-terminal text {\n\t\t/*font-style: italic;*/\n\t}\n\trect {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: hsl(120,100%,90%);\n\t}\n\trect.group-box {\n\t\tstroke: gray;\n\t\tstroke-dasharray: 10 5;\n\t\tfill: none;\n\t}\n\tpath.diagram-text {\n\t\tstroke-width: 3;\n\t\tstroke: black;\n\t\tfill: white;\n\t\tcursor: help;\n\t}\n\tg.diagram-text:hover path.diagram-text {\n\t\tfill: #eee;\n\t}");this.children.push(i),this.attrs.xmlns="http://www.w3.org/2000/svg",this.attrs["xmlns:xlink"]="http://www.w3.org/1999/xlink";const e=super.toString.call(this);return this.children.pop(),delete this.attrs.xmlns,e}}s.Diagram=(...t)=>new g(...t);class f extends m{constructor(...t){var i=new g(...t);return i.items[0]=new N({type:"complex"}),i.items[i.items.length-1]=new A({type:"complex"}),i}}s.ComplexDiagram=(...t)=>new f(...t);class x extends p{constructor(...t){super("g",t);this.items.length;this.needsSpace=!0,this.up=this.down=this.height=this.width=0;for(var i=0;i<this.items.length;i++){var e=this.items[i];this.width+=e.width+(e.needsSpace?20:0),this.up=Math.max(this.up,e.up-this.height),this.height+=e.height,this.down=Math.max(this.down-e.height,e.down)}this.items[0].needsSpace&&(this.width-=10),this.items[this.items.length-1].needsSpace&&(this.width-=10),n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="sequence")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0];for(var s=0;s<this.items.length;s++){var n=this.items[s];n.needsSpace&&s>0&&(new u(t,i).h(10).addTo(this),t+=10),n.format(t,i,n.width).addTo(this),t+=n.width,i+=n.height,n.needsSpace&&s<this.items.length-1&&(new u(t,i).h(10).addTo(this),t+=10)}return this}}s.Sequence=(...t)=>new x(...t);class T extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("Stack() must have at least one child.");this.width=Math.max.apply(null,this.items.map(function(t){return t.width+(t.needsSpace?20:0)})),this.items.length>1&&(this.width+=2*r),this.needsSpace=!0,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=0;for(var i=this.items.length-1,e=0;e<this.items.length;e++){var h=this.items[e];this.height+=h.height,e>0&&(this.height+=Math.max(2*r,h.up+a)),e<i&&(this.height+=Math.max(2*r,h.down+a))}n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="stack")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this);var s=t+=h[0];this.items.length>1&&(new u(t,i).h(r).addTo(this),t+=r);for(var n=0;n<this.items.length;n++){var o=this.items[n],d=this.width-(this.items.length>1?2*r:0);o.format(t,i,d).addTo(this),t+=d,i+=o.height,n!==this.items.length-1&&(new u(t,i).arc("ne").down(Math.max(0,o.down+a-2*r)).arc("es").left(d).arc("nw").down(Math.max(0,this.items[n+1].up+a-2*r)).arc("ws").addTo(this),i+=Math.max(o.down+a,2*r)+Math.max(this.items[n+1].up+a,2*r),t=s+r)}return this.items.length>1&&(new u(t,i).h(r).addTo(this),t+=r),new u(t,i).h(h[1]).addTo(this),this}}s.Stack=(...t)=>new T(...t);class v extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("OptionalSequence() must have at least one child.");if(1===t.length)return new x(t);var i=r;this.needsSpace=!1,this.width=0,this.up=0,this.height=W(this.items,function(t){return t.height}),this.down=this.items[0].down;for(var e=0,h=0;h<this.items.length;h++){var s=this.items[h];this.up=Math.max(this.up,Math.max(2*i,s.up+a)-e),e+=s.height,h>0&&(this.down=Math.max(this.height+this.down,e+Math.max(2*i,s.down+a))-this.height);var o=(s.needsSpace?10:0)+s.width;this.width+=0===h?i+Math.max(o,i):2*i+Math.max(o,i)+i}n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="optseq")}format(t,i,e){var h=r,s=z(e,this.width);new u(t,i).right(s[0]).addTo(this),new u(t+s[0]+this.width,i+this.height).right(s[1]).addTo(this),t+=s[0];for(var n=i-this.up,o=this.items.length-1,d=0;d<this.items.length;d++){var c=this.items[d],w=c.needsSpace?10:0,l=c.width+w;0===d?(new u(t,i).arc("se").up(i-n-2*h).arc("wn").right(l-h).arc("ne").down(i+c.height-n-2*h).arc("ws").addTo(this),new u(t,i).right(w+h).addTo(this),c.format(t+w+h,i,c.width).addTo(this),t+=l+h,i+=c.height):d<o?(new u(t,n).right(2*h+Math.max(l,h)+h).arc("ne").down(i-n+c.height-2*h).arc("ws").addTo(this),new u(t,i).right(2*h).addTo(this),c.format(t+2*h,i,c.width).addTo(this),new u(t+c.width+2*h,i+c.height).right(w+h).addTo(this),new u(t,i).arc("ne").down(c.height+Math.max(c.down+a,2*h)-2*h).arc("ws").right(l-h).arc("se").up(c.down+a-2*h).arc("wn").addTo(this),t+=2*h+Math.max(l,h)+h,i+=c.height):(new u(t,i).right(2*h).addTo(this),c.format(t+2*h,i,c.width).addTo(this),new u(t+2*h+c.width,i+c.height).right(w+h).addTo(this),new u(t,i).arc("ne").down(c.height+Math.max(c.down+a,2*h)-2*h).arc("ws").right(l-h).arc("se").up(c.down+a-2*h).arc("wn").addTo(this))}return this}}s.OptionalSequence=(...t)=>new v(...t);class M extends p{constructor(...t){if(super("g",t),1===t.length)return new x(t);if(2!==t.length)throw new RangeError("AlternatingSequence() must have one or two children.");this.needsSpace=!1;const i=r,e=a,h=Math.max,s=this.items[0],o=this.items[1],d=1/Math.sqrt(2)*i*2,c=(1-1/Math.sqrt(2))*i*2,w=Math.max(i,a),l=w-c+d,m=h(i+i,w/2+i+i,w/2+e+s.down);this.up=m+s.height+s.up;const u=h(i+i,w/2+i+i,w/2+e+o.up);this.down=u+o.height+o.down,this.height=0;const p=2*(s.needsSpace?10:0)+s.width,g=2*(o.needsSpace?10:0)+o.width;this.width=2*i+h(p,l,g)+2*i,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="altseq")}format(t,i,e){const h=r,s=z(e,this.width);new u(t,i).right(s[0]).addTo(this),t+=s[0],new u(t+this.width,i).right(s[1]).addTo(this);const n=this.items[0],o=this.items[1],d=this.up-n.up,c=this.up-n.up-n.height;new u(t,i).arc("se").up(d-2*h).arc("wn").addTo(this),n.format(t+2*h,i-d,this.width-4*h).addTo(this),new u(t+this.width-2*h,i-c).arc("ne").down(c-2*h).arc("ws").addTo(this);const w=this.down-o.down-o.height,l=this.down-o.down;new u(t,i).arc("ne").down(w-2*h).arc("ws").addTo(this),o.format(t+2*h,i+w,this.width-4*h).addTo(this),new u(t+this.width-2*h,i+l).arc("se").up(l-2*h).arc("wn").addTo(this);const m=1/Math.sqrt(2)*h*2,p=(1-1/Math.sqrt(2))*h*2,g=Math.max(h,a),f=g-p+m,x=(this.width-4*h-f)/2;return new u(t+h,i-g/2-h).arc("ws").right(x).arc_8("n","cw").l(f-m,g-p).arc_8("sw","ccw").right(x).arc("ne").addTo(this),new u(t+h,i+g/2+h).arc("wn").right(x).arc_8("s","ccw").l(f-m,-(g-p)).arc_8("nw","cw").right(x).arc("se").addTo(this),this}}s.AlternatingSequence=(...t)=>new M(...t);class S extends p{constructor(t,...i){if(super("g",i),"number"!=typeof t||t!==Math.floor(t))throw new TypeError("The first argument of Choice() must be an integer.");if(t<0||t>=i.length)throw new RangeError("The first argument of Choice() must be an index for one of the items.");this.normal=t;var e,h=i.length-1;this.width=Math.max.apply(null,this.items.map(function(t){return t.width}))+4*r,this.height=this.items[t].height,this.up=this.items[0].up;for(var s=0;s<t;s++)e=s==t-1?2*r:r,this.up+=Math.max(e,this.items[s].height+this.items[s].down+a+this.items[s+1].up);for(this.down=this.items[h].down,s=t+1;s<=h;s++)e=s==t+1?2*r:r,this.down+=Math.max(e,this.items[s-1].height+this.items[s-1].down+a+this.items[s].up);this.down-=this.items[t].height,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="choice")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0];for(var s,n=this.items.length-1,o=this.width-4*r,d=this.normal-1;d>=0;d--){let e=this.items[d];d==this.normal-1&&(s=Math.max(2*r,this.items[this.normal].up+a+e.down+e.height)),new u(t,i).arc("se").up(s-2*r).arc("wn").addTo(this),e.format(t+2*r,i-s,o).addTo(this),new u(t+2*r+o,i-s+e.height).arc("ne").down(s-e.height+this.height-2*r).arc("ws").addTo(this),s+=Math.max(r,e.up+a+(0===d?0:this.items[d-1].down+this.items[d-1].height))}for(new u(t,i).right(2*r).addTo(this),this.items[this.normal].format(t+2*r,i,o).addTo(this),new u(t+2*r+o,i+this.height).right(2*r).addTo(this),d=this.normal+1;d<=n;d++){let e=this.items[d];d==this.normal+1&&(s=Math.max(2*r,this.height+this.items[this.normal].down+a+e.up)),new u(t,i).arc("ne").down(s-2*r).arc("ws").addTo(this),e.format(t+2*r,i+s,o).addTo(this),new u(t+2*r+o,i+s+e.height).arc("se").up(s-2*r+e.height-this.height).arc("wn").addTo(this),s+=Math.max(r,e.height+e.down+a+(d==n?0:this.items[d+1].up))}return this}}s.Choice=(...t)=>new S(...t);class y extends p{constructor(...t){if(super("g",t),0===t.length)throw new RangeError("HorizontalChoice() must have at least one child.");if(1===t.length)return new x(t);const i=this.items.slice(0,-1),e=this.items.slice(1,-1),h=this.items[0],s=this.items[this.items.length-1];this.needsSpace=!1,this.width=r,this.width+=2*r*(this.items.length-1),this.width+=W(this.items,t=>t.width+(t.needsSpace?20:0)),this.width+=s.height>0?r:0,this.width+=r,this.height=0,this._upperTrack=Math.max(2*r,a,V(i,t=>t.up)+a),this.up=Math.max(this._upperTrack,s.up),this._lowerTrack=Math.max(a,V(e,t=>t.height+Math.max(t.down+a,2*r)),s.height+s.down+a),h.height<this._lowerTrack&&(this._lowerTrack=Math.max(this._lowerTrack,h.height+2*r)),this.down=Math.max(this._lowerTrack,h.height+h.down),n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="horizontalchoice")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0];const s=this.items[0],n=this.items[this.items.length-1],a=this.items.slice(1);var o=W(this.items.slice(0,-1),t=>t.width+(t.needsSpace?20:0))+(this.items.length-2)*r*2-r;new u(t,i).arc("se").v(-(this._upperTrack-2*r)).arc("wn").h(o).addTo(this);var d=W(a,t=>t.width+(t.needsSpace?20:0))+(this.items.length-2)*r*2+(n.height>0?r:0)-r,c=t+r+s.width+(s.needsSpace?20:0)+2*r;new u(c,i+this._lowerTrack).h(d).arc("se").v(-(this._lowerTrack-2*r)).arc("wn").addTo(this);for(const[l,m]of function*(t){var i=0;for(const e of t)yield[i,e],i++}(this.items)){0===l?(new u(t,i).h(r).addTo(this),t+=r):(new u(t,i-this._upperTrack).arc("ne").v(this._upperTrack-2*r).arc("ws").addTo(this),t+=2*r);var w=m.width+(m.needsSpace?20:0);m.format(t,i,w).addTo(this),t+=w,l===this.items.length-1?0===m.height?new u(t,i).h(r).addTo(this):new u(t,i+m.height).arc("se").addTo(this):0===l&&m.height>this._lowerTrack?m.height-this._lowerTrack>=2*r?new u(t,i+m.height).arc("se").v(this._lowerTrack-m.height+2*r).arc("wn").addTo(this):new u(t,i+m.height).l(2*r,this._lowerTrack-m.height).addTo(this):new u(t,i+m.height).arc("ne").v(this._lowerTrack-m.height-2*r).arc("ws").addTo(this)}return this}}s.HorizontalChoice=(...t)=>new y(...t);class b extends p{constructor(t,i,...e){if(super("g",e),"number"!=typeof t||t!==Math.floor(t))throw new TypeError("The first argument of MultipleChoice() must be an integer.");if(t<0||t>=e.length)throw new RangeError("The first argument of MultipleChoice() must be an index for one of the items.");if(this.normal=t,"any"!=i&&"all"!=i)throw new SyntaxError("The second argument of MultipleChoice must be 'any' or 'all'.");this.type=i,this.needsSpace=!0,this.innerWidth=V(this.items,function(t){return t.width}),this.width=30+r+this.innerWidth+r+20,this.up=this.items[0].up,this.down=this.items[this.items.length-1].down,this.height=this.items[t].height;for(var h=0;h<this.items.length;h++){let i,e=this.items[h];i=h==t-1||h==t+1?10+r:r,h<t?this.up+=Math.max(i,e.height+e.down+a+this.items[h+1].up):h>t&&(this.down+=Math.max(i,e.up+a+this.items[h-1].down+this.items[h-1].height))}this.down-=this.items[t].height,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="multiplechoice")}format(t,i,e){var h=z(e,this.width);new u(t,i).right(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).right(h[1]).addTo(this),t+=h[0];for(var s,n=this.items[this.normal],o=this.normal-1;o>=0;o--){var d=this.items[o];o==this.normal-1&&(s=Math.max(10+r,n.up+a+d.down+d.height)),new u(t+30,i).up(s-r).arc("wn").addTo(this),d.format(t+30+r,i-s,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,i-s+d.height).arc("ne").down(s-d.height+this.height-r-10).addTo(this),0!==o&&(s+=Math.max(r,d.up+a+this.items[o-1].down+this.items[o-1].height))}for(new u(t+30,i).right(r).addTo(this),n.format(t+30+r,i,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,i+this.height).right(r).addTo(this),o=this.normal+1;o<this.items.length;o++){let e=this.items[o];o==this.normal+1&&(s=Math.max(10+r,n.height+n.down+a+e.up)),new u(t+30,i).down(s-r).arc("ws").addTo(this),e.format(t+30+r,i+s,this.innerWidth).addTo(this),new u(t+30+r+this.innerWidth,i+s+e.height).arc("se").up(s-r+e.height-n.height).addTo(this),o!=this.items.length-1&&(s+=Math.max(r,e.height+e.down+a+this.items[o+1].up))}var c=new m("g",{class:"diagram-text"}).addTo(this);return new m("title",{},"any"==this.type?"take one or more branches, once each, in any order":"take all branches, once each, in any order").addTo(c),new m("path",{d:"M "+(t+30)+" "+(i-10)+" h -26 a 4 4 0 0 0 -4 4 v 12 a 4 4 0 0 0 4 4 h 26 z",class:"diagram-text"}).addTo(c),new m("text",{x:t+15,y:i+4,class:"diagram-text"},"any"==this.type?"1+":"all").addTo(c),new m("path",{d:"M "+(t+this.width-20)+" "+(i-10)+" h 16 a 4 4 0 0 1 4 4 v 12 a 4 4 0 0 1 -4 4 h -16 z",class:"diagram-text"}).addTo(c),new m("path",{d:"M "+(t+this.width-13)+" "+(i-2)+" a 4 4 0 1 0 6 -1 m 2.75 -1 h -4 v 4 m 0 -3 h 2",style:"stroke-width: 1.75"}).addTo(c),this}}s.MultipleChoice=(...t)=>new b(...t);class k extends m{constructor(t,i){if(void 0===i)return new S(1,new _,t);if("skip"===i)return new S(0,new _,t);throw"Unknown value for Optional()'s 'skip' argument."}}s.Optional=(...t)=>new k(...t);class E extends m{constructor(t,i){super("g"),i=i||new _,this.item=L(t),this.rep=L(i),this.width=Math.max(this.item.width,this.rep.width)+2*r,this.height=this.item.height,this.up=this.item.up,this.down=Math.max(2*r,this.item.down+a+this.rep.up+this.rep.height+this.rep.down),this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="oneormore")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0],new u(t,i).right(r).addTo(this),this.item.format(t+r,i,this.width-2*r).addTo(this),new u(t+this.width-r,i+this.height).right(r).addTo(this);var s=Math.max(2*r,this.item.height+this.item.down+a+this.rep.up);return new u(t+r,i).arc("nw").down(s-2*r).arc("ws").addTo(this),this.rep.format(t+r,i+s,this.width-2*r).addTo(this),new u(t+this.width-r,i+s+this.rep.height).arc("se").up(s-2*r+this.rep.height-this.item.height).arc("en").addTo(this),this}walk(t){t(this),this.item.walk(t),this.rep.walk(t)}}s.OneOrMore=(...t)=>new E(...t);class j extends m{constructor(t,i,e){return new k(new E(t,i),e)}}s.ZeroOrMore=(...t)=>new j(...t);class C extends m{constructor(t,i){super("g"),this.item=L(t),this.label=i instanceof m?i:i?new O(i):void 0,this.width=Math.max(this.item.width+(this.item.needsSpace?20:0),this.label?this.label.width:0,2*r),this.height=this.item.height,this.boxUp=this.up=Math.max(this.item.up+a,r),this.label&&(this.up+=this.label.up+this.label.height+this.label.down),this.down=Math.max(this.item.down+a,r),this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="group")}format(t,i,e){var h=z(e,this.width);return new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0],new m("rect",{x:t,y:i-this.boxUp,width:this.width,height:this.boxUp+this.height+this.down,rx:r,ry:r,class:"group-box"}).addTo(this),this.item.format(t,i,this.width).addTo(this),this.label&&this.label.format(t,i-(this.boxUp+this.label.down+this.label.height),this.label.width).addTo(this),this}walk(t){t(this),this.item.walk(t),this.label.walk(t)}}s.Group=(...t)=>new C(...t);class N extends m{constructor({type:t="simple",label:i}={}){super("g"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=t,i&&(this.label=""+i,this.width=Math.max(20,this.label.length*w+10)),n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="start")}format(t,i){let e=new u(t,i-10);return"complex"===this.type?e.down(20).m(0,-10).right(this.width).addTo(this):e.down(20).m(10,-20).down(20).m(-10,-10).right(this.width).addTo(this),this.label&&new m("text",{x:t,y:i-15,style:"text-anchor:start"},this.label).addTo(this),this}}s.Start=(...t)=>new N(...t);class A extends m{constructor({type:t="simple"}={}){super("path"),this.width=20,this.height=0,this.up=10,this.down=10,this.type=t,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="end")}format(t,i){return"complex"===this.type?this.attrs.d="M "+t+" "+i+" h 20 m 0 -10 v 20":this.attrs.d="M "+t+" "+i+" h 20 m -10 -10 v 20 m 10 -20 v 20",this}}s.End=(...t)=>new A(...t);class R extends m{constructor(t,{href:i,title:e,cls:h}={}){super("g",{class:["terminal",h].join(" ")}),this.text=""+t,this.href=i,this.title=e,this.cls=h,this.width=this.text.length*w+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="terminal")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i).h(h[1]).addTo(this),t+=h[0],new m("rect",{x:t,y:i-11,width:this.width,height:this.up+this.down,rx:10,ry:10}).addTo(this);var s=new m("text",{x:t+this.width/2,y:i+4},this.text);return this.href?new m("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new m("title",{},[this.title]).addTo(this),this}}s.Terminal=(...t)=>new R(...t);class q extends m{constructor(t,{href:i,title:e,cls:h=""}={}){super("g",{class:["non-terminal",h].join(" ")}),this.text=""+t,this.href=i,this.title=e,this.cls=h,this.width=this.text.length*w+20,this.height=0,this.up=11,this.down=11,this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="nonterminal")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i).h(h[1]).addTo(this),t+=h[0],new m("rect",{x:t,y:i-11,width:this.width,height:this.up+this.down}).addTo(this);var s=new m("text",{x:t+this.width/2,y:i+4},this.text);return this.href?new m("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new m("title",{},[this.title]).addTo(this),this}}s.NonTerminal=(...t)=>new q(...t);class O extends m{constructor(t,{href:i,title:e,cls:h=""}={}){super("g",{class:["comment",h].join(" ")}),this.text=""+t,this.href=i,this.title=e,this.cls=h,this.width=this.text.length*l+10,this.height=0,this.up=8,this.down=8,this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="comment")}format(t,i,e){var h=z(e,this.width);new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i+this.height).h(h[1]).addTo(this),t+=h[0];var s=new m("text",{x:t+this.width/2,y:i+5,class:"comment"},this.text);return this.href?new m("a",{"xlink:href":this.href},[s]).addTo(this):s.addTo(this),this.title&&new m("title",{},this.title).addTo(this),this}}s.Comment=(...t)=>new O(...t);class _ extends m{constructor(){super("g"),this.width=0,this.height=0,this.up=0,this.down=0,this.needsSpace=!1,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="skip")}format(t,i,e){return new u(t,i).right(e).addTo(this),this}}s.Skip=(...t)=>new _(...t);class I extends m{constructor({width:t=50,up:i=15,height:e=25,down:h=15,needsSpace:s=!0}={}){super("g"),this.width=t,this.height=e,this.up=i,this.down=h,this.needsSpace=!0,n&&(this.attrs["data-updown"]=this.up+" "+this.height+" "+this.down,this.attrs["data-type"]="block")}format(t,i,e){var h=z(e,this.width);return new u(t,i).h(h[0]).addTo(this),new u(t+h[0]+this.width,i).h(h[1]).addTo(this),t+=h[0],new m("rect",{x:t,y:i-this.up,width:this.width,height:this.up+this.height+this.down}).addTo(this),this}}function D(...t){return t.reduce(function(t,i){return void 0!==t?t:i})}function z(t,i){var e=t-i;switch(c){case"left":return[0,e];case"right":return[e,0];default:return[e/2,e/2]}}function L(t){return t instanceof m?t:new R(""+t)}function W(t,i){return i||(i=function(t){return t}),t.map(i).reduce(function(t,i){return t+i},0)}function V(t,i){return i||(i=function(t){return t}),Math.max.apply(null,t.map(i))}s.Block=(...t)=>new I(...t);var U=e(74848);function G({children:t}){const i=(0,h.useRef)(null),e=(0,h.useRef)(null),[s,n]=(0,h.useState)(!1),a=i=>{if(i.current)try{const h=(...t)=>new g(...t),s=(...t)=>new R(...t),n=(...t)=>new q(...t),a=(...t)=>new k(...t),r=(...t)=>new x(...t),o=(...t)=>new S(...t),d=(...t)=>new _(...t),c=(...t)=>new O(...t),w=(...t)=>new E(...t),l=(...t)=>new j(...t),m=t.replace(/ComplexDiagram\(/g,"Diagram(").replace(/Start\([^)]*\),?\s*/g,"").replace(/,?\s*End\([^)]*\)/g,"").trim();try{const t=new Function("Diagram","Terminal","NonTerminal","Optional","Sequence","Choice","Skip","Comment","OneOrMore","ZeroOrMore",`'use strict'; return ${m};`)(h,s,n,a,r,o,d,c,w,l);if(!t||"function"!=typeof t.toSVG)throw new Error("Diagram function did not return a valid diagram object");i.current.innerHTML="";const e=t.toSVG();e.querySelectorAll("a[*|href]").forEach(t=>{const i=t.getAttributeNS("http://www.w3.org/1999/xlink","href");if(i&&i.startsWith("./")){const e=i.replace(/^\.\//,"../sql-reference/");t.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}}),i.current.appendChild(e)}catch(e){throw console.error("Error in diagram generation:",e),e}}catch(h){console.error("Error rendering railroad diagram:",h),i.current.innerHTML='<p style="color: red;">Error rendering diagram. Check console for details.</p>'}};(0,h.useEffect)(()=>{a(i)},[t]),(0,h.useEffect)(()=>{if(s){a(e);const t=t=>{"Escape"===t.key&&n(!1)};return document.addEventListener("keydown",t),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""}}},[s,t]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"railroad-diagram-wrapper",children:[(0,U.jsx)("button",{className:"railroad-expand-button",onClick:()=>n(!0),"aria-label":"Expand diagram",title:"View full size",children:(0,U.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,U.jsx)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"})})}),(0,U.jsx)("div",{ref:i,className:"railroad-diagram-container"})]}),s&&(0,U.jsx)("div",{className:"railroad-modal-overlay",onClick:t=>{t.target===t.currentTarget&&n(!1)},children:(0,U.jsxs)("div",{className:"railroad-modal-content",children:[(0,U.jsx)("button",{className:"railroad-modal-close",onClick:()=>n(!1),"aria-label":"Close",title:"Close (ESC)",children:"\xd7"}),(0,U.jsx)("div",{ref:e,className:"railroad-diagram-container railroad-diagram-modal"})]})})]})}},77433:(t,i,e)=>{e.r(i),e.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>h,toc:()=>c});const h=JSON.parse('{"id":"sql/reference/language-definition/transactions","title":"Transactions","description":"A transaction is a sequence of SQL operations that starts with the START TRANSACTION statement and ends with the COMMIT statement. Either the effect of all operations will be published, or no results will be published at all.","source":"@site/docs/sql/reference/language-definition/transactions.mdx","sourceDirName":"sql/reference/language-definition","slug":"/sql/reference/language-definition/transactions","permalink":"/suggested-site/docs/3.1.0/sql/reference/language-definition/transactions","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ignite-3/tree/main/docs/docs/sql/reference/language-definition/transactions.mdx","tags":[],"version":"current","frontMatter":{"id":"transactions","title":"Transactions"},"sidebar":"tutorialSidebar","previous":{"title":"Distribution Zones","permalink":"/suggested-site/docs/3.1.0/sql/reference/language-definition/distribution-zones"},"next":{"title":"Grammar Reference","permalink":"/suggested-site/docs/3.1.0/sql/reference/language-definition/grammar-reference"}}');var s=e(74848),n=e(28453),a=e(63367);const r={id:"transactions",title:"Transactions"},o="Transactions",d={},c=[{value:"Example",id:"example",level:2}];function w(t){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"transactions",children:"Transactions"})}),"\n",(0,s.jsxs)(i.p,{children:["A transaction is a sequence of SQL operations that starts with the ",(0,s.jsx)(i.code,{children:"START TRANSACTION"})," statement and ends with the ",(0,s.jsx)(i.code,{children:"COMMIT"})," statement. Either the effect of all operations will be published, or no results will be published at all."]}),"\n",(0,s.jsx)(i.admonition,{type:"warning",children:(0,s.jsxs)(i.p,{children:["Transaction control statements are only allowed within a ",(0,s.jsx)(i.a,{href:"/docs/3.1.0/sql/working-with-sql/execute-queries",children:"script"}),"."]})}),"\n",(0,s.jsxs)(i.p,{children:["In Apache Ignite 3, you start the transaction by using the ",(0,s.jsx)(i.code,{children:"START TRANSACTION"})," statement:"]}),"\n",(0,s.jsx)(a.A,{children:"\nDiagram(\nTerminal('START TRANSACTION'),\nZeroOrMore(\nTerminal('READ ONLY'),\nTerminal('READ WRITE')))\n"}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsx)(i.p,{children:"DDL statements are not supported inside transactions."})}),"\n",(0,s.jsx)(i.p,{children:"Parameters:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"READ WRITE"})," - both read and write operations are allowed in the transaction. Used by default."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"READ ONLY"})," - only read operations are allowed in the transaction."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["You close and commit the transaction by using the ",(0,s.jsx)(i.code,{children:"COMMIT"})," statement:"]}),"\n",(0,s.jsx)(a.A,{children:"\nDiagram(\nTerminal('COMMIT'))\n"}),"\n",(0,s.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,s.jsx)(i.p,{children:"The example below inserts 3 lines into the table in a single transaction, ensuring they will all be committed together:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sql",children:"START TRANSACTION READ WRITE;\n\nINSERT INTO Person (id, name, surname) VALUES (1, 'John', 'Smith');\nINSERT INTO Person (id, name, surname) VALUES (2, 'Jane', 'Smith');\nINSERT INTO Person (id, name, surname) VALUES (3, 'Adam', 'Mason');\n\nCOMMIT;\n"})})]})}function l(t={}){const{wrapper:i}={...(0,n.R)(),...t.components};return i?(0,s.jsx)(i,{...t,children:(0,s.jsx)(w,{...t})}):w(t)}}}]);