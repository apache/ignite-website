"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[7245],{40830:(e,a,s)=>{s.d(a,{lZ:()=>n});var t=s(56347),i=s(44586);function n(){const e=(0,t.zy)(),{siteConfig:a}=(0,i.A)();let s=e.pathname;return"/"!==s&&s.endsWith("/")&&(s=s.slice(0,-1)),`${a.url}${s}`}},52929:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});s(96540);var t=s(19766),i=s(28774),n=s(5260),r=s(40830),c=s(74848);function o(){const e=(0,r.lZ)();return(0,c.jsxs)(t.A,{children:[(0,c.jsxs)(n.A,{children:[(0,c.jsx)("title",{children:"Native Persistence - Apache Ignite"}),(0,c.jsx)("meta",{name:"description",content:"Apache Ignite native persistence is a distributed, ACID, and SQL-compliant disk-based store. It let Ignite store more data on disk than it can cache in memory and to enable fast cluster restarts."}),(0,c.jsx)("link",{rel:"canonical",href:e}),(0,c.jsx)("meta",{property:"og:title",content:"Native Persistence - Apache Ignite"}),(0,c.jsx)("meta",{property:"og:type",content:"article"}),(0,c.jsx)("meta",{property:"og:url",content:e}),(0,c.jsx)("meta",{property:"og:image",content:"/img/og-pic.png"}),(0,c.jsx)("meta",{property:"og:description",content:"Apache Ignite native persistence is a distributed, ACID, and SQL-compliant disk-based store. It let Ignite store more data on disk than it can cache in memory and to enable fast cluster restarts."})]}),(0,c.jsx)("section",{className:"innerhero",children:(0,c.jsxs)("div",{className:"container innerhero__cont",children:[(0,c.jsxs)("div",{className:"innerhero__main",children:[(0,c.jsx)("div",{className:"innerhero__pre pb-3",children:"Apache Ignite 2.x"}),(0,c.jsx)("h1",{className:"h1 innerhero__h1",children:"Native Persistence"}),(0,c.jsxs)("div",{className:"innerhero__descr pt-2 h5",children:["Scale beyond available memory capacity ",(0,c.jsx)("br",{}),"and skip memory warm-ups on restarts"]}),(0,c.jsx)("div",{className:"innerhero__action",children:(0,c.jsx)("a",{className:"button innerhero__button",href:"https://ignite.apache.org/docs/latest/index",children:"Start Coding"})})]}),(0,c.jsx)("img",{className:"innerhero__pic innerhero__pic--native",src:"/img/features/native-header.svg",alt:"Native Persistence"})]})}),(0,c.jsx)("section",{className:"container",style:{padding:"2rem 0"},children:(0,c.jsxs)("div",{style:{background:"#f0f7ff",border:"1px solid #0066cc",borderRadius:"8px",padding:"1rem 1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z",fill:"#0066cc"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{style:{color:"#0066cc"},children:"Apache Ignite 2.x Feature"}),(0,c.jsxs)("p",{style:{margin:"0.25rem 0 0 0",color:"#333"},children:["This feature applies to Apache Ignite 2.x. For current Apache Ignite capabilities, see the ",(0,c.jsx)(i.A,{to:"/features",children:"main features page"}),"."]})]})]})}),(0,c.jsxs)("section",{className:"native1 container flexi",children:[(0,c.jsxs)("div",{className:"native1__block native1__block--bad",children:[(0,c.jsx)("img",{className:"native1__icon",src:"/img/features/smile-doesnt-have.svg",alt:""}),(0,c.jsx)("div",{className:"native1__title fz20 pt-1x",children:"Usually, in-memory caches and databases provide limited persistence capabilities."}),(0,c.jsxs)("p",{className:"pt-2",children:["For instance, some solutions create a backup copy of ",(0,c.jsx)("br",{}),"the in-memory data purely for restart purposes."]})]}),(0,c.jsxs)("div",{className:"native1__block",children:[(0,c.jsx)("img",{className:"native1__icon",src:"/img/features/smile-done.svg",alt:""}),(0,c.jsxs)("div",{className:"native1__title fz20 pt-1x",children:["Ignite persistence doesn't have any limitations. ",(0,c.jsx)("br",{}),"Our native persistence behaves like a classic ",(0,c.jsx)("br",{}),"disk-based database."]})]})]}),(0,c.jsx)("section",{className:"native2 container",children:(0,c.jsxs)("div",{className:"native2__grid",children:[(0,c.jsxs)("article",{className:"native2item",children:[(0,c.jsxs)("h3",{className:"fz20 native2item__title",children:["Scale beyond memory ",(0,c.jsx)("br",{}),"capacity"]}),(0,c.jsx)("p",{className:"pt-1x",children:"100% of data is always stored on disk. You decide how much memory to allocate to your data."})]}),(0,c.jsxs)("article",{className:"native2item",children:[(0,c.jsxs)("h3",{className:"fz20 native2item__title",children:["Just seconds needed ",(0,c.jsx)("br",{}),"for recovery"]}),(0,c.jsx)("p",{className:"pt-1x",children:"Ignite becomes operational from disk instantaneously. There is no need to wait for the data to get preloaded on restarts."})]}),(0,c.jsxs)("article",{className:"native2item",children:[(0,c.jsxs)("h3",{className:"fz20 native2item__title",children:["Query in-memory ",(0,c.jsx)("br",{}),"and on-disk data"]}),(0,c.jsx)("p",{className:"pt-1x",children:"If any record is missing in memory, then Ignite reads it from disk. This is supported for all the APIs including SQL."})]})]})}),(0,c.jsx)("section",{className:"native-howwork container",children:(0,c.jsxs)("div",{className:"native-howwork__wrap flexi",children:[(0,c.jsxs)("div",{className:"native-howwork__left",children:[(0,c.jsx)("h3",{className:"h5",children:"How it works"}),(0,c.jsxs)("div",{className:"native-howwork__text pt-1",children:[(0,c.jsxs)("p",{children:["The native persistence functions as a distributed, ACID, and SQL-compliant disk-based store. It integrates into the Ignite"," ",(0,c.jsx)("a",{href:"/features/multi-tier-storage.html",children:"multi-tier storage"})," as a disk tier."]}),(0,c.jsx)("p",{className:"pt-1",children:"When the native persistence is enabled, Ignite stores a superset of data on disk and caches as much as it can in memory."})]})]}),(0,c.jsxs)("div",{className:"native-howwork__right",children:[(0,c.jsx)("p",{children:"For example"}),(0,c.jsx)("p",{className:"pt-1x",children:"If your application needs to store 200 records in an Ignite cluster and the memory capacity allows caching only 150 records, then all 200 will be stored on disk, out of which 150 will be served from memory while the rest 50 records from disk whenever the application requests them."})]})]})}),(0,c.jsxs)("section",{className:"native-points container",children:[(0,c.jsxs)("h2",{className:"h4",children:["Checkpointing And Write-Ahead Logging ",(0,c.jsx)("br",{}),"Ensure Durability And Consistency Of Data"]}),(0,c.jsxs)("div",{className:"native-points__grid pt-5",children:[(0,c.jsx)("div",{className:"native-points__item fz20",children:(0,c.jsx)("p",{children:"Committed transactions always survive failures"})}),(0,c.jsx)("div",{className:"native-points__item fz20",children:(0,c.jsx)("p",{children:"The cluster can always be recovered to the latest successfully committed transaction"})})]})]}),(0,c.jsx)("section",{className:"native-steps",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("h2",{className:"h4",children:["Three-Step Process To Update Your Data ",(0,c.jsx)("br",{}),"At In-Memory Speed But Not Losing A Bit"]}),(0,c.jsx)("img",{className:"native-steps__pic",src:"/img/features/native-stepspic.svg",alt:""}),(0,c.jsxs)("div",{className:"native-steps__grid",children:[(0,c.jsxs)("article",{className:"nativestepitem",children:[(0,c.jsx)("i",{className:"fz20 pb-1x",children:"01"}),(0,c.jsxs)("div",{className:"nativestepitem__text",children:[(0,c.jsxs)("p",{children:["As soon as the update comes from the application side, a record is updated in memory. Then, the change is added"," ",(0,c.jsx)("a",{href:"https://ignite.apache.org/docs/latest/persistence/native-persistence.html#write-ahead-log",target:"_blank",rel:"noreferrer",children:"to the write-ahead log (WAL)."})]}),(0,c.jsx)("p",{children:"The purpose is to propagate updates to disk in the fastest way possible and provide a consistent recovery mechanism that remediates full cluster failures."})]})]}),(0,c.jsxs)("article",{className:"nativestepitem",children:[(0,c.jsx)("i",{className:"fz20 pb-1x",children:"02"}),(0,c.jsxs)("div",{className:"nativestepitem__text",children:[(0,c.jsx)("p",{children:"As the WAL grows, it periodically gets checkpointed to the main storage."}),(0,c.jsxs)("p",{children:[(0,c.jsx)("a",{href:"https://ignite.apache.org/docs/latest/persistence/native-persistence.html#checkpointing",target:"_blank",rel:"noreferrer",children:"Checkpointing"})," ","is the process of copying dirty pages from the memory tier to the partition files on disk."]}),(0,c.jsx)("p",{className:"nativestepitem__small",children:"A dirty page is a page that has been updated in memory and appended to the WAL, but has not yet been written to the respective partition file on disk."})]})]}),(0,c.jsxs)("article",{className:"nativestepitem",children:[(0,c.jsx)("i",{className:"fz20 pb-1x",children:"03"}),(0,c.jsxs)("div",{className:"nativestepitem__text",children:[(0,c.jsx)("p",{children:"After a while, the information about updates in WAL can be removed, compressed or moved to archive."}),(0,c.jsx)("p",{children:"So you can reuse your disk space."})]})]})]})]})}),(0,c.jsxs)("section",{className:"nativecode container jsTabWrap",children:[(0,c.jsxs)("header",{className:"blockheader blockheader--spl flexi",children:[(0,c.jsx)("h2",{className:"h4 blockheader__left",children:"You Decide Which Data To Persist"}),(0,c.jsx)("div",{className:"blockheader__right fz20",children:(0,c.jsxs)("p",{children:["Toggle a single configuration setting to turn a cluster into a database ",(0,c.jsx)("br",{}),"that scales across memory and disk"]})})]}),(0,c.jsxs)("div",{className:"nativecode__tabctrls flexi",children:[(0,c.jsx)("a",{href:"#","data-tablink":"nativeTabXML",className:"nativecode__link active",children:"XML"}),(0,c.jsx)("a",{href:"#","data-tablink":"nativeTabJava",className:"nativecode__link",children:"Java"}),(0,c.jsx)("a",{href:"#","data-tablink":"nativeTabNET",className:"nativecode__link",children:"C#/.NET"})]}),(0,c.jsxs)("div",{className:"nativecode__tabs",children:[(0,c.jsx)("div",{className:"nativecode__tab active","data-tab":"nativeTabXML",children:(0,c.jsx)("pre",{className:"nativecode__codebox",children:(0,c.jsx)("code",{className:"xml",children:'<bean class="org.apache.ignite.configuration.IgniteConfiguration">\n    <property name="dataStorageConfiguration">\n        <bean class="org.apache.ignite.configuration.DataStorageConfiguration">\n            <property name="defaultDataRegionConfiguration">\n                <bean class="org.apache.ignite.configuration.DataRegionConfiguration">\n                    <property name="persistenceEnabled" value="true"/>\n                </bean>\n            </property>\n        </bean>\n    </property>\n</bean>'})})}),(0,c.jsx)("div",{className:"nativecode__tab","data-tab":"nativeTabJava",children:(0,c.jsx)("pre",{className:"nativecode__codebox",children:(0,c.jsx)("code",{className:"java",children:"IgniteConfiguration cfg = new IgniteConfiguration();\n\nDataStorageConfiguration storageCfg = new DataStorageConfiguration();\n\n// Enable Ignite Persistence\nstorageCfg.getDefaultDataRegionConfiguration().setPersistenceEnabled(true);\n\n// Using the new storage configuration\ncfg.setDataStorageConfiguration(storageCfg);"})})}),(0,c.jsx)("div",{className:"nativecode__tab","data-tab":"nativeTabNET",children:(0,c.jsx)("pre",{className:"nativecode__codebox",children:(0,c.jsx)("code",{className:"csharp",children:'var cfg = new IgniteConfiguration\n{\n    DataStorageConfiguration = new DataStorageConfiguration\n    {\n        DefaultDataRegionConfiguration = new DataRegionConfiguration\n        {\n            Name = "Default_Region",\n            PersistenceEnabled = true\n        }\n    }\n};'})})})]})]}),(0,c.jsx)("section",{className:"native-bottom container",children:(0,c.jsxs)("div",{className:"native-bottom__grid",children:[(0,c.jsxs)("article",{className:"nativebotblock",children:[(0,c.jsxs)("div",{className:"h4 nativebotblock__title",children:[(0,c.jsx)("img",{src:"/img/features/native-rocket.svg",alt:"",className:"nativebotblock__icon"}),(0,c.jsx)("span",{children:"Ready to Start?"})]}),(0,c.jsxs)("p",{className:"nativebotblock__text",children:["Discover more details about native persistence ",(0,c.jsx)("br",{}),"and configure it for your use-case"]}),(0,c.jsx)("a",{className:"nativebotblock__link arrowlink",href:"https://ignite.apache.org/docs/latest/persistence/native-persistence",target:"_blank",rel:"noreferrer",children:"Native Persistence Usage and Configuration"})]}),(0,c.jsxs)("article",{className:"nativebotblock nativebotblock--learn",children:[(0,c.jsxs)("div",{className:"h4 nativebotblock__title",children:[(0,c.jsx)("img",{src:"/img/features/native-docs.svg",alt:"",className:"nativebotblock__icon"}),(0,c.jsx)("span",{children:"Want to Learn More?"})]}),(0,c.jsxs)("p",{className:"nativebotblock__text",children:["Check out the details of native persistence ",(0,c.jsx)("br",{}),"implementation,"," ",(0,c.jsx)("a",{href:"https://www.youtube.com/watch?v=6Yg5QW-XFVc&list=PLMc7NR20hA-I2EfyXeaSRHY5dRFtK_NF0&index=6",target:"_blank",rel:"noreferrer",children:"or watch a video"})]}),(0,c.jsx)("a",{className:"nativebotblock__link arrowlink",href:"https://cwiki.apache.org/confluence/display/IGNITE/Ignite+Persistent+Store+-+under+the+hood",target:"_blank",rel:"noreferrer",children:"Native Persistence Implementation Details"})]})]})})]})}}}]);